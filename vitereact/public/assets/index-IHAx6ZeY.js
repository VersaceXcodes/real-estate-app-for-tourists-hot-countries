var Tx=Object.defineProperty;var Kd=e=>{throw TypeError(e)};var Fx=(e,t,r)=>t in e?Tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gd=(e,t,r)=>Fx(e,typeof t!="symbol"?t+"":t,r),El=(e,t,r)=>t.has(e)||Kd("Cannot "+r);var E=(e,t,r)=>(El(e,t,"read from private field"),r?r.call(e):t.get(e)),se=(e,t,r)=>t.has(e)?Kd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(El(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ie=(e,t,r)=>(El(e,t,"access private method"),r);var Bi=(e,t,r,n)=>({set _(i){K(e,t,i,r)},get _(){return E(e,t,n)}});function Ax(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sm={exports:{}},tl={},rm={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),Ox=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Ux=Symbol.for("react.memo"),Vx=Symbol.for("react.lazy"),Yd=Symbol.iterator;function Hx(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},im=Object.assign,am={};function vn(e,t,r){this.props=e,this.context=t,this.refs=am,this.updater=r||nm}vn.prototype.isReactComponent={};vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lm(){}lm.prototype=vn.prototype;function Tc(e,t,r){this.props=e,this.context=t,this.refs=am,this.updater=r||nm}var Fc=Tc.prototype=new lm;Fc.constructor=Tc;im(Fc,vn.prototype);Fc.isPureReactComponent=!0;var Jd=Array.isArray,om=Object.prototype.hasOwnProperty,Ac={current:null},cm={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)om.call(t,n)&&!cm.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ei,type:e,key:a,ref:l,props:i,_owner:Ac.current}}function Wx(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function Qx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xd=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qx(""+e.key):t.toString(36)}function ia(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ei:case Ox:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Pl(l,0):n,Jd(i)?(r="",e!=null&&(r=e.replace(Xd,"$&/")+"/"),ia(i,t,r,"",function(h){return h})):i!=null&&(Oc(i)&&(i=Wx(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Xd,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Jd(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Pl(a,o);l+=ia(a,t,r,c,i)}else if(c=Hx(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Pl(a,o++),l+=ia(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ii(e,t,r){if(e==null)return e;var n=[],i=0;return ia(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Kx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},aa={transition:null},Gx={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:aa,ReactCurrentOwner:Ac};function um(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ii,forEach:function(e,t,r){Ii(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ii(e,function(){t++}),t},toArray:function(e){return Ii(e,function(t){return t})||[]},only:function(e){if(!Oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=vn;le.Fragment=Mx;le.Profiler=Bx;le.PureComponent=Tc;le.StrictMode=$x;le.Suspense=qx;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;le.act=um;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=im({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Ac.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)om.call(t,c)&&!cm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];n.children=o}return{$$typeof:Ei,type:e.type,key:i,ref:a,props:n,_owner:l}};le.createContext=function(e){return e={$$typeof:Dx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ix,_context:e},e.Consumer=e};le.createElement=dm;le.createFactory=function(e){var t=dm.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:zx,render:e}};le.isValidElement=Oc;le.lazy=function(e){return{$$typeof:Vx,_payload:{_status:-1,_result:e},_init:Kx}};le.memo=function(e,t){return{$$typeof:Ux,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};le.unstable_act=um;le.useCallback=function(e,t){return st.current.useCallback(e,t)};le.useContext=function(e){return st.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return st.current.useDeferredValue(e)};le.useEffect=function(e,t){return st.current.useEffect(e,t)};le.useId=function(){return st.current.useId()};le.useImperativeHandle=function(e,t,r){return st.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return st.current.useMemo(e,t)};le.useReducer=function(e,t,r){return st.current.useReducer(e,t,r)};le.useRef=function(e){return st.current.useRef(e)};le.useState=function(e){return st.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return st.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return st.current.useTransition()};le.version="18.3.1";rm.exports=le;var k=rm.exports;const sl=tm(k),Yx=Ax({__proto__:null,default:sl},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=k,Xx=Symbol.for("react.element"),Zx=Symbol.for("react.fragment"),e0=Object.prototype.hasOwnProperty,t0=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s0={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)e0.call(t,n)&&!s0.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Xx,type:e,key:a,ref:l,props:i,_owner:t0.current}}tl.Fragment=Zx;tl.jsx=hm;tl.jsxs=hm;sm.exports=tl;var s=sm.exports,mm={exports:{}},yt={},pm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(u,m){var S=u.length;u.push(m);e:for(;0<S;){var F=S-1>>>1,X=u[F];if(0<i(X,m))u[F]=m,u[S]=X,S=F;else break e}}function r(u){return u.length===0?null:u[0]}function n(u){if(u.length===0)return null;var m=u[0],S=u.pop();if(S!==m){u[0]=S;e:for(var F=0,X=u.length,pe=X>>>1;F<pe;){var B=2*(F+1)-1,Z=u[B],ye=B+1,fe=u[ye];if(0>i(Z,S))ye<X&&0>i(fe,Z)?(u[F]=fe,u[ye]=S,F=ye):(u[F]=Z,u[B]=S,F=B);else if(ye<X&&0>i(fe,S))u[F]=fe,u[ye]=S,F=ye;else break e}}return m}function i(u,m){var S=u.sortIndex-m.sortIndex;return S!==0?S:u.id-m.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],h=[],p=1,x=null,f=3,w=!1,b=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(u){for(var m=r(h);m!==null;){if(m.callback===null)n(h);else if(m.startTime<=u)n(h),m.sortIndex=m.expirationTime,t(c,m);else break;m=r(h)}}function _(u){if(y=!1,j(u),!b)if(r(c)!==null)b=!0,H(A);else{var m=r(h);m!==null&&Y(_,m.startTime-u)}}function A(u,m){b=!1,y&&(y=!1,v(C),C=-1),w=!0;var S=f;try{for(j(m),x=r(c);x!==null&&(!(x.expirationTime>m)||u&&!R());){var F=x.callback;if(typeof F=="function"){x.callback=null,f=x.priorityLevel;var X=F(x.expirationTime<=m);m=e.unstable_now(),typeof X=="function"?x.callback=X:x===r(c)&&n(c),j(m)}else n(c);x=r(c)}if(x!==null)var pe=!0;else{var B=r(h);B!==null&&Y(_,B.startTime-m),pe=!1}return pe}finally{x=null,f=S,w=!1}}var L=!1,g=null,C=-1,z=5,P=-1;function R(){return!(e.unstable_now()-P<z)}function M(){if(g!==null){var u=e.unstable_now();P=u;var m=!0;try{m=g(!0,u)}finally{m?te():(L=!1,g=null)}}else L=!1}var te;if(typeof d=="function")te=function(){d(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,T=J.port2;J.port1.onmessage=M,te=function(){T.postMessage(null)}}else te=function(){N(M,0)};function H(u){g=u,L||(L=!0,te())}function Y(u,m){C=N(function(){u(e.unstable_now())},m)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(u){u.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,H(A))},e.unstable_forceFrameRate=function(u){0>u||125<u?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<u?Math.floor(1e3/u):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(u){switch(f){case 1:case 2:case 3:var m=3;break;default:m=f}var S=f;f=m;try{return u()}finally{f=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(u,m){switch(u){case 1:case 2:case 3:case 4:case 5:break;default:u=3}var S=f;f=u;try{return m()}finally{f=S}},e.unstable_scheduleCallback=function(u,m,S){var F=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?F+S:F):S=F,u){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=S+X,u={id:p++,callback:m,priorityLevel:u,startTime:S,expirationTime:X,sortIndex:-1},S>F?(u.sortIndex=S,t(h,u),r(c)===null&&u===r(h)&&(y?(v(C),C=-1):y=!0,Y(_,S-F))):(u.sortIndex=X,t(c,u),b||w||(b=!0,H(A))),u},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(u){var m=f;return function(){var S=f;f=m;try{return u.apply(this,arguments)}finally{f=S}}}})(fm);pm.exports=fm;var r0=pm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=k,gt=r0;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xm=new Set,si={};function Cr(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(si[e]=t,e=0;e<t.length;e++)xm.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,i0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zd={},eu={};function a0(e){return co.call(eu,e)?!0:co.call(Zd,e)?!1:i0.test(e)?eu[e]=!0:(Zd[e]=!0,!1)}function l0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o0(e,t,r,n){if(t===null||typeof t>"u"||l0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mc=/[\-:]([a-z])/g;function $c(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mc,$c);Ue[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mc,$c);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mc,$c);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bc(e,t,r,n){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o0(t,r,i,n)&&(r=null),n||i===null?a0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xs=n0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Di=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),vm=Symbol.for("react.offscreen"),tu=Symbol.iterator;function Ln(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Rl;function zn(e){if(Rl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Ll=!1;function Tl(e,t){if(!e||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zn(e):""}function c0(e){switch(e.tag){case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 2:case 15:return e=Tl(e.type,!1),e;case 11:return e=Tl(e.type.render,!1),e;case 1:return e=Tl(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Tr:return"Portal";case uo:return"Profiler";case Ic:return"StrictMode";case ho:return"Suspense";case mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ym:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function d0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u0(e){var t=bm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){e._valueTracker||(e._valueTracker=u0(e))}function jm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fo(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function su(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _m(e,t){t=t.checked,t!=null&&Bc(e,"checked",t,!1)}function xo(e,t){_m(e,t);var r=Gs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?go(e,t.type,r):t.hasOwnProperty("defaultValue")&&go(e,t.type,Gs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ru(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function go(e,t,r){(t!=="number"||Sa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qn=Array.isArray;function Vr(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(qn(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gs(r)}}function Nm(e,t){var r=Gs(t.value),n=Gs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h0=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){h0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function Sm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function Cm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Sm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var m0=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(e,t){if(t){if(m0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=null;function qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Hr=null,Wr=null;function au(e){if(e=Li(e)){if(typeof No!="function")throw Error(V(280));var t=e.stateNode;t&&(t=ll(t),No(e.stateNode,e.type,t))}}function Em(e){Hr?Wr?Wr.push(e):Wr=[e]:Hr=e}function Pm(){if(Hr){var e=Hr,t=Wr;if(Wr=Hr=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function Rm(e,t){return e(t)}function Lm(){}var Fl=!1;function Tm(e,t,r){if(Fl)return e(t,r);Fl=!0;try{return Rm(e,t,r)}finally{Fl=!1,(Hr!==null||Wr!==null)&&(Lm(),Pm())}}function ni(e,t){var r=e.stateNode;if(r===null)return null;var n=ll(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var wo=!1;if(hs)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{wo=!1}function p0(e,t,r,n,i,a,l,o,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(p){this.onError(p)}}var Kn=!1,Ca=null,Ea=!1,ko=null,f0={onError:function(e){Kn=!0,Ca=e}};function x0(e,t,r,n,i,a,l,o,c){Kn=!1,Ca=null,p0.apply(f0,arguments)}function g0(e,t,r,n,i,a,l,o,c){if(x0.apply(this,arguments),Kn){if(Kn){var h=Ca;Kn=!1,Ca=null}else throw Error(V(198));Ea||(Ea=!0,ko=h)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Fm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(Er(e)!==e)throw Error(V(188))}function y0(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lu(i),e;if(a===n)return lu(i),t;a=a.sibling}throw Error(V(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Am(e){return e=y0(e),e!==null?Om(e):null}function Om(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Om(e);if(t!==null)return t;e=e.sibling}return null}var Mm=gt.unstable_scheduleCallback,ou=gt.unstable_cancelCallback,v0=gt.unstable_shouldYield,b0=gt.unstable_requestPaint,Ee=gt.unstable_now,j0=gt.unstable_getCurrentPriorityLevel,Uc=gt.unstable_ImmediatePriority,$m=gt.unstable_UserBlockingPriority,Pa=gt.unstable_NormalPriority,_0=gt.unstable_LowPriority,Bm=gt.unstable_IdlePriority,rl=null,Zt=null;function N0(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:S0,w0=Math.log,k0=Math.LN2;function S0(e){return e>>>=0,e===0?32:31-(w0(e)/k0|0)|0}var Ui=64,Vi=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=Un(o):(a&=l,a!==0&&(n=Un(a)))}else l=r&~i,l!==0?n=Un(l):a!==0&&(n=Un(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dt(t),i=1<<r,n|=e[r],t&=~i;return n}function C0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Dt(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&n)&&(i[l]=C0(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Im(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function Al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function P0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Dt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Vc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var me=0;function Dm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zm,Hc,qm,Um,Vm,Co=!1,Hi=[],Bs=null,Is=null,Ds=null,ii=new Map,ai=new Map,Ns=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(t.pointerId)}}function Fn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Li(t),t!==null&&Hc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function L0(e,t,r,n,i){switch(t){case"focusin":return Bs=Fn(Bs,e,t,r,n,i),!0;case"dragenter":return Is=Fn(Is,e,t,r,n,i),!0;case"mouseover":return Ds=Fn(Ds,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ii.set(a,Fn(ii.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ai.set(a,Fn(ai.get(a)||null,e,t,r,n,i)),!0}return!1}function Hm(e){var t=nr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=Fm(r),t!==null){e.blockedOn=t,Vm(e.priority,function(){qm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_o=n,r.target.dispatchEvent(n),_o=null}else return t=Li(r),t!==null&&Hc(t),e.blockedOn=r,!1;t.shift()}return!0}function du(e,t,r){la(e)&&r.delete(t)}function T0(){Co=!1,Bs!==null&&la(Bs)&&(Bs=null),Is!==null&&la(Is)&&(Is=null),Ds!==null&&la(Ds)&&(Ds=null),ii.forEach(du),ai.forEach(du)}function An(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,T0)))}function li(e){function t(i){return An(i,e)}if(0<Hi.length){An(Hi[0],e);for(var r=1;r<Hi.length;r++){var n=Hi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bs!==null&&An(Bs,e),Is!==null&&An(Is,e),Ds!==null&&An(Ds,e),ii.forEach(t),ai.forEach(t),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)Hm(r),r.blockedOn===null&&Ns.shift()}var Qr=xs.ReactCurrentBatchConfig,La=!0;function F0(e,t,r,n){var i=me,a=Qr.transition;Qr.transition=null;try{me=1,Wc(e,t,r,n)}finally{me=i,Qr.transition=a}}function A0(e,t,r,n){var i=me,a=Qr.transition;Qr.transition=null;try{me=4,Wc(e,t,r,n)}finally{me=i,Qr.transition=a}}function Wc(e,t,r,n){if(La){var i=Eo(e,t,r,n);if(i===null)Vl(e,t,n,Ta,r),cu(e,n);else if(L0(i,e,t,r,n))n.stopPropagation();else if(cu(e,n),t&4&&-1<R0.indexOf(e)){for(;i!==null;){var a=Li(i);if(a!==null&&zm(a),a=Eo(e,t,r,n),a===null&&Vl(e,t,n,Ta,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vl(e,t,n,null,r)}}var Ta=null;function Eo(e,t,r,n){if(Ta=null,e=qc(n),e=nr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Fm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function Wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case Uc:return 1;case $m:return 4;case Pa:case _0:return 16;case Bm:return 536870912;default:return 16}default:return 16}}var Os=null,Qc=null,oa=null;function Qm(){if(oa)return oa;var e,t=Qc,r=t.length,n,i="value"in Os?Os.value:Os.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return oa=i.slice(e,1<n?1-n:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function uu(){return!1}function vt(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wi:uu,this.isPropagationStopped=uu,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=vt(bn),Ri=we({},bn,{view:0,detail:0}),O0=vt(Ri),Ol,Ml,On,nl=we({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(Ol=e.screenX-On.screenX,Ml=e.screenY-On.screenY):Ml=Ol=0,On=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),hu=vt(nl),M0=we({},nl,{dataTransfer:0}),$0=vt(M0),B0=we({},Ri,{relatedTarget:0}),$l=vt(B0),I0=we({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=vt(I0),z0=we({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q0=vt(z0),U0=we({},bn,{data:0}),mu=vt(U0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function Gc(){return Q0}var K0=we({},Ri,{key:function(e){if(e.key){var t=V0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G0=vt(K0),Y0=we({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=vt(Y0),J0=we({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),X0=vt(J0),Z0=we({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=vt(Z0),tg=we({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sg=vt(tg),rg=[9,13,27,32],Yc=hs&&"CompositionEvent"in window,Gn=null;hs&&"documentMode"in document&&(Gn=document.documentMode);var ng=hs&&"TextEvent"in window&&!Gn,Km=hs&&(!Yc||Gn&&8<Gn&&11>=Gn),fu=" ",xu=!1;function Gm(e,t){switch(e){case"keyup":return rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function ig(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(xu=!0,fu);case"textInput":return e=t.data,e===fu&&xu?null:e;default:return null}}function ag(e,t){if(Ar)return e==="compositionend"||!Yc&&Gm(e,t)?(e=Qm(),oa=Qc=Os=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Km&&t.locale!=="ko"?null:t.data;default:return null}}var lg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lg[e.type]:t==="textarea"}function Jm(e,t,r,n){Em(n),t=Fa(t,"onChange"),0<t.length&&(r=new Kc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yn=null,oi=null;function og(e){op(e,0)}function il(e){var t=$r(e);if(jm(t))return e}function cg(e,t){if(e==="change")return t}var Xm=!1;if(hs){var Bl;if(hs){var Il="oninput"in document;if(!Il){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),Il=typeof yu.oninput=="function"}Bl=Il}else Bl=!1;Xm=Bl&&(!document.documentMode||9<document.documentMode)}function vu(){Yn&&(Yn.detachEvent("onpropertychange",Zm),oi=Yn=null)}function Zm(e){if(e.propertyName==="value"&&il(oi)){var t=[];Jm(t,oi,e,qc(e)),Tm(og,t)}}function dg(e,t,r){e==="focusin"?(vu(),Yn=t,oi=r,Yn.attachEvent("onpropertychange",Zm)):e==="focusout"&&vu()}function ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(oi)}function hg(e,t){if(e==="click")return il(t)}function mg(e,t){if(e==="input"||e==="change")return il(t)}function pg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:pg;function ci(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!co.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ju(e,t){var r=bu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bu(r)}}function ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tp(){for(var e=window,t=Sa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sa(e.document)}return t}function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fg(e){var t=tp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ep(r.ownerDocument.documentElement,r)){if(n!==null&&Jc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=ju(r,a);var l=ju(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xg=hs&&"documentMode"in document&&11>=document.documentMode,Or=null,Po=null,Jn=null,Ro=!1;function _u(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ro||Or==null||Or!==Sa(n)||(n=Or,"selectionStart"in n&&Jc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jn&&ci(Jn,n)||(Jn=n,n=Fa(Po,"onSelect"),0<n.length&&(t=new Kc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Or)))}function Qi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},Dl={},sp={};hs&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function al(e){if(Dl[e])return Dl[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sp)return Dl[e]=t[r];return e}var rp=al("animationend"),np=al("animationiteration"),ip=al("animationstart"),ap=al("transitionend"),lp=new Map,Nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){lp.set(e,t),Cr(t,[e])}for(var zl=0;zl<Nu.length;zl++){var ql=Nu[zl],gg=ql.toLowerCase(),yg=ql[0].toUpperCase()+ql.slice(1);Js(gg,"on"+yg)}Js(rp,"onAnimationEnd");Js(np,"onAnimationIteration");Js(ip,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(ap,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function wu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,g0(n,t,void 0,e),e.currentTarget=null}function op(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;wu(i,o,h),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;wu(i,o,h),a=c}}}if(Ea)throw e=ko,Ea=!1,ko=null,e}function ve(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var n=e+"__bubble";r.has(n)||(cp(t,e,2,!1),r.add(n))}function Ul(e,t,r){var n=0;t&&(n|=4),cp(r,e,n,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[Ki]){e[Ki]=!0,xm.forEach(function(r){r!=="selectionchange"&&(vg.has(r)||Ul(r,!1,e),Ul(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,Ul("selectionchange",!1,t))}}function cp(e,t,r,n){switch(Wm(t)){case 1:var i=F0;break;case 4:i=A0;break;default:i=Wc}r=i.bind(null,t,r,e),i=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vl(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=nr(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}Tm(function(){var h=a,p=qc(r),x=[];e:{var f=lp.get(e);if(f!==void 0){var w=Kc,b=e;switch(e){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":w=G0;break;case"focusin":b="focus",w=$l;break;case"focusout":b="blur",w=$l;break;case"beforeblur":case"afterblur":w=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=X0;break;case rp:case np:case ip:w=D0;break;case ap:w=eg;break;case"scroll":w=O0;break;case"wheel":w=sg;break;case"copy":case"cut":case"paste":w=q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=pu}var y=(t&4)!==0,N=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var d=h,j;d!==null;){j=d;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,v!==null&&(_=ni(d,v),_!=null&&y.push(ui(d,_,j)))),N)break;d=d.return}0<y.length&&(f=new w(f,b,null,r,p),x.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&r!==_o&&(b=r.relatedTarget||r.fromElement)&&(nr(b)||b[ms]))break e;if((w||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=h,b=b?nr(b):null,b!==null&&(N=Er(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=h),w!==b)){if(y=hu,_="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=pu,_="onPointerLeave",v="onPointerEnter",d="pointer"),N=w==null?f:$r(w),j=b==null?f:$r(b),f=new y(_,d+"leave",w,r,p),f.target=N,f.relatedTarget=j,_=null,nr(p)===h&&(y=new y(v,d+"enter",b,r,p),y.target=j,y.relatedTarget=N,_=y),N=_,w&&b)t:{for(y=w,v=b,d=0,j=y;j;j=Lr(j))d++;for(j=0,_=v;_;_=Lr(_))j++;for(;0<d-j;)y=Lr(y),d--;for(;0<j-d;)v=Lr(v),j--;for(;d--;){if(y===v||v!==null&&y===v.alternate)break t;y=Lr(y),v=Lr(v)}y=null}else y=null;w!==null&&ku(x,f,w,y,!1),b!==null&&N!==null&&ku(x,N,b,y,!0)}}e:{if(f=h?$r(h):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var A=cg;else if(gu(f))if(Xm)A=mg;else{A=ug;var L=dg}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=hg);if(A&&(A=A(e,h))){Jm(x,A,r,p);break e}L&&L(e,f,h),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&go(f,"number",f.value)}switch(L=h?$r(h):window,e){case"focusin":(gu(L)||L.contentEditable==="true")&&(Or=L,Po=h,Jn=null);break;case"focusout":Jn=Po=Or=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,_u(x,r,p);break;case"selectionchange":if(xg)break;case"keydown":case"keyup":_u(x,r,p)}var g;if(Yc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ar?Gm(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Km&&r.locale!=="ko"&&(Ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ar&&(g=Qm()):(Os=p,Qc="value"in Os?Os.value:Os.textContent,Ar=!0)),L=Fa(h,C),0<L.length&&(C=new mu(C,e,null,r,p),x.push({event:C,listeners:L}),g?C.data=g:(g=Ym(r),g!==null&&(C.data=g)))),(g=ng?ig(e,r):ag(e,r))&&(h=Fa(h,"onBeforeInput"),0<h.length&&(p=new mu("onBeforeInput","beforeinput",null,r,p),x.push({event:p,listeners:h}),p.data=g))}op(x,t)})}function ui(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ni(e,r),a!=null&&n.unshift(ui(e,a,i)),a=ni(e,t),a!=null&&n.push(ui(e,a,i))),e=e.return}return n}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ku(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,h=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&h!==null&&(o=h,i?(c=ni(r,a),c!=null&&l.unshift(ui(r,c,o))):i||(c=ni(r,a),c!=null&&l.push(ui(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var bg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(bg,`
`).replace(jg,"")}function Gi(e,t,r){if(t=Su(t),Su(e)!==t&&r)throw Error(V(425))}function Aa(){}var Lo=null,To=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Ng=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(wg)}:Ao;function wg(e){setTimeout(function(){throw e})}function Hl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),li(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);li(t)}function zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+jn,hi="__reactProps$"+jn,ms="__reactContainer$"+jn,Oo="__reactEvents$"+jn,kg="__reactListeners$"+jn,Sg="__reactHandles$"+jn;function nr(e){var t=e[Xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ms]||r[Xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eu(e);e!==null;){if(r=e[Xt])return r;e=Eu(e)}return t}e=r,r=e.parentNode}return null}function Li(e){return e=e[Xt]||e[ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function ll(e){return e[hi]||null}var Mo=[],Br=-1;function Xs(e){return{current:e}}function be(e){0>Br||(e.current=Mo[Br],Mo[Br]=null,Br--)}function ge(e,t){Br++,Mo[Br]=e.current,e.current=t}var Ys={},Ke=Xs(Ys),ct=Xs(!1),vr=Ys;function hn(e,t){var r=e.type.contextTypes;if(!r)return Ys;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dt(e){return e=e.childContextTypes,e!=null}function Oa(){be(ct),be(Ke)}function Pu(e,t,r){if(Ke.current!==Ys)throw Error(V(168));ge(Ke,t),ge(ct,r)}function dp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(V(108,d0(e)||"Unknown",i));return we({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,vr=Ke.current,ge(Ke,e),ge(ct,ct.current),!0}function Ru(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=dp(e,t,vr),n.__reactInternalMemoizedMergedChildContext=e,be(ct),be(Ke),ge(Ke,e)):be(ct),ge(ct,r)}var is=null,ol=!1,Wl=!1;function up(e){is===null?is=[e]:is.push(e)}function Cg(e){ol=!0,up(e)}function Zs(){if(!Wl&&is!==null){Wl=!0;var e=0,t=me;try{var r=is;for(me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}is=null,ol=!1}catch(i){throw is!==null&&(is=is.slice(e+1)),Mm(Uc,Zs),i}finally{me=t,Wl=!1}}return null}var Ir=[],Dr=0,$a=null,Ba=0,wt=[],kt=0,br=null,os=1,cs="";function sr(e,t){Ir[Dr++]=Ba,Ir[Dr++]=$a,$a=e,Ba=t}function hp(e,t,r){wt[kt++]=os,wt[kt++]=cs,wt[kt++]=br,br=e;var n=os;e=cs;var i=32-Dt(n)-1;n&=~(1<<i),r+=1;var a=32-Dt(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,os=1<<32-Dt(t)+i|r<<i|n,cs=a+e}else os=1<<a|r<<i|n,cs=e}function Xc(e){e.return!==null&&(sr(e,1),hp(e,1,0))}function Zc(e){for(;e===$a;)$a=Ir[--Dr],Ir[Dr]=null,Ba=Ir[--Dr],Ir[Dr]=null;for(;e===br;)br=wt[--kt],wt[kt]=null,cs=wt[--kt],wt[kt]=null,os=wt[--kt],wt[kt]=null}var xt=null,ft=null,je=!1,It=null;function mp(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,ft=zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=br!==null?{id:os,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,ft=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bo(e){if(je){var t=ft;if(t){var r=t;if(!Lu(e,t)){if($o(e))throw Error(V(418));t=zs(r.nextSibling);var n=xt;t&&Lu(e,t)?mp(n,r):(e.flags=e.flags&-4097|2,je=!1,xt=e)}}else{if($o(e))throw Error(V(418));e.flags=e.flags&-4097|2,je=!1,xt=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Yi(e){if(e!==xt)return!1;if(!je)return Tu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=ft)){if($o(e))throw pp(),Error(V(418));for(;t;)mp(e,t),t=zs(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ft=zs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=xt?zs(e.stateNode.nextSibling):null;return!0}function pp(){for(var e=ft;e;)e=zs(e.nextSibling)}function mn(){ft=xt=null,je=!1}function ed(e){It===null?It=[e]:It.push(e)}var Eg=xs.ReactCurrentBatchConfig;function Mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fu(e){var t=e._init;return t(e._payload)}function fp(e){function t(v,d){if(e){var j=v.deletions;j===null?(v.deletions=[d],v.flags|=16):j.push(d)}}function r(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function n(v,d){for(v=new Map;d!==null;)d.key!==null?v.set(d.key,d):v.set(d.index,d),d=d.sibling;return v}function i(v,d){return v=Hs(v,d),v.index=0,v.sibling=null,v}function a(v,d,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<d?(v.flags|=2,d):j):(v.flags|=2,d)):(v.flags|=1048576,d)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,d,j,_){return d===null||d.tag!==6?(d=Zl(j,v.mode,_),d.return=v,d):(d=i(d,j),d.return=v,d)}function c(v,d,j,_){var A=j.type;return A===Fr?p(v,d,j.props.children,_,j.key):d!==null&&(d.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===js&&Fu(A)===d.type)?(_=i(d,j.props),_.ref=Mn(v,d,j),_.return=v,_):(_=xa(j.type,j.key,j.props,null,v.mode,_),_.ref=Mn(v,d,j),_.return=v,_)}function h(v,d,j,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==j.containerInfo||d.stateNode.implementation!==j.implementation?(d=eo(j,v.mode,_),d.return=v,d):(d=i(d,j.children||[]),d.return=v,d)}function p(v,d,j,_,A){return d===null||d.tag!==7?(d=gr(j,v.mode,_,A),d.return=v,d):(d=i(d,j),d.return=v,d)}function x(v,d,j){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Zl(""+d,v.mode,j),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Di:return j=xa(d.type,d.key,d.props,null,v.mode,j),j.ref=Mn(v,null,d),j.return=v,j;case Tr:return d=eo(d,v.mode,j),d.return=v,d;case js:var _=d._init;return x(v,_(d._payload),j)}if(qn(d)||Ln(d))return d=gr(d,v.mode,j,null),d.return=v,d;Ji(v,d)}return null}function f(v,d,j,_){var A=d!==null?d.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return A!==null?null:o(v,d,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Di:return j.key===A?c(v,d,j,_):null;case Tr:return j.key===A?h(v,d,j,_):null;case js:return A=j._init,f(v,d,A(j._payload),_)}if(qn(j)||Ln(j))return A!==null?null:p(v,d,j,_,null);Ji(v,j)}return null}function w(v,d,j,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(j)||null,o(d,v,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Di:return v=v.get(_.key===null?j:_.key)||null,c(d,v,_,A);case Tr:return v=v.get(_.key===null?j:_.key)||null,h(d,v,_,A);case js:var L=_._init;return w(v,d,j,L(_._payload),A)}if(qn(_)||Ln(_))return v=v.get(j)||null,p(d,v,_,A,null);Ji(d,_)}return null}function b(v,d,j,_){for(var A=null,L=null,g=d,C=d=0,z=null;g!==null&&C<j.length;C++){g.index>C?(z=g,g=null):z=g.sibling;var P=f(v,g,j[C],_);if(P===null){g===null&&(g=z);break}e&&g&&P.alternate===null&&t(v,g),d=a(P,d,C),L===null?A=P:L.sibling=P,L=P,g=z}if(C===j.length)return r(v,g),je&&sr(v,C),A;if(g===null){for(;C<j.length;C++)g=x(v,j[C],_),g!==null&&(d=a(g,d,C),L===null?A=g:L.sibling=g,L=g);return je&&sr(v,C),A}for(g=n(v,g);C<j.length;C++)z=w(g,v,C,j[C],_),z!==null&&(e&&z.alternate!==null&&g.delete(z.key===null?C:z.key),d=a(z,d,C),L===null?A=z:L.sibling=z,L=z);return e&&g.forEach(function(R){return t(v,R)}),je&&sr(v,C),A}function y(v,d,j,_){var A=Ln(j);if(typeof A!="function")throw Error(V(150));if(j=A.call(j),j==null)throw Error(V(151));for(var L=A=null,g=d,C=d=0,z=null,P=j.next();g!==null&&!P.done;C++,P=j.next()){g.index>C?(z=g,g=null):z=g.sibling;var R=f(v,g,P.value,_);if(R===null){g===null&&(g=z);break}e&&g&&R.alternate===null&&t(v,g),d=a(R,d,C),L===null?A=R:L.sibling=R,L=R,g=z}if(P.done)return r(v,g),je&&sr(v,C),A;if(g===null){for(;!P.done;C++,P=j.next())P=x(v,P.value,_),P!==null&&(d=a(P,d,C),L===null?A=P:L.sibling=P,L=P);return je&&sr(v,C),A}for(g=n(v,g);!P.done;C++,P=j.next())P=w(g,v,C,P.value,_),P!==null&&(e&&P.alternate!==null&&g.delete(P.key===null?C:P.key),d=a(P,d,C),L===null?A=P:L.sibling=P,L=P);return e&&g.forEach(function(M){return t(v,M)}),je&&sr(v,C),A}function N(v,d,j,_){if(typeof j=="object"&&j!==null&&j.type===Fr&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Di:e:{for(var A=j.key,L=d;L!==null;){if(L.key===A){if(A=j.type,A===Fr){if(L.tag===7){r(v,L.sibling),d=i(L,j.props.children),d.return=v,v=d;break e}}else if(L.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===js&&Fu(A)===L.type){r(v,L.sibling),d=i(L,j.props),d.ref=Mn(v,L,j),d.return=v,v=d;break e}r(v,L);break}else t(v,L);L=L.sibling}j.type===Fr?(d=gr(j.props.children,v.mode,_,j.key),d.return=v,v=d):(_=xa(j.type,j.key,j.props,null,v.mode,_),_.ref=Mn(v,d,j),_.return=v,v=_)}return l(v);case Tr:e:{for(L=j.key;d!==null;){if(d.key===L)if(d.tag===4&&d.stateNode.containerInfo===j.containerInfo&&d.stateNode.implementation===j.implementation){r(v,d.sibling),d=i(d,j.children||[]),d.return=v,v=d;break e}else{r(v,d);break}else t(v,d);d=d.sibling}d=eo(j,v.mode,_),d.return=v,v=d}return l(v);case js:return L=j._init,N(v,d,L(j._payload),_)}if(qn(j))return b(v,d,j,_);if(Ln(j))return y(v,d,j,_);Ji(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,d!==null&&d.tag===6?(r(v,d.sibling),d=i(d,j),d.return=v,v=d):(r(v,d),d=Zl(j,v.mode,_),d.return=v,v=d),l(v)):r(v,d)}return N}var pn=fp(!0),xp=fp(!1),Ia=Xs(null),Da=null,zr=null,td=null;function sd(){td=zr=Da=null}function rd(e){var t=Ia.current;be(Ia),e._currentValue=t}function Io(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){Da=e,td=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(Da===null)throw Error(V(308));zr=e,Da.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var ir=null;function nd(e){ir===null?ir=[e]:ir.push(e)}function gp(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,nd(t)):(r.next=i.next,i.next=r),t.interleaved=r,ps(e,n)}function ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _s=!1;function id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ps(e,r)}return i=n.interleaved,i===null?(t.next=t,nd(n)):(t.next=i.next,i.next=t),n.interleaved=t,ps(e,r)}function da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vc(e,r)}}function Au(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function za(e,t,r,n){var i=e.updateQueue;_s=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?a=h:l.next=h,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=c))}if(a!==null){var x=i.baseState;l=0,p=h=c=null,o=a;do{var f=o.lane,w=o.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,y=o;switch(f=t,w=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){x=b.call(w,x,f);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,f=typeof b=="function"?b.call(w,x,f):b,f==null)break e;x=we({},x,f);break e;case 2:_s=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else w={eventTime:w,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=w,c=x):p=p.next=w,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(c=x),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);_r|=l,e.lanes=l,e.memoizedState=x}}function Ou(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(V(191,i));i.call(n)}}}var Ti={},es=Xs(Ti),mi=Xs(Ti),pi=Xs(Ti);function ar(e){if(e===Ti)throw Error(V(174));return e}function ad(e,t){switch(ge(pi,t),ge(mi,e),ge(es,Ti),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}be(es),ge(es,t)}function fn(){be(es),be(mi),be(pi)}function vp(e){ar(pi.current);var t=ar(es.current),r=vo(t,e.type);t!==r&&(ge(mi,e),ge(es,r))}function ld(e){mi.current===e&&(be(es),be(mi))}var _e=Xs(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function od(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ua=xs.ReactCurrentDispatcher,Kl=xs.ReactCurrentBatchConfig,jr=0,Ne=null,Fe=null,Be=null,Ua=!1,Xn=!1,fi=0,Pg=0;function Ve(){throw Error(V(321))}function cd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function dd(e,t,r,n,i,a){if(jr=a,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?Fg:Ag,e=r(n,i),Xn){a=0;do{if(Xn=!1,fi=0,25<=a)throw Error(V(301));a+=1,Be=Fe=null,t.updateQueue=null,ua.current=Og,e=r(n,i)}while(Xn)}if(ua.current=Va,t=Fe!==null&&Fe.next!==null,jr=0,Be=Fe=Ne=null,Ua=!1,t)throw Error(V(300));return e}function ud(){var e=fi!==0;return fi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ne.memoizedState=Be=e:Be=Be.next=e,Be}function Rt(){if(Fe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Be===null?Ne.memoizedState:Be.next;if(t!==null)Be=t,Fe=e;else{if(e===null)throw Error(V(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Be===null?Ne.memoizedState=Be=e:Be=Be.next=e}return Be}function xi(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=Fe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,h=a;do{var p=h.lane;if((jr&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var x={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(o=c=x,l=n):c=c.next=x,Ne.lanes|=p,_r|=p}h=h.next}while(h!==null&&h!==a);c===null?l=n:c.next=o,qt(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ne.lanes|=a,_r|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);qt(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function bp(){}function jp(e,t){var r=Ne,n=Rt(),i=t(),a=!qt(n.memoizedState,i);if(a&&(n.memoizedState=i,ot=!0),n=n.queue,hd(wp.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,gi(9,Np.bind(null,r,n,i,t),void 0,null),Ie===null)throw Error(V(349));jr&30||_p(r,t,i)}return i}function _p(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Np(e,t,r,n){t.value=r,t.getSnapshot=n,kp(t)&&Sp(e)}function wp(e,t,r){return r(function(){kp(t)&&Sp(e)})}function kp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch{return!0}}function Sp(e){var t=ps(e,1);t!==null&&zt(t,e,1,-1)}function Mu(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Tg.bind(null,Ne,e),[t.memoizedState,e]}function gi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cp(){return Rt().memoizedState}function ha(e,t,r,n){var i=Kt();Ne.flags|=e,i.memoizedState=gi(1|t,r,void 0,n===void 0?null:n)}function cl(e,t,r,n){var i=Rt();n=n===void 0?null:n;var a=void 0;if(Fe!==null){var l=Fe.memoizedState;if(a=l.destroy,n!==null&&cd(n,l.deps)){i.memoizedState=gi(t,r,a,n);return}}Ne.flags|=e,i.memoizedState=gi(1|t,r,a,n)}function $u(e,t){return ha(8390656,8,e,t)}function hd(e,t){return cl(2048,8,e,t)}function Ep(e,t){return cl(4,2,e,t)}function Pp(e,t){return cl(4,4,e,t)}function Rp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lp(e,t,r){return r=r!=null?r.concat([e]):null,cl(4,4,Rp.bind(null,t,e),r)}function md(){}function Tp(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fp(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ap(e,t,r){return jr&21?(qt(r,t)||(r=Im(),Ne.lanes|=r,_r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function Rg(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var n=Kl.transition;Kl.transition={};try{e(!1),t()}finally{me=r,Kl.transition=n}}function Op(){return Rt().memoizedState}function Lg(e,t,r){var n=Vs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mp(e))$p(t,r);else if(r=gp(e,t,r,n),r!==null){var i=tt();zt(r,e,n,i),Bp(r,t,n)}}function Tg(e,t,r){var n=Vs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mp(e))$p(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,qt(o,l)){var c=t.interleaved;c===null?(i.next=i,nd(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=gp(e,t,i,n),r!==null&&(i=tt(),zt(r,e,n,i),Bp(r,t,n))}}function Mp(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function $p(e,t){Xn=Ua=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vc(e,r)}}var Va={readContext:Pt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Fg={readContext:Pt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:$u,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ha(4194308,4,Rp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var r=Kt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Lg.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:md,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=Rg.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ne,i=Kt();if(je){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),Ie===null)throw Error(V(349));jr&30||_p(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,$u(wp.bind(null,n,a,e),[e]),n.flags|=2048,gi(9,Np.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(je){var r=cs,n=os;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ag={readContext:Pt,useCallback:Tp,useContext:Pt,useEffect:hd,useImperativeHandle:Lp,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Fp,useReducer:Gl,useRef:Cp,useState:function(){return Gl(xi)},useDebugValue:md,useDeferredValue:function(e){var t=Rt();return Ap(t,Fe.memoizedState,e)},useTransition:function(){var e=Gl(xi)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bp,useSyncExternalStore:jp,useId:Op,unstable_isNewReconciler:!1},Og={readContext:Pt,useCallback:Tp,useContext:Pt,useEffect:hd,useImperativeHandle:Lp,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Fp,useReducer:Yl,useRef:Cp,useState:function(){return Yl(xi)},useDebugValue:md,useDeferredValue:function(e){var t=Rt();return Fe===null?t.memoizedState=e:Ap(t,Fe.memoizedState,e)},useTransition:function(){var e=Yl(xi)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bp,useSyncExternalStore:jp,useId:Op,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Do(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dl={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tt(),i=Vs(e),a=ds(n,i);a.payload=t,r!=null&&(a.callback=r),t=qs(e,a,i),t!==null&&(zt(t,e,i,n),da(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tt(),i=Vs(e),a=ds(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=qs(e,a,i),t!==null&&(zt(t,e,i,n),da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tt(),n=Vs(e),i=ds(r,n);i.tag=2,t!=null&&(i.callback=t),t=qs(e,i,n),t!==null&&(zt(t,e,n,r),da(t,e,n))}};function Bu(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!ci(r,n)||!ci(i,a):!0}function Ip(e,t,r){var n=!1,i=Ys,a=t.contextType;return typeof a=="object"&&a!==null?a=Pt(a):(i=dt(t)?vr:Ke.current,n=t.contextTypes,a=(n=n!=null)?hn(e,i):Ys),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Iu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dl.enqueueReplaceState(t,t.state,null)}function zo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},id(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Pt(a):(a=dt(t)?vr:Ke.current,i.context=hn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Do(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dl.enqueueReplaceState(i,i.state,null),za(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xn(e,t){try{var r="",n=t;do r+=c0(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Jl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function Dp(e,t,r){r=ds(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wa||(Wa=!0,Xo=n),qo(e,t)},r}function zp(e,t,r){r=ds(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){qo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qo(e,t),typeof n!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Du(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Yg.bind(null,e,t,r),t.then(e,e))}function zu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qu(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ds(-1,1),t.tag=2,qs(r,t,1))),r.lanes|=1),e)}var $g=xs.ReactCurrentOwner,ot=!1;function Ze(e,t,r,n){t.child=e===null?xp(t,null,r,n):pn(t,e.child,r,n)}function Uu(e,t,r,n,i){r=r.render;var a=t.ref;return Kr(t,i),n=dd(e,t,r,n,a,i),r=ud(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(je&&r&&Xc(t),t.flags|=1,Ze(e,t,n,i),t.child)}function Vu(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!jd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,qp(e,t,a,n,i)):(e=xa(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:ci,r(l,n)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,e=Hs(a,n),e.ref=t.ref,e.return=t,t.child=e}function qp(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ci(a,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,fs(e,t,i)}return Uo(e,t,r,n,i)}function Up(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Ur,pt),pt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Ur,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ge(Ur,pt),pt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ge(Ur,pt),pt|=n;return Ze(e,t,i,r),t.child}function Vp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,r,n,i){var a=dt(r)?vr:Ke.current;return a=hn(t,a),Kr(t,i),r=dd(e,t,r,n,a,i),n=ud(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(je&&n&&Xc(t),t.flags|=1,Ze(e,t,r,i),t.child)}function Hu(e,t,r,n,i){if(dt(r)){var a=!0;Ma(t)}else a=!1;if(Kr(t,i),t.stateNode===null)ma(e,t),Ip(t,r,n),zo(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,h=r.contextType;typeof h=="object"&&h!==null?h=Pt(h):(h=dt(r)?vr:Ke.current,h=hn(t,h));var p=r.getDerivedStateFromProps,x=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==h)&&Iu(t,l,n,h),_s=!1;var f=t.memoizedState;l.state=f,za(t,n,l,i),c=t.memoizedState,o!==n||f!==c||ct.current||_s?(typeof p=="function"&&(Do(t,r,p,n),c=t.memoizedState),(o=_s||Bu(t,r,o,n,f,c,h))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=h,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,yp(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:At(t.type,o),l.props=h,x=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=dt(r)?vr:Ke.current,c=hn(t,c));var w=r.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==x||f!==c)&&Iu(t,l,n,c),_s=!1,f=t.memoizedState,l.state=f,za(t,n,l,i);var b=t.memoizedState;o!==x||f!==b||ct.current||_s?(typeof w=="function"&&(Do(t,r,w,n),b=t.memoizedState),(h=_s||Bu(t,r,h,n,f,b,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),l.props=n,l.state=b,l.context=c,n=h):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Vo(e,t,r,n,a,i)}function Vo(e,t,r,n,i,a){Vp(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Ru(t,r,!1),fs(e,t,a);n=t.stateNode,$g.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=pn(t,e.child,null,a),t.child=pn(t,null,o,a)):Ze(e,t,o,a),t.memoizedState=n.state,i&&Ru(t,r,!0),t.child}function Hp(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),ad(e,t.containerInfo)}function Wu(e,t,r,n,i){return mn(),ed(i),t.flags|=256,Ze(e,t,r,n),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wp(e,t,r){var n=t.pendingProps,i=_e.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(_e,i&1),e===null)return Bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=ml(l,n,0,null),e=gr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wo(r),t.memoizedState=Ho,e):pd(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Bg(e,t,l,n,o,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Hs(o,a):(a=gr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Wo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Ho,n}return a=e.child,e=a.sibling,n=Hs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pd(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,r,n){return n!==null&&ed(n),pn(t,e.child,null,r),e=pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bg(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Jl(Error(V(422))),Xi(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ml({mode:"visible",children:n.children},i,0,null),a=gr(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&pn(t,e.child,null,l),t.child.memoizedState=Wo(l),t.memoizedState=Ho,a);if(!(t.mode&1))return Xi(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(V(419)),n=Jl(a,n,void 0),Xi(e,t,l,n)}if(o=(l&e.childLanes)!==0,ot||o){if(n=Ie,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ps(e,i),zt(n,e,i,-1))}return bd(),n=Jl(Error(V(421))),Xi(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jg.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ft=zs(i.nextSibling),xt=t,je=!0,It=null,e!==null&&(wt[kt++]=os,wt[kt++]=cs,wt[kt++]=br,os=e.id,cs=e.overflow,br=t),t=pd(t,n.children),t.flags|=4096,t)}function Qu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Io(e.return,t,r)}function Xl(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Qp(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ze(e,t,n.children,r),n=_e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qu(e,r,t);else if(e.tag===19)Qu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ge(_e,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qa(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qa(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xl(t,!0,r,null,a);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Hs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ig(e,t,r){switch(t.tag){case 3:Hp(t),mn();break;case 5:vp(t);break;case 1:dt(t.type)&&Ma(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ge(Ia,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ge(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?Wp(e,t,r):(ge(_e,_e.current&1),e=fs(e,t,r),e!==null?e.sibling:null);ge(_e,_e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qp(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(_e,_e.current),n)break;return null;case 22:case 23:return t.lanes=0,Up(e,t,r)}return fs(e,t,r)}var Kp,Qo,Gp,Yp;Kp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qo=function(){};Gp=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ar(es.current);var a=null;switch(r){case"input":i=fo(e,i),n=fo(e,n),a=[];break;case"select":i=we({},i,{value:void 0}),n=we({},n,{value:void 0}),a=[];break;case"textarea":i=yo(e,i),n=yo(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Aa)}bo(r,n);var l;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var o=i[h];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(si.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var c=n[h];if(o=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==o&&(c!=null||o!=null))if(h==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(si.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ve("scroll",e),a||o===c||(a=[])):(a=a||[]).push(h,c))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};Yp=function(e,t,r,n){r!==n&&(t.flags|=4)};function $n(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dg(e,t,r){var n=t.pendingProps;switch(Zc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return dt(t.type)&&Oa(),He(t),null;case 3:return n=t.stateNode,fn(),be(ct),be(Ke),od(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(tc(It),It=null))),Qo(e,t),He(t),null;case 5:ld(t);var i=ar(pi.current);if(r=t.type,e!==null&&t.stateNode!=null)Gp(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return He(t),null}if(e=ar(es.current),Yi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Xt]=t,n[hi]=a,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<Vn.length;i++)ve(Vn[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":su(n,a),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ve("invalid",n);break;case"textarea":nu(n,a),ve("invalid",n)}bo(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Gi(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Gi(n.textContent,o,e),i=["children",""+o]):si.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ve("scroll",n)}switch(r){case"input":zi(n),ru(n,a,!0);break;case"textarea":zi(n),iu(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Aa)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Xt]=t,e[hi]=n,Kp(e,t,!1,!1),t.stateNode=e;e:{switch(l=jo(r,n),r){case"dialog":ve("cancel",e),ve("close",e),i=n;break;case"iframe":case"object":case"embed":ve("load",e),i=n;break;case"video":case"audio":for(i=0;i<Vn.length;i++)ve(Vn[i],e);i=n;break;case"source":ve("error",e),i=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=n;break;case"details":ve("toggle",e),i=n;break;case"input":su(e,n),i=fo(e,n),ve("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=we({},n,{value:void 0}),ve("invalid",e);break;case"textarea":nu(e,n),i=yo(e,n),ve("invalid",e);break;default:i=n}bo(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Cm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&km(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ri(e,c):typeof c=="number"&&ri(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(si.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ve("scroll",e):c!=null&&Bc(e,a,c,l))}switch(r){case"input":zi(e),ru(e,n,!1);break;case"textarea":zi(e),iu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gs(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Vr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Vr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Aa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Yp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=ar(pi.current),ar(es.current),Yi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xt]=t,(a=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:Gi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xt]=t,t.stateNode=n}return He(t),null;case 13:if(be(_e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&ft!==null&&t.mode&1&&!(t.flags&128))pp(),mn(),t.flags|=98560,a=!1;else if(a=Yi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Xt]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),a=!1}else It!==null&&(tc(It),It=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Oe===0&&(Oe=3):bd())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return fn(),Qo(e,t),e===null&&di(t.stateNode.containerInfo),He(t),null;case 10:return rd(t.type._context),He(t),null;case 17:return dt(t.type)&&Oa(),He(t),null;case 19:if(be(_e),a=t.memoizedState,a===null)return He(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)$n(a,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=qa(e),l!==null){for(t.flags|=128,$n(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ge(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ee()>gn&&(t.flags|=128,n=!0,$n(a,!1),t.lanes=4194304)}else{if(!n)if(e=qa(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$n(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!je)return He(t),null}else 2*Ee()-a.renderingStartTime>gn&&r!==1073741824&&(t.flags|=128,n=!0,$n(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ee(),t.sibling=null,r=_e.current,ge(_e,n?r&1|2:r&1),t):(He(t),null);case 22:case 23:return vd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function zg(e,t){switch(Zc(t),t.tag){case 1:return dt(t.type)&&Oa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),be(ct),be(Ke),od(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ld(t),null;case 13:if(be(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(_e),null;case 4:return fn(),null;case 10:return rd(t.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var Zi=!1,We=!1,qg=typeof WeakSet=="function"?WeakSet:Set,G=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function Ko(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var Ku=!1;function Ug(e,t){if(Lo=La,e=tp(),Jc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,h=0,p=0,x=e,f=null;t:for(;;){for(var w;x!==r||i!==0&&x.nodeType!==3||(o=l+i),x!==a||n!==0&&x.nodeType!==3||(c=l+n),x.nodeType===3&&(l+=x.nodeValue.length),(w=x.firstChild)!==null;)f=x,x=w;for(;;){if(x===e)break t;if(f===r&&++h===i&&(o=l),f===a&&++p===n&&(c=l),(w=x.nextSibling)!==null)break;x=f,f=x.parentNode}x=w}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(To={focusedElem:e,selectionRange:r},La=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,N=b.memoizedState,v=t.stateNode,d=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:At(t.type,y),N);v.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){Ce(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=Ku,Ku=!1,b}function Zn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ko(t,r,a)}i=i.next}while(i!==n)}}function ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Go(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jp(e){var t=e.alternate;t!==null&&(e.alternate=null,Jp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[hi],delete t[Oo],delete t[kg],delete t[Sg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xp(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Aa));else if(n!==4&&(e=e.child,e!==null))for(Yo(e,t,r),e=e.sibling;e!==null;)Yo(e,t,r),e=e.sibling}function Jo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jo(e,t,r),e=e.sibling;e!==null;)Jo(e,t,r),e=e.sibling}var ze=null,$t=!1;function vs(e,t,r){for(r=r.child;r!==null;)Zp(e,t,r),r=r.sibling}function Zp(e,t,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(rl,r)}catch{}switch(r.tag){case 5:We||qr(r,t);case 6:var n=ze,i=$t;ze=null,vs(e,t,r),ze=n,$t=i,ze!==null&&($t?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&($t?(e=ze,r=r.stateNode,e.nodeType===8?Hl(e.parentNode,r):e.nodeType===1&&Hl(e,r),li(e)):Hl(ze,r.stateNode));break;case 4:n=ze,i=$t,ze=r.stateNode.containerInfo,$t=!0,vs(e,t,r),ze=n,$t=i;break;case 0:case 11:case 14:case 15:if(!We&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ko(r,t,l),i=i.next}while(i!==n)}vs(e,t,r);break;case 1:if(!We&&(qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ce(r,t,o)}vs(e,t,r);break;case 21:vs(e,t,r);break;case 22:r.mode&1?(We=(n=We)||r.memoizedState!==null,vs(e,t,r),We=n):vs(e,t,r);break;default:vs(e,t,r)}}function Yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qg),t.forEach(function(n){var i=Xg.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ze=o.stateNode,$t=!1;break e;case 3:ze=o.stateNode.containerInfo,$t=!0;break e;case 4:ze=o.stateNode.containerInfo,$t=!0;break e}o=o.return}if(ze===null)throw Error(V(160));Zp(a,l,i),ze=null,$t=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Ce(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ef(t,e),t=t.sibling}function ef(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Ht(e),n&4){try{Zn(3,e,e.return),ul(3,e)}catch(y){Ce(e,e.return,y)}try{Zn(5,e,e.return)}catch(y){Ce(e,e.return,y)}}break;case 1:Ft(t,e),Ht(e),n&512&&r!==null&&qr(r,r.return);break;case 5:if(Ft(t,e),Ht(e),n&512&&r!==null&&qr(r,r.return),e.flags&32){var i=e.stateNode;try{ri(i,"")}catch(y){Ce(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&_m(i,a),jo(o,l);var h=jo(o,a);for(l=0;l<c.length;l+=2){var p=c[l],x=c[l+1];p==="style"?Cm(i,x):p==="dangerouslySetInnerHTML"?km(i,x):p==="children"?ri(i,x):Bc(i,p,x,h)}switch(o){case"input":xo(i,a);break;case"textarea":Nm(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Vr(i,!!a.multiple,w,!1):f!==!!a.multiple&&(a.defaultValue!=null?Vr(i,!!a.multiple,a.defaultValue,!0):Vr(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(y){Ce(e,e.return,y)}}break;case 6:if(Ft(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Ce(e,e.return,y)}}break;case 3:if(Ft(t,e),Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(y){Ce(e,e.return,y)}break;case 4:Ft(t,e),Ht(e);break;case 13:Ft(t,e),Ht(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gd=Ee())),n&4&&Yu(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(We=(h=We)||p,Ft(t,e),We=h):Ft(t,e),Ht(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(x=G=p;G!==null;){switch(f=G,w=f.child,f.tag){case 0:case 11:case 14:case 15:Zn(4,f,f.return);break;case 1:qr(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Ce(n,r,y)}}break;case 5:qr(f,f.return);break;case 22:if(f.memoizedState!==null){Xu(x);continue}}w!==null?(w.return=f,G=w):Xu(x)}p=p.sibling}e:for(p=null,x=e;;){if(x.tag===5){if(p===null){p=x;try{i=x.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=x.stateNode,c=x.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Sm("display",l))}catch(y){Ce(e,e.return,y)}}}else if(x.tag===6){if(p===null)try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(y){Ce(e,e.return,y)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;p===x&&(p=null),x=x.return}p===x&&(p=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ft(t,e),Ht(e),n&4&&Yu(e);break;case 21:break;default:Ft(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xp(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ri(i,""),n.flags&=-33);var a=Gu(e);Jo(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Gu(e);Yo(e,o,l);break;default:throw Error(V(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vg(e,t,r){G=e,tf(e)}function tf(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var i=G,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Zi;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||We;o=Zi;var h=We;if(Zi=l,(We=c)&&!h)for(G=i;G!==null;)l=G,c=l.child,l.tag===22&&l.memoizedState!==null?Zu(i):c!==null?(c.return=l,G=c):Zu(i);for(;a!==null;)G=a,tf(a),a=a.sibling;G=i,Zi=o,We=h}Ju(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,G=a):Ju(e)}}function Ju(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||ul(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!We)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ou(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ou(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var x=p.dehydrated;x!==null&&li(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}We||t.flags&512&&Go(t)}catch(f){Ce(t,t.return,f)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Xu(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function Zu(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ul(4,t)}catch(c){Ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ce(t,i,c)}}var a=t.return;try{Go(t)}catch(c){Ce(t,a,c)}break;case 5:var l=t.return;try{Go(t)}catch(c){Ce(t,l,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){G=null;break}var o=t.sibling;if(o!==null){o.return=t.return,G=o;break}G=t.return}}var Hg=Math.ceil,Ha=xs.ReactCurrentDispatcher,fd=xs.ReactCurrentOwner,Et=xs.ReactCurrentBatchConfig,de=0,Ie=null,Le=null,qe=0,pt=0,Ur=Xs(0),Oe=0,yi=null,_r=0,hl=0,xd=0,ei=null,lt=null,gd=0,gn=1/0,ns=null,Wa=!1,Xo=null,Us=null,ea=!1,Ms=null,Qa=0,ti=0,Zo=null,pa=-1,fa=0;function tt(){return de&6?Ee():pa!==-1?pa:pa=Ee()}function Vs(e){return e.mode&1?de&2&&qe!==0?qe&-qe:Eg.transition!==null?(fa===0&&(fa=Im()),fa):(e=me,e!==0||(e=window.event,e=e===void 0?16:Wm(e.type)),e):1}function zt(e,t,r,n){if(50<ti)throw ti=0,Zo=null,Error(V(185));Pi(e,r,n),(!(de&2)||e!==Ie)&&(e===Ie&&(!(de&2)&&(hl|=r),Oe===4&&ws(e,qe)),ut(e,n),r===1&&de===0&&!(t.mode&1)&&(gn=Ee()+500,ol&&Zs()))}function ut(e,t){var r=e.callbackNode;E0(e,t);var n=Ra(e,e===Ie?qe:0);if(n===0)r!==null&&ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ou(r),t===1)e.tag===0?Cg(eh.bind(null,e)):up(eh.bind(null,e)),Ng(function(){!(de&6)&&Zs()}),r=null;else{switch(Dm(n)){case 1:r=Uc;break;case 4:r=$m;break;case 16:r=Pa;break;case 536870912:r=Bm;break;default:r=Pa}r=df(r,sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sf(e,t){if(pa=-1,fa=0,de&6)throw Error(V(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var n=Ra(e,e===Ie?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ka(e,n);else{t=n;var i=de;de|=2;var a=nf();(Ie!==e||qe!==t)&&(ns=null,gn=Ee()+500,xr(e,t));do try{Kg();break}catch(o){rf(e,o)}while(!0);sd(),Ha.current=a,de=i,Le!==null?t=0:(Ie=null,qe=0,t=Oe)}if(t!==0){if(t===2&&(i=So(e),i!==0&&(n=i,t=ec(e,i))),t===1)throw r=yi,xr(e,0),ws(e,n),ut(e,Ee()),r;if(t===6)ws(e,n);else{if(i=e.current.alternate,!(n&30)&&!Wg(i)&&(t=Ka(e,n),t===2&&(a=So(e),a!==0&&(n=a,t=ec(e,a))),t===1))throw r=yi,xr(e,0),ws(e,n),ut(e,Ee()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:rr(e,lt,ns);break;case 3:if(ws(e,n),(n&130023424)===n&&(t=gd+500-Ee(),10<t)){if(Ra(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ao(rr.bind(null,e,lt,ns),t);break}rr(e,lt,ns);break;case 4:if(ws(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Dt(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hg(n/1960))-n,10<n){e.timeoutHandle=Ao(rr.bind(null,e,lt,ns),n);break}rr(e,lt,ns);break;case 5:rr(e,lt,ns);break;default:throw Error(V(329))}}}return ut(e,Ee()),e.callbackNode===r?sf.bind(null,e):null}function ec(e,t){var r=ei;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=lt,lt=r,t!==null&&tc(t)),e}function tc(e){lt===null?lt=e:lt.push.apply(lt,e)}function Wg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!qt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~xd,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),n=1<<r;e[r]=-1,t&=~n}}function eh(e){if(de&6)throw Error(V(327));Gr();var t=Ra(e,0);if(!(t&1))return ut(e,Ee()),null;var r=Ka(e,t);if(e.tag!==0&&r===2){var n=So(e);n!==0&&(t=n,r=ec(e,n))}if(r===1)throw r=yi,xr(e,0),ws(e,t),ut(e,Ee()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,lt,ns),ut(e,Ee()),null}function yd(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(gn=Ee()+500,ol&&Zs())}}function Nr(e){Ms!==null&&Ms.tag===0&&!(de&6)&&Gr();var t=de;de|=1;var r=Et.transition,n=me;try{if(Et.transition=null,me=1,e)return e()}finally{me=n,Et.transition=r,de=t,!(de&6)&&Zs()}}function vd(){pt=Ur.current,be(Ur)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_g(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(Zc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oa();break;case 3:fn(),be(ct),be(Ke),od();break;case 5:ld(n);break;case 4:fn();break;case 13:be(_e);break;case 19:be(_e);break;case 10:rd(n.type._context);break;case 22:case 23:vd()}r=r.return}if(Ie=e,Le=e=Hs(e.current,null),qe=pt=t,Oe=0,yi=null,xd=hl=_r=0,lt=ei=null,ir!==null){for(t=0;t<ir.length;t++)if(r=ir[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}ir=null}return e}function rf(e,t){do{var r=Le;try{if(sd(),ua.current=Va,Ua){for(var n=Ne.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ua=!1}if(jr=0,Be=Fe=Ne=null,Xn=!1,fi=0,fd.current=null,r===null||r.return===null){Oe=1,yi=t,Le=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=o,x=p.tag;if(!(p.mode&1)&&(x===0||x===11||x===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=zu(l);if(w!==null){w.flags&=-257,qu(w,l,o,a,t),w.mode&1&&Du(a,h,t),t=w,c=h;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){Du(a,h,t),bd();break e}c=Error(V(426))}}else if(je&&o.mode&1){var N=zu(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),qu(N,l,o,a,t),ed(xn(c,o));break e}}a=c=xn(c,o),Oe!==4&&(Oe=2),ei===null?ei=[a]:ei.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Dp(a,c,t);Au(a,v);break e;case 1:o=c;var d=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Us===null||!Us.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=zp(a,o,t);Au(a,_);break e}}a=a.return}while(a!==null)}lf(r)}catch(A){t=A,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function nf(){var e=Ha.current;return Ha.current=Va,e===null?Va:e}function bd(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ie===null||!(_r&268435455)&&!(hl&268435455)||ws(Ie,qe)}function Ka(e,t){var r=de;de|=2;var n=nf();(Ie!==e||qe!==t)&&(ns=null,xr(e,t));do try{Qg();break}catch(i){rf(e,i)}while(!0);if(sd(),de=r,Ha.current=n,Le!==null)throw Error(V(261));return Ie=null,qe=0,Oe}function Qg(){for(;Le!==null;)af(Le)}function Kg(){for(;Le!==null&&!v0();)af(Le)}function af(e){var t=cf(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?lf(e):Le=t,fd.current=null}function lf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zg(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Le=null;return}}else if(r=Dg(r,t,pt),r!==null){Le=r;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Oe===0&&(Oe=5)}function rr(e,t,r){var n=me,i=Et.transition;try{Et.transition=null,me=1,Gg(e,t,r,n)}finally{Et.transition=i,me=n}return null}function Gg(e,t,r,n){do Gr();while(Ms!==null);if(de&6)throw Error(V(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(P0(e,a),e===Ie&&(Le=Ie=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,df(Pa,function(){return Gr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Et.transition,Et.transition=null;var l=me;me=1;var o=de;de|=4,fd.current=null,Ug(e,r),ef(r,e),fg(To),La=!!Lo,To=Lo=null,e.current=r,Vg(r),b0(),de=o,me=l,Et.transition=a}else e.current=r;if(ea&&(ea=!1,Ms=e,Qa=i),a=e.pendingLanes,a===0&&(Us=null),N0(r.stateNode),ut(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wa)throw Wa=!1,e=Xo,Xo=null,e;return Qa&1&&e.tag!==0&&Gr(),a=e.pendingLanes,a&1?e===Zo?ti++:(ti=0,Zo=e):ti=0,Zs(),null}function Gr(){if(Ms!==null){var e=Dm(Qa),t=Et.transition,r=me;try{if(Et.transition=null,me=16>e?16:e,Ms===null)var n=!1;else{if(e=Ms,Ms=null,Qa=0,de&6)throw Error(V(331));var i=de;for(de|=4,G=e.current;G!==null;){var a=G,l=a.child;if(G.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var h=o[c];for(G=h;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:Zn(8,p,a)}var x=p.child;if(x!==null)x.return=p,G=x;else for(;G!==null;){p=G;var f=p.sibling,w=p.return;if(Jp(p),p===h){G=null;break}if(f!==null){f.return=w,G=f;break}G=w}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}G=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,G=l;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zn(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,G=v;break e}G=a.return}}var d=e.current;for(G=d;G!==null;){l=G;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,G=j;else e:for(l=d;G!==null;){if(o=G,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ul(9,o)}}catch(A){Ce(o,o.return,A)}if(o===l){G=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,G=_;break e}G=o.return}}if(de=i,Zs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(rl,e)}catch{}n=!0}return n}finally{me=r,Et.transition=t}}return!1}function th(e,t,r){t=xn(r,t),t=Dp(e,t,1),e=qs(e,t,1),t=tt(),e!==null&&(Pi(e,1,t),ut(e,t))}function Ce(e,t,r){if(e.tag===3)th(e,e,r);else for(;t!==null;){if(t.tag===3){th(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Us===null||!Us.has(n))){e=xn(r,e),e=zp(t,e,1),t=qs(t,e,1),e=tt(),t!==null&&(Pi(t,1,e),ut(t,e));break}}t=t.return}}function Yg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(qe&r)===r&&(Oe===4||Oe===3&&(qe&130023424)===qe&&500>Ee()-gd?xr(e,0):xd|=r),ut(e,t)}function of(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var r=tt();e=ps(e,t),e!==null&&(Pi(e,t,r),ut(e,r))}function Jg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),of(e,r)}function Xg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),of(e,r)}var cf;cf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,Ig(e,t,r);ot=!!(e.flags&131072)}else ot=!1,je&&t.flags&1048576&&hp(t,Ba,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ma(e,t),e=t.pendingProps;var i=hn(t,Ke.current);Kr(t,r),i=dd(null,t,n,e,i,r);var a=ud();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(n)?(a=!0,Ma(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,id(t),i.updater=dl,t.stateNode=i,i._reactInternals=t,zo(t,n,e,r),t=Vo(null,t,n,!0,a,r)):(t.tag=0,je&&a&&Xc(t),Ze(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ma(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ey(n),e=At(n,e),i){case 0:t=Uo(null,t,n,e,r);break e;case 1:t=Hu(null,t,n,e,r);break e;case 11:t=Uu(null,t,n,e,r);break e;case 14:t=Vu(null,t,n,At(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),Uo(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),Hu(e,t,n,i,r);case 3:e:{if(Hp(t),e===null)throw Error(V(387));n=t.pendingProps,a=t.memoizedState,i=a.element,yp(e,t),za(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xn(Error(V(423)),t),t=Wu(e,t,n,r,i);break e}else if(n!==i){i=xn(Error(V(424)),t),t=Wu(e,t,n,r,i);break e}else for(ft=zs(t.stateNode.containerInfo.firstChild),xt=t,je=!0,It=null,r=xp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mn(),n===i){t=fs(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return vp(t),e===null&&Bo(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Fo(n,i)?l=null:a!==null&&Fo(n,a)&&(t.flags|=32),Vp(e,t),Ze(e,t,l,r),t.child;case 6:return e===null&&Bo(t),null;case 13:return Wp(e,t,r);case 4:return ad(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pn(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),Uu(e,t,n,i,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,ge(Ia,n._currentValue),n._currentValue=l,a!==null)if(qt(a.value,l)){if(a.children===i.children&&!ct.current){t=fs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ds(-1,r&-r),c.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Io(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(V(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Io(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ze(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Kr(t,r),i=Pt(i),n=n(i),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,i=At(n,t.pendingProps),i=At(n.type,i),Vu(e,t,n,i,r);case 15:return qp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:At(n,i),ma(e,t),t.tag=1,dt(n)?(e=!0,Ma(t)):e=!1,Kr(t,r),Ip(t,n,i),zo(t,n,i,r),Vo(null,t,n,!0,e,r);case 19:return Qp(e,t,r);case 22:return Up(e,t,r)}throw Error(V(156,t.tag))};function df(e,t){return Mm(e,t)}function Zg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Zg(e,t,r,n)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ey(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===zc)return 14}return 2}function Hs(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")jd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Fr:return gr(r.children,i,a,t);case Ic:l=8,i|=8;break;case uo:return e=Ct(12,r,t,i|2),e.elementType=uo,e.lanes=a,e;case ho:return e=Ct(13,r,t,i),e.elementType=ho,e.lanes=a,e;case mo:return e=Ct(19,r,t,i),e.elementType=mo,e.lanes=a,e;case vm:return ml(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:l=10;break e;case ym:l=9;break e;case Dc:l=11;break e;case zc:l=14;break e;case js:l=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Ct(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function gr(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function ml(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=vm,e.lanes=r,e.stateNode={isHidden:!1},e}function Zl(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function eo(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ty(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _d(e,t,r,n,i,a,l,o,c){return e=new ty(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(a),e}function sy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uf(e){if(!e)return Ys;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(dt(r))return dp(e,r,t)}return t}function hf(e,t,r,n,i,a,l,o,c){return e=_d(r,n,!0,e,i,a,l,o,c),e.context=uf(null),r=e.current,n=tt(),i=Vs(r),a=ds(n,i),a.callback=t??null,qs(r,a,i),e.current.lanes=i,Pi(e,i,n),ut(e,n),e}function pl(e,t,r,n){var i=t.current,a=tt(),l=Vs(i);return r=uf(r),t.context===null?t.context=r:t.pendingContext=r,t=ds(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qs(i,t,l),e!==null&&(zt(e,i,l,a),da(e,i,l)),l}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Nd(e,t){sh(e,t),(e=e.alternate)&&sh(e,t)}function ry(){return null}var mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function wd(e){this._internalRoot=e}fl.prototype.render=wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));pl(e,t,null,null)};fl.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){pl(null,e,null,null)}),t[ms]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Um();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ns.length&&t!==0&&t<Ns[r].priority;r++);Ns.splice(r,0,e),r===0&&Hm(e)}};function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rh(){}function ny(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Ga(l);a.call(h)}}var l=hf(t,n,e,0,null,!1,!1,"",rh);return e._reactRootContainer=l,e[ms]=l.current,di(e.nodeType===8?e.parentNode:e),Nr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var h=Ga(c);o.call(h)}}var c=_d(e,0,!1,null,null,!1,!1,"",rh);return e._reactRootContainer=c,e[ms]=c.current,di(e.nodeType===8?e.parentNode:e),Nr(function(){pl(t,c,r,n)}),c}function gl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=Ga(l);o.call(c)}}pl(t,l,e,i)}else l=ny(r,t,e,i,n);return Ga(l)}zm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(Vc(t,r|1),ut(t,Ee()),!(de&6)&&(gn=Ee()+500,Zs()))}break;case 13:Nr(function(){var n=ps(e,1);if(n!==null){var i=tt();zt(n,e,1,i)}}),Nd(e,1)}};Hc=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var r=tt();zt(t,e,134217728,r)}Nd(e,134217728)}};qm=function(e){if(e.tag===13){var t=Vs(e),r=ps(e,t);if(r!==null){var n=tt();zt(r,e,t,n)}Nd(e,t)}};Um=function(){return me};Vm=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};No=function(e,t,r){switch(t){case"input":if(xo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ll(n);if(!i)throw Error(V(90));jm(n),xo(n,i)}}}break;case"textarea":Nm(e,r);break;case"select":t=r.value,t!=null&&Vr(e,!!r.multiple,t,!1)}};Rm=yd;Lm=Nr;var iy={usingClientEntryPoint:!1,Events:[Li,$r,ll,Em,Pm,yd]},Bn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ay={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Am(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||ry,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{rl=ta.inject(ay),Zt=ta}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(t))throw Error(V(200));return sy(e,t,null,r)};yt.createRoot=function(e,t){if(!kd(e))throw Error(V(299));var r=!1,n="",i=mf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_d(e,1,!1,null,null,r,!1,n,i),e[ms]=t.current,di(e.nodeType===8?e.parentNode:e),new wd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Am(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Nr(e)};yt.hydrate=function(e,t,r){if(!xl(t))throw Error(V(200));return gl(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!kd(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=mf;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=hf(t,null,e,1,r??null,i,!1,a,l),e[ms]=t.current,di(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new fl(t)};yt.render=function(e,t,r){if(!xl(t))throw Error(V(200));return gl(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!xl(e))throw Error(V(40));return e._reactRootContainer?(Nr(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0):!1};yt.unstable_batchedUpdates=yd;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xl(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return gl(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pf)}catch(e){console.error(e)}}pf(),mm.exports=yt;var ly=mm.exports,ff,nh=ly;ff=nh.createRoot,nh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const ih="popstate";function oy(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:o}=n.location;return sc("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ya(i)}return dy(t,r,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cy(){return Math.random().toString(36).substr(2,8)}function ah(e,t){return{usr:e.state,key:e.key,idx:t}}function sc(e,t,r,n){return r===void 0&&(r=null),vi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_n(t):t,{state:r,key:t&&t.key||n||cy()})}function Ya(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _n(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dy(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=$s.Pop,c=null,h=p();h==null&&(h=0,l.replaceState(vi({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function x(){o=$s.Pop;let N=p(),v=N==null?null:N-h;h=N,c&&c({action:o,location:y.location,delta:v})}function f(N,v){o=$s.Push;let d=sc(y.location,N,v);h=p()+1;let j=ah(d,h),_=y.createHref(d);try{l.pushState(j,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(_)}a&&c&&c({action:o,location:y.location,delta:1})}function w(N,v){o=$s.Replace;let d=sc(y.location,N,v);h=p();let j=ah(d,h),_=y.createHref(d);l.replaceState(j,"",_),a&&c&&c({action:o,location:y.location,delta:0})}function b(N){let v=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof N=="string"?N:Ya(N);return d=d.replace(/ $/,"%20"),Pe(v,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,v)}let y={get action(){return o},get location(){return e(i,l)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ih,x),c=N,()=>{i.removeEventListener(ih,x),c=null}},createHref(N){return t(i,N)},createURL:b,encodeLocation(N){let v=b(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:w,go(N){return l.go(N)}};return y}var lh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lh||(lh={}));function uy(e,t,r){return r===void 0&&(r="/"),hy(e,t,r)}function hy(e,t,r,n){let i=typeof t=="string"?_n(t):t,a=Sd(i.pathname||"/",r);if(a==null)return null;let l=gf(e);my(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let h=ky(a);o=_y(l[c],h)}return o}function gf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Ws([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(Pe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),gf(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:by(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of yf(a.path))i(a,l,c)}),t}function yf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=yf(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function my(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const py=/^:[\w-]+$/,fy=3,xy=2,gy=1,yy=10,vy=-2,oh=e=>e==="*";function by(e,t){let r=e.split("/"),n=r.length;return r.some(oh)&&(n+=vy),t&&(n+=xy),r.filter(i=>!oh(i)).reduce((i,a)=>i+(py.test(a)?fy:a===""?gy:yy),n)}function jy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function _y(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],h=o===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",x=Ny({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),f=c.route;if(!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:Ws([a,x.pathname]),pathnameBase:Py(Ws([a,x.pathnameBase])),route:f}),x.pathnameBase!=="/"&&(a=Ws([a,x.pathnameBase]))}return l}function Ny(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wy(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,p,x)=>{let{paramName:f,isOptional:w}=p;if(f==="*"){let y=o[x]||"";l=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const b=o[x];return w&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function wy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ky(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Sy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?_n(e):e;return{pathname:r?r.startsWith("/")?r:Cy(r,t):t,search:Ry(n),hash:Ly(i)}}function Cy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function to(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ey(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cd(e,t){let r=Ey(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ed(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=_n(e):(i=vi({},e),Pe(!i.pathname||!i.pathname.includes("?"),to("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),to("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),to("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=r;else{let x=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),x-=1;i.pathname=f.join("/")}o=x>=0?t[x]:"/"}let c=Sy(i,o),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const Ws=e=>e.join("/").replace(/\/\/+/g,"/"),Py=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ry=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ly=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ty(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vf=["post","put","patch","delete"];new Set(vf);const Fy=["get",...vf];new Set(Fy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}const Pd=k.createContext(null),Ay=k.createContext(null),er=k.createContext(null),yl=k.createContext(null),gs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),bf=k.createContext(null);function Oy(e,t){let{relative:r}=t===void 0?{}:t;Nn()||Pe(!1);let{basename:n,navigator:i}=k.useContext(er),{hash:a,pathname:l,search:o}=_f(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Ws([n,l])),i.createHref({pathname:c,search:o,hash:a})}function Nn(){return k.useContext(yl)!=null}function wn(){return Nn()||Pe(!1),k.useContext(yl).location}function jf(e){k.useContext(er).static||k.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=k.useContext(gs);return e?Ky():My()}function My(){Nn()||Pe(!1);let e=k.useContext(Pd),{basename:t,future:r,navigator:n}=k.useContext(er),{matches:i}=k.useContext(gs),{pathname:a}=wn(),l=JSON.stringify(Cd(i,r.v7_relativeSplatPath)),o=k.useRef(!1);return jf(()=>{o.current=!0}),k.useCallback(function(h,p){if(p===void 0&&(p={}),!o.current)return;if(typeof h=="number"){n.go(h);return}let x=Ed(h,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Ws([t,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[t,n,l,a,e])}function Pr(){let{matches:e}=k.useContext(gs),t=e[e.length-1];return t?t.params:{}}function _f(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(er),{matches:i}=k.useContext(gs),{pathname:a}=wn(),l=JSON.stringify(Cd(i,n.v7_relativeSplatPath));return k.useMemo(()=>Ed(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function $y(e,t){return By(e,t)}function By(e,t,r,n){Nn()||Pe(!1);let{navigator:i}=k.useContext(er),{matches:a}=k.useContext(gs),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=wn(),p;if(t){var x;let N=typeof t=="string"?_n(t):t;c==="/"||(x=N.pathname)!=null&&x.startsWith(c)||Pe(!1),p=N}else p=h;let f=p.pathname||"/",w=f;if(c!=="/"){let N=c.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=uy(e,{pathname:w}),y=Uy(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Ws([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Ws([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,r,n);return t&&y?k.createElement(yl.Provider,{value:{location:bi({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:$s.Pop}},y):y}function Iy(){let e=Qy(),t=Ty(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,null)}const Dy=k.createElement(Iy,null);class zy extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(gs.Provider,{value:this.props.routeContext},k.createElement(bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qy(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(Pd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(gs.Provider,{value:t},n)}function Uy(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let p=l.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);p>=0||Pe(!1),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=p),x.route.id){let{loaderData:f,errors:w}=r,b=x.route.loader&&f[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||b){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,x,f)=>{let w,b=!1,y=null,N=null;r&&(w=o&&x.route.id?o[x.route.id]:void 0,y=x.route.errorElement||Dy,c&&(h<0&&f===0?(Gy("route-fallback"),b=!0,N=null):h===f&&(b=!0,N=x.route.hydrateFallbackElement||null)));let v=t.concat(l.slice(0,f+1)),d=()=>{let j;return w?j=y:b?j=N:x.route.Component?j=k.createElement(x.route.Component,null):x.route.element?j=x.route.element:j=p,k.createElement(qy,{match:x,routeContext:{outlet:p,matches:v,isDataRoute:r!=null},children:j})};return r&&(x.route.ErrorBoundary||x.route.errorElement||f===0)?k.createElement(zy,{location:r.location,revalidation:r.revalidation,component:y,error:w,children:d(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):d()},null)}var Nf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nf||{}),wf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wf||{});function Vy(e){let t=k.useContext(Pd);return t||Pe(!1),t}function Hy(e){let t=k.useContext(Ay);return t||Pe(!1),t}function Wy(e){let t=k.useContext(gs);return t||Pe(!1),t}function kf(e){let t=Wy(),r=t.matches[t.matches.length-1];return r.route.id||Pe(!1),r.route.id}function Qy(){var e;let t=k.useContext(bf),r=Hy(),n=kf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ky(){let{router:e}=Vy(Nf.UseNavigateStable),t=kf(wf.UseNavigateStable),r=k.useRef(!1);return jf(()=>{r.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,bi({fromRouteId:t},a)))},[e,t])}const ch={};function Gy(e,t,r){ch[e]||(ch[e]=!0)}function Yy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rc(e){let{to:t,replace:r,state:n,relative:i}=e;Nn()||Pe(!1);let{future:a,static:l}=k.useContext(er),{matches:o}=k.useContext(gs),{pathname:c}=wn(),h=Ut(),p=Ed(t,Cd(o,a.v7_relativeSplatPath),c,i==="path"),x=JSON.stringify(p);return k.useEffect(()=>h(JSON.parse(x),{replace:r,state:n,relative:i}),[h,x,i,r,n]),null}function Me(e){Pe(!1)}function Jy(e){let{basename:t="/",children:r=null,location:n,navigationType:i=$s.Pop,navigator:a,static:l=!1,future:o}=e;Nn()&&Pe(!1);let c=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:c,navigator:a,static:l,future:bi({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=_n(n));let{pathname:p="/",search:x="",hash:f="",state:w=null,key:b="default"}=n,y=k.useMemo(()=>{let N=Sd(p,c);return N==null?null:{location:{pathname:N,search:x,hash:f,state:w,key:b},navigationType:i}},[c,p,x,f,w,b,i]);return y==null?null:k.createElement(er.Provider,{value:h},k.createElement(yl.Provider,{children:r,value:y}))}function Xy(e){let{children:t,location:r}=e;return $y(nc(t),r)}new Promise(()=>{});function nc(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let a=[...t,i];if(n.type===k.Fragment){r.push.apply(r,nc(n.props.children,a));return}n.type!==Me&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=nc(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}function Zy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tv(e,t){return e.button===0&&(!t||t==="_self")&&!ev(e)}function ac(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function sv(e,t){let r=ac(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const rv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nv="6";try{window.__reactRouterVersion=nv}catch{}const iv="startTransition",dh=Yx[iv];function av(e){let{basename:t,children:r,future:n,window:i}=e,a=k.useRef();a.current==null&&(a.current=oy({window:i,v5Compat:!0}));let l=a.current,[o,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},p=k.useCallback(x=>{h&&dh?dh(()=>c(x)):c(x)},[c,h]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.useEffect(()=>Yy(n),[n]),k.createElement(Jy,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:h,preventScrollReset:p,viewTransition:x}=t,f=Zy(t,rv),{basename:w}=k.useContext(er),b,y=!1;if(typeof h=="string"&&ov.test(h)&&(b=h,lv))try{let j=new URL(window.location.href),_=h.startsWith("//")?new URL(j.protocol+h):new URL(h),A=Sd(_.pathname,w);_.origin===j.origin&&A!=null?h=A+_.search+_.hash:y=!0}catch{}let N=Oy(h,{relative:i}),v=cv(h,{replace:l,state:o,target:c,preventScrollReset:p,relative:i,viewTransition:x});function d(j){n&&n(j),j.defaultPrevented||v(j)}return k.createElement("a",ic({},f,{href:b||N,onClick:y||a?n:d,ref:r,target:c}))});var uh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uh||(uh={}));var hh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hh||(hh={}));function cv(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Ut(),h=wn(),p=_f(e,{relative:l});return k.useCallback(x=>{if(tv(x,r)){x.preventDefault();let f=n!==void 0?n:Ya(h)===Ya(p);c(e,{replace:f,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[h,c,p,n,i,r,e,a,l,o])}function Lt(e){let t=k.useRef(ac(e)),r=k.useRef(!1),n=wn(),i=k.useMemo(()=>sv(n.search,r.current?null:t.current),[n.search]),a=Ut(),l=k.useCallback((o,c)=>{const h=ac(typeof o=="function"?o(i):o);r.current=!0,a("?"+h,c)},[a,i]);return[i,l]}var kn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wr=typeof window>"u"||"Deno"in globalThis;function et(){}function dv(e,t){return typeof e=="function"?e(t):e}function lc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qs(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function mh(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==Rd(l,t.options))return!1}else if(!ji(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function ph(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(kr(t.options.mutationKey)!==kr(a))return!1}else if(!ji(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Rd(e,t){return((t==null?void 0:t.queryKeyHashFn)||kr)(e)}function kr(e){return JSON.stringify(e,(t,r)=>oc(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ji(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ji(e[r],t[r])):!1}function Cf(e,t){if(e===t)return e;const r=fh(e)&&fh(t);if(r||oc(e)&&oc(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),l=a.length,o=r?[]:{},c=new Set(n);let h=0;for(let p=0;p<l;p++){const x=r?p:a[p];(!r&&c.has(x)||r)&&e[x]===void 0&&t[x]===void 0?(o[x]=void 0,h++):(o[x]=Cf(e[x],t[x]),o[x]===e[x]&&e[x]!==void 0&&h++)}return i===l&&h===i?e:o}return t}function Ja(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function fh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oc(e){if(!xh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xh(e){return Object.prototype.toString.call(e)==="[object Object]"}function uv(e){return new Promise(t=>{setTimeout(t,e)})}function cc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Cf(e,t):t}function hv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mv(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ld=Symbol();function Ef(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ld?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Pf(e,t){return typeof e=="function"?e(...t):!!e}var or,ks,Jr,Hh,pv=(Hh=class extends kn{constructor(){super();se(this,or);se(this,ks);se(this,Jr);K(this,Jr,t=>{if(!wr&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,ks)||this.setEventListener(E(this,Jr))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,ks))==null||t.call(this),K(this,ks,void 0))}setEventListener(t){var r;K(this,Jr,t),(r=E(this,ks))==null||r.call(this),K(this,ks,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,or)!==t&&(K(this,or,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,or)=="boolean"?E(this,or):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},or=new WeakMap,ks=new WeakMap,Jr=new WeakMap,Hh),Td=new pv,Xr,Ss,Zr,Wh,fv=(Wh=class extends kn{constructor(){super();se(this,Xr,!0);se(this,Ss);se(this,Zr);K(this,Zr,t=>{if(!wr&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,Ss)||this.setEventListener(E(this,Zr))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ss))==null||t.call(this),K(this,Ss,void 0))}setEventListener(t){var r;K(this,Zr,t),(r=E(this,Ss))==null||r.call(this),K(this,Ss,t(this.setOnline.bind(this)))}setOnline(t){E(this,Xr)!==t&&(K(this,Xr,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Xr)}},Xr=new WeakMap,Ss=new WeakMap,Zr=new WeakMap,Wh),Xa=new fv;function dc(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function xv(e){return Math.min(1e3*2**e,3e4)}function Rf(e){return(e??"online")==="online"?Xa.isOnline():!0}var Lf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tf(e){let t=!1,r=0,n;const i=dc(),a=()=>i.status!=="pending",l=y=>{var N;a()||(f(new Lf(y)),(N=e.abort)==null||N.call(e))},o=()=>{t=!0},c=()=>{t=!1},h=()=>Td.isFocused()&&(e.networkMode==="always"||Xa.isOnline())&&e.canRun(),p=()=>Rf(e.networkMode)&&e.canRun(),x=y=>{a()||(n==null||n(),i.resolve(y))},f=y=>{a()||(n==null||n(),i.reject(y))},w=()=>new Promise(y=>{var N;n=v=>{(a()||h())&&y(v)},(N=e.onPause)==null||N.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(a())return;let y;const N=r===0?e.initialPromise:void 0;try{y=N??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(x).catch(v=>{var L;if(a())return;const d=e.retry??(wr?0:3),j=e.retryDelay??xv,_=typeof j=="function"?j(r,v):j,A=d===!0||typeof d=="number"&&r<d||typeof d=="function"&&d(r,v);if(t||!A){f(v);return}r++,(L=e.onFail)==null||L.call(e,r,v),uv(_).then(()=>h()?void 0:w()).then(()=>{t?f(v):b()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:p,start:()=>(p()?b():w().then(b),i)}}var gv=e=>setTimeout(e,0);function yv(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=gv;const a=o=>{t?e.push(o):i(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Ae=yv(),cr,Qh,Ff=(Qh=class{constructor(){se(this,cr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lc(this.gcTime)&&K(this,cr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wr?1/0:5*60*1e3))}clearGcTimeout(){E(this,cr)&&(clearTimeout(E(this,cr)),K(this,cr,void 0))}},cr=new WeakMap,Qh),en,tn,_t,dr,$e,wi,ur,Ot,rs,Kh,vv=(Kh=class extends Ff{constructor(t){super();se(this,Ot);se(this,en);se(this,tn);se(this,_t);se(this,dr);se(this,$e);se(this,wi);se(this,ur);K(this,ur,!1),K(this,wi,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,dr,t.client),K(this,_t,E(this,dr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,en,bv(this.options)),this.state=t.state??E(this,en),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,$e))==null?void 0:t.promise}setOptions(t){this.options={...E(this,wi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,_t).remove(this)}setData(t,r){const n=cc(this.state.data,t,this.options);return ie(this,Ot,rs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ie(this,Ot,rs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=E(this,$e))==null?void 0:n.promise;return(i=E(this,$e))==null||i.cancel(t),r?r.then(et).catch(et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,en))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ld||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Sf(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,$e))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,$e))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,_t).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,$e)&&(E(this,ur)?E(this,$e).cancel({revert:!0}):E(this,$e).cancelRetry()),this.scheduleGc()),E(this,_t).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,Ot,rs).call(this,{type:"invalidate"})}async fetch(t,r){var c,h,p,x,f,w,b,y,N,v,d,j;if(this.state.fetchStatus!=="idle"&&((c=E(this,$e))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,$e))return E(this,$e).continueRetry(),E(this,$e).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(A=>A.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(K(this,ur,!0),n.signal)})},a=()=>{const _=Ef(this.options,r),L=(()=>{const g={client:E(this,dr),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return K(this,ur,!1),this.options.persister?this.options.persister(_,L,this):_(L)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,dr),state:this.state,fetchFn:a};return i(_),_})();(h=this.options.behavior)==null||h.onFetch(o,this),K(this,tn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=o.fetchOptions)==null?void 0:p.meta))&&ie(this,Ot,rs).call(this,{type:"fetch",meta:(x=o.fetchOptions)==null?void 0:x.meta}),K(this,$e,Tf({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(_,A)=>{ie(this,Ot,rs).call(this,{type:"failed",failureCount:_,error:A})},onPause:()=>{ie(this,Ot,rs).call(this,{type:"pause"})},onContinue:()=>{ie(this,Ot,rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await E(this,$e).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(w=(f=E(this,_t).config).onSuccess)==null||w.call(f,_,this),(y=(b=E(this,_t).config).onSettled)==null||y.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof Lf){if(_.silent)return E(this,$e).promise;if(_.revert)return this.setState({...E(this,tn),fetchStatus:"idle"}),this.state.data}throw ie(this,Ot,rs).call(this,{type:"error",error:_}),(v=(N=E(this,_t).config).onError)==null||v.call(N,_,this),(j=(d=E(this,_t).config).onSettled)==null||j.call(d,this.state.data,_,this),_}finally{this.scheduleGc()}}},en=new WeakMap,tn=new WeakMap,_t=new WeakMap,dr=new WeakMap,$e=new WeakMap,wi=new WeakMap,ur=new WeakMap,Ot=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Af(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,tn,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ae.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,_t).notify({query:this,type:"updated",action:t})})},Kh);function Af(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gt,Gh,jv=(Gh=class extends kn{constructor(t={}){super();se(this,Gt);this.config=t,K(this,Gt,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??Rd(i,r);let l=this.get(a);return l||(l=new vv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){E(this,Gt).has(t.queryHash)||(E(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,Gt).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ae.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Gt).get(t)}getAll(){return[...E(this,Gt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>mh(t,n)):r}notify(t){Ae.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,Gh),Yt,Je,hr,Jt,bs,Yh,_v=(Yh=class extends Ff{constructor(t){super();se(this,Jt);se(this,Yt);se(this,Je);se(this,hr);this.mutationId=t.mutationId,K(this,Je,t.mutationCache),K(this,Yt,[]),this.state=t.state||Of(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Yt).includes(t)||(E(this,Yt).push(t),this.clearGcTimeout(),E(this,Je).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Yt,E(this,Yt).filter(r=>r!==t)),this.scheduleGc(),E(this,Je).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Yt).length||(this.state.status==="pending"?this.scheduleGc():E(this,Je).remove(this))}continue(){var t;return((t=E(this,hr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,o,c,h,p,x,f,w,b,y,N,v,d,j,_,A,L,g,C;const r=()=>{ie(this,Jt,bs).call(this,{type:"continue"})};K(this,hr,Tf({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,P)=>{ie(this,Jt,bs).call(this,{type:"failed",failureCount:z,error:P})},onPause:()=>{ie(this,Jt,bs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Je).canRun(this)}));const n=this.state.status==="pending",i=!E(this,hr).canStart();try{if(n)r();else{ie(this,Jt,bs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=E(this,Je).config).onMutate)==null?void 0:l.call(a,t,this));const P=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));P!==this.state.context&&ie(this,Jt,bs).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const z=await E(this,hr).start();return await((p=(h=E(this,Je).config).onSuccess)==null?void 0:p.call(h,z,t,this.state.context,this)),await((f=(x=this.options).onSuccess)==null?void 0:f.call(x,z,t,this.state.context)),await((b=(w=E(this,Je).config).onSettled)==null?void 0:b.call(w,z,null,this.state.variables,this.state.context,this)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,z,null,t,this.state.context)),ie(this,Jt,bs).call(this,{type:"success",data:z}),z}catch(z){try{throw await((d=(v=E(this,Je).config).onError)==null?void 0:d.call(v,z,t,this.state.context,this)),await((_=(j=this.options).onError)==null?void 0:_.call(j,z,t,this.state.context)),await((L=(A=E(this,Je).config).onSettled)==null?void 0:L.call(A,void 0,z,this.state.variables,this.state.context,this)),await((C=(g=this.options).onSettled)==null?void 0:C.call(g,void 0,z,t,this.state.context)),z}finally{ie(this,Jt,bs).call(this,{type:"error",error:z})}}finally{E(this,Je).runNext(this)}}},Yt=new WeakMap,Je=new WeakMap,hr=new WeakMap,Jt=new WeakSet,bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ae.batch(()=>{E(this,Yt).forEach(n=>{n.onMutationUpdate(t)}),E(this,Je).notify({mutation:this,type:"updated",action:t})})},Yh);function Of(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var as,Mt,ki,Jh,Nv=(Jh=class extends kn{constructor(t={}){super();se(this,as);se(this,Mt);se(this,ki);this.config=t,K(this,as,new Set),K(this,Mt,new Map),K(this,ki,0)}build(t,r,n){const i=new _v({mutationCache:this,mutationId:++Bi(this,ki)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){E(this,as).add(t);const r=sa(t);if(typeof r=="string"){const n=E(this,Mt).get(r);n?n.push(t):E(this,Mt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,as).delete(t)){const r=sa(t);if(typeof r=="string"){const n=E(this,Mt).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&E(this,Mt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=sa(t);if(typeof r=="string"){const n=E(this,Mt).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=sa(t);if(typeof r=="string"){const i=(n=E(this,Mt).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ae.batch(()=>{E(this,as).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,as).clear(),E(this,Mt).clear()})}getAll(){return Array.from(E(this,as))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ph(r,n))}findAll(t={}){return this.getAll().filter(r=>ph(t,r))}notify(t){Ae.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ae.batch(()=>Promise.all(t.map(r=>r.continue().catch(et))))}},as=new WeakMap,Mt=new WeakMap,ki=new WeakMap,Jh);function sa(e){var t;return(t=e.options.scope)==null?void 0:t.id}function gh(e){return{onFetch:(t,r)=>{var p,x,f,w,b;const n=t.options,i=(f=(x=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:x.fetchMore)==null?void 0:f.direction,a=((w=t.state.data)==null?void 0:w.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const h=async()=>{let y=!1;const N=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=Ef(t.options,t.fetchOptions),d=async(j,_,A)=>{if(y)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const g=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:_,direction:A?"backward":"forward",meta:t.options.meta};return N(R),R})(),C=await v(g),{maxPages:z}=t.options,P=A?mv:hv;return{pages:P(j.pages,C,z),pageParams:P(j.pageParams,_,z)}};if(i&&a.length){const j=i==="backward",_=j?wv:yh,A={pages:a,pageParams:l},L=_(n,A);o=await d(A,L,j)}else{const j=e??a.length;do{const _=c===0?l[0]??n.initialPageParam:yh(n,o);if(c>0&&_==null)break;o=await d(o,_),c++}while(c<j)}return o};t.options.persister?t.fetchFn=()=>{var y,N;return(N=(y=t.options).persister)==null?void 0:N.call(y,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function yh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wv(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Se,Cs,Es,sn,rn,Ps,nn,an,Xh,kv=(Xh=class{constructor(e={}){se(this,Se);se(this,Cs);se(this,Es);se(this,sn);se(this,rn);se(this,Ps);se(this,nn);se(this,an);K(this,Se,e.queryCache||new jv),K(this,Cs,e.mutationCache||new Nv),K(this,Es,e.defaultOptions||{}),K(this,sn,new Map),K(this,rn,new Map),K(this,Ps,0)}mount(){Bi(this,Ps)._++,E(this,Ps)===1&&(K(this,nn,Td.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Se).onFocus())})),K(this,an,Xa.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Se).onOnline())})))}unmount(){var e,t;Bi(this,Ps)._--,E(this,Ps)===0&&((e=E(this,nn))==null||e.call(this),K(this,nn,void 0),(t=E(this,an))==null||t.call(this),K(this,an,void 0))}isFetching(e){return E(this,Se).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Se).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,Se).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,Se).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=E(this,Se).get(n.queryHash),a=i==null?void 0:i.state.data,l=dv(t,a);if(l!==void 0)return E(this,Se).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Ae.batch(()=>E(this,Se).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Se).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,Se);Ae.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,Se);return Ae.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ae.batch(()=>E(this,Se).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(et).catch(et)}invalidateQueries(e,t={}){return Ae.batch(()=>(E(this,Se).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ae.batch(()=>E(this,Se).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(et)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(et)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,Se).build(this,t);return r.isStaleByTime(Qs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(et).catch(et)}fetchInfiniteQuery(e){return e.behavior=gh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(et).catch(et)}ensureInfiniteQueryData(e){return e.behavior=gh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xa.isOnline()?E(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Se)}getMutationCache(){return E(this,Cs)}getDefaultOptions(){return E(this,Es)}setDefaultOptions(e){K(this,Es,e)}setQueryDefaults(e,t){E(this,sn).set(kr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,sn).values()],r={};return t.forEach(n=>{ji(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,rn).set(kr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,rn).values()],r={};return t.forEach(n=>{ji(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ld&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,Se).clear(),E(this,Cs).clear()}},Se=new WeakMap,Cs=new WeakMap,Es=new WeakMap,sn=new WeakMap,rn=new WeakMap,Ps=new WeakMap,nn=new WeakMap,an=new WeakMap,Xh),it,oe,Si,Xe,mr,ln,Rs,Ls,Ci,on,cn,pr,fr,Ts,dn,he,Hn,uc,hc,mc,pc,fc,xc,gc,Mf,Zh,Sv=(Zh=class extends kn{constructor(t,r){super();se(this,he);se(this,it);se(this,oe);se(this,Si);se(this,Xe);se(this,mr);se(this,ln);se(this,Rs);se(this,Ls);se(this,Ci);se(this,on);se(this,cn);se(this,pr);se(this,fr);se(this,Ts);se(this,dn,new Set);this.options=r,K(this,it,t),K(this,Ls,null),K(this,Rs,dc()),this.options.experimental_prefetchInRender||E(this,Rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,oe).addObserver(this),vh(E(this,oe),this.options)?ie(this,he,Hn).call(this):this.updateResult(),ie(this,he,pc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yc(E(this,oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yc(E(this,oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,he,fc).call(this),ie(this,he,xc).call(this),E(this,oe).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,oe);if(this.options=E(this,it).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,E(this,oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,he,gc).call(this),E(this,oe).setOptions(this.options),r._defaulted&&!Ja(this.options,r)&&E(this,it).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,oe),observer:this});const i=this.hasListeners();i&&bh(E(this,oe),n,this.options,r)&&ie(this,he,Hn).call(this),this.updateResult(),i&&(E(this,oe)!==n||Nt(this.options.enabled,E(this,oe))!==Nt(r.enabled,E(this,oe))||Qs(this.options.staleTime,E(this,oe))!==Qs(r.staleTime,E(this,oe)))&&ie(this,he,uc).call(this);const a=ie(this,he,hc).call(this);i&&(E(this,oe)!==n||Nt(this.options.enabled,E(this,oe))!==Nt(r.enabled,E(this,oe))||a!==E(this,Ts))&&ie(this,he,mc).call(this,a)}getOptimisticResult(t){const r=E(this,it).getQueryCache().build(E(this,it),t),n=this.createResult(r,t);return Ev(this,n)&&(K(this,Xe,n),K(this,ln,this.options),K(this,mr,E(this,oe).state)),n}getCurrentResult(){return E(this,Xe)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(t){E(this,dn).add(t)}getCurrentQuery(){return E(this,oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,it).defaultQueryOptions(t),n=E(this,it).getQueryCache().build(E(this,it),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ie(this,he,Hn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Xe)))}createResult(t,r){var z;const n=E(this,oe),i=this.options,a=E(this,Xe),l=E(this,mr),o=E(this,ln),h=t!==n?t.state:E(this,Si),{state:p}=t;let x={...p},f=!1,w;if(r._optimisticResults){const P=this.hasListeners(),R=!P&&vh(t,r),M=P&&bh(t,n,r,i);(R||M)&&(x={...x,...Af(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:b,errorUpdatedAt:y,status:N}=x;w=x.data;let v=!1;if(r.placeholderData!==void 0&&w===void 0&&N==="pending"){let P;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(P=a.data,v=!0):P=typeof r.placeholderData=="function"?r.placeholderData((z=E(this,cn))==null?void 0:z.state.data,E(this,cn)):r.placeholderData,P!==void 0&&(N="success",w=cc(a==null?void 0:a.data,P,r),f=!0)}if(r.select&&w!==void 0&&!v)if(a&&w===(l==null?void 0:l.data)&&r.select===E(this,Ci))w=E(this,on);else try{K(this,Ci,r.select),w=r.select(w),w=cc(a==null?void 0:a.data,w,r),K(this,on,w),K(this,Ls,null)}catch(P){K(this,Ls,P)}E(this,Ls)&&(b=E(this,Ls),w=E(this,on),y=Date.now(),N="error");const d=x.fetchStatus==="fetching",j=N==="pending",_=N==="error",A=j&&d,L=w!==void 0,C={status:N,fetchStatus:x.fetchStatus,isPending:j,isSuccess:N==="success",isError:_,isInitialLoading:A,isLoading:A,data:w,dataUpdatedAt:x.dataUpdatedAt,error:b,errorUpdatedAt:y,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:d,isRefetching:d&&!j,isLoadingError:_&&!L,isPaused:x.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&L,isStale:Fd(t,r),refetch:this.refetch,promise:E(this,Rs),isEnabled:Nt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=te=>{C.status==="error"?te.reject(C.error):C.data!==void 0&&te.resolve(C.data)},R=()=>{const te=K(this,Rs,C.promise=dc());P(te)},M=E(this,Rs);switch(M.status){case"pending":t.queryHash===n.queryHash&&P(M);break;case"fulfilled":(C.status==="error"||C.data!==M.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==M.reason)&&R();break}}return C}updateResult(){const t=E(this,Xe),r=this.createResult(E(this,oe),this.options);if(K(this,mr,E(this,oe).state),K(this,ln,this.options),E(this,mr).data!==void 0&&K(this,cn,E(this,oe)),Ja(r,t))return;K(this,Xe,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!E(this,dn).size)return!0;const l=new Set(a??E(this,dn));return this.options.throwOnError&&l.add("error"),Object.keys(E(this,Xe)).some(o=>{const c=o;return E(this,Xe)[c]!==t[c]&&l.has(c)})};ie(this,he,Mf).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,he,pc).call(this)}},it=new WeakMap,oe=new WeakMap,Si=new WeakMap,Xe=new WeakMap,mr=new WeakMap,ln=new WeakMap,Rs=new WeakMap,Ls=new WeakMap,Ci=new WeakMap,on=new WeakMap,cn=new WeakMap,pr=new WeakMap,fr=new WeakMap,Ts=new WeakMap,dn=new WeakMap,he=new WeakSet,Hn=function(t){ie(this,he,gc).call(this);let r=E(this,oe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(et)),r},uc=function(){ie(this,he,fc).call(this);const t=Qs(this.options.staleTime,E(this,oe));if(wr||E(this,Xe).isStale||!lc(t))return;const n=Sf(E(this,Xe).dataUpdatedAt,t)+1;K(this,pr,setTimeout(()=>{E(this,Xe).isStale||this.updateResult()},n))},hc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,oe)):this.options.refetchInterval)??!1},mc=function(t){ie(this,he,xc).call(this),K(this,Ts,t),!(wr||Nt(this.options.enabled,E(this,oe))===!1||!lc(E(this,Ts))||E(this,Ts)===0)&&K(this,fr,setInterval(()=>{(this.options.refetchIntervalInBackground||Td.isFocused())&&ie(this,he,Hn).call(this)},E(this,Ts)))},pc=function(){ie(this,he,uc).call(this),ie(this,he,mc).call(this,ie(this,he,hc).call(this))},fc=function(){E(this,pr)&&(clearTimeout(E(this,pr)),K(this,pr,void 0))},xc=function(){E(this,fr)&&(clearInterval(E(this,fr)),K(this,fr,void 0))},gc=function(){const t=E(this,it).getQueryCache().build(E(this,it),this.options);if(t===E(this,oe))return;const r=E(this,oe);K(this,oe,t),K(this,Si,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Mf=function(t){Ae.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,Xe))}),E(this,it).getQueryCache().notify({query:E(this,oe),type:"observerResultsUpdated"})})},Zh);function Cv(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vh(e,t){return Cv(e,t)||e.state.data!==void 0&&yc(e,t,t.refetchOnMount)}function yc(e,t,r){if(Nt(t.enabled,e)!==!1&&Qs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Fd(e,t)}return!1}function bh(e,t,r,n){return(e!==t||Nt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Fd(e,r)}function Fd(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Qs(t.staleTime,e))}function Ev(e,t){return!Ja(e.getCurrentResult(),t)}var Fs,As,at,ls,us,ga,vc,em,Pv=(em=class extends kn{constructor(r,n){super();se(this,us);se(this,Fs);se(this,As);se(this,at);se(this,ls);K(this,Fs,r),this.setOptions(n),this.bindMethods(),ie(this,us,ga).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=E(this,Fs).defaultMutationOptions(r),Ja(this.options,n)||E(this,Fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,at),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&kr(n.mutationKey)!==kr(this.options.mutationKey)?this.reset():((i=E(this,at))==null?void 0:i.state.status)==="pending"&&E(this,at).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,at))==null||r.removeObserver(this)}onMutationUpdate(r){ie(this,us,ga).call(this),ie(this,us,vc).call(this,r)}getCurrentResult(){return E(this,As)}reset(){var r;(r=E(this,at))==null||r.removeObserver(this),K(this,at,void 0),ie(this,us,ga).call(this),ie(this,us,vc).call(this)}mutate(r,n){var i;return K(this,ls,n),(i=E(this,at))==null||i.removeObserver(this),K(this,at,E(this,Fs).getMutationCache().build(E(this,Fs),this.options)),E(this,at).addObserver(this),E(this,at).execute(r)}},Fs=new WeakMap,As=new WeakMap,at=new WeakMap,ls=new WeakMap,us=new WeakSet,ga=function(){var n;const r=((n=E(this,at))==null?void 0:n.state)??Of();K(this,As,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},vc=function(r){Ae.batch(()=>{var n,i,a,l,o,c,h,p;if(E(this,ls)&&this.hasListeners()){const x=E(this,As).variables,f=E(this,As).context;(r==null?void 0:r.type)==="success"?((i=(n=E(this,ls)).onSuccess)==null||i.call(n,r.data,x,f),(l=(a=E(this,ls)).onSettled)==null||l.call(a,r.data,null,x,f)):(r==null?void 0:r.type)==="error"&&((c=(o=E(this,ls)).onError)==null||c.call(o,r.error,x,f),(p=(h=E(this,ls)).onSettled)==null||p.call(h,void 0,r.error,x,f))}this.listeners.forEach(x=>{x(E(this,As))})})},em),$f=k.createContext(void 0),ys=e=>{const t=k.useContext($f);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rv=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx($f.Provider,{value:e,children:t})),Bf=k.createContext(!1),Lv=()=>k.useContext(Bf);Bf.Provider;function Tv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fv=k.createContext(Tv()),Av=()=>k.useContext(Fv),Ov=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Mv=e=>{k.useEffect(()=>{e.clearReset()},[e])},$v=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||Pf(r,[e.error,n])),Bv=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Iv=(e,t)=>e.isLoading&&e.isFetching&&!t,Dv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jh=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function zv(e,t,r){var x,f,w,b,y;const n=Lv(),i=Av(),a=ys(),l=a.defaultQueryOptions(e);(f=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||f.call(x,l),l._optimisticResults=n?"isRestoring":"optimistic",Bv(l),Ov(l,i),Mv(i);const o=!a.getQueryCache().get(l.queryHash),[c]=k.useState(()=>new t(a,l)),h=c.getOptimisticResult(l),p=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(N=>{const v=p?c.subscribe(Ae.batchCalls(N)):et;return c.updateResult(),v},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(l)},[l,c]),Dv(l,h))throw jh(l,c,i);if($v({result:h,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((b=(w=a.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||b.call(w,l,h),l.experimental_prefetchInRender&&!wr&&Iv(h,n)){const N=o?jh(l,c,i):(y=a.getQueryCache().get(l.queryHash))==null?void 0:y.promise;N==null||N.catch(et).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?h:c.trackResult(h)}function ae(e,t){return zv(e,Sv)}function De(e,t){const r=ys(),[n]=k.useState(()=>new Pv(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const i=k.useSyncExternalStore(k.useCallback(l=>n.subscribe(Ae.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=k.useCallback((l,o)=>{n.mutate(l,o).catch(et)},[n]);if(i.error&&Pf(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const qv={},_h=e=>{let t;const r=new Set,n=(p,x)=>{const f=typeof p=="function"?p(t):p;if(!Object.is(f,t)){const w=t;t=x??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(b=>b(t,w))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>h,subscribe:p=>(r.add(p),()=>r.delete(p)),destroy:()=>{(qv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=t=e(n,i,c);return c},Uv=e=>e?_h(e):_h;var If={exports:{}},Df={},zf={exports:{}},qf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=k;function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hv=typeof Object.is=="function"?Object.is:Vv,Wv=yn.useState,Qv=yn.useEffect,Kv=yn.useLayoutEffect,Gv=yn.useDebugValue;function Yv(e,t){var r=t(),n=Wv({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Kv(function(){i.value=r,i.getSnapshot=t,so(i)&&a({inst:i})},[e,r,t]),Qv(function(){return so(i)&&a({inst:i}),e(function(){so(i)&&a({inst:i})})},[e]),Gv(r),r}function so(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hv(e,r)}catch{return!0}}function Jv(e,t){return t()}var Xv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jv:Yv;qf.useSyncExternalStore=yn.useSyncExternalStore!==void 0?yn.useSyncExternalStore:Xv;zf.exports=qf;var Zv=zf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=k,eb=Zv;function tb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sb=typeof Object.is=="function"?Object.is:tb,rb=eb.useSyncExternalStore,nb=vl.useRef,ib=vl.useEffect,ab=vl.useMemo,lb=vl.useDebugValue;Df.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=nb(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=ab(function(){function c(w){if(!h){if(h=!0,p=w,w=n(w),i!==void 0&&l.hasValue){var b=l.value;if(i(b,w))return x=b}return x=w}if(b=x,sb(p,w))return b;var y=n(w);return i!==void 0&&i(b,y)?(p=w,b):(p=w,x=y)}var h=!1,p,x,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,i]);var o=rb(e,a[0],a[1]);return ib(function(){l.hasValue=!0,l.value=o},[o]),lb(o),o};If.exports=Df;var ob=If.exports;const cb=tm(ob),Uf={},{useDebugValue:db}=sl,{useSyncExternalStoreWithSelector:ub}=cb;let Nh=!1;const hb=e=>e;function mb(e,t=hb,r){(Uf?"production":void 0)!=="production"&&r&&!Nh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Nh=!0);const n=ub(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return db(n),n}const pb=e=>{(Uf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Uv(e):e,r=(n,i)=>mb(t,n,i);return Object.assign(r,t),r},fb=e=>pb,xb={};function gb(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const l=c=>c===null?null:JSON.parse(c,void 0),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(l):l(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const _i=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return _i(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return _i(n)(r)}}}},yb=(e,t)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,v)=>({...v,...N}),...t},l=!1;const o=new Set,c=new Set;let h;try{h=a.getStorage()}catch{}if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...N)},n,i);const p=_i(a.serialize),x=()=>{const N=a.partialize({...n()});let v;const d=p({state:N,version:a.version}).then(j=>h.setItem(a.name,j)).catch(j=>{v=j});if(v)throw v;return d},f=i.setState;i.setState=(N,v)=>{f(N,v),x()};const w=e((...N)=>{r(...N),x()},n,i);let b;const y=()=>{var N;if(!h)return;l=!1,o.forEach(d=>d(n()));const v=((N=a.onRehydrateStorage)==null?void 0:N.call(a,n()))||void 0;return _i(h.getItem.bind(h))(a.name).then(d=>{if(d)return a.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==a.version){if(a.migrate)return a.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var j;return b=a.merge(d,(j=n())!=null?j:w),r(b,!0),x()}).then(()=>{v==null||v(b,void 0),l=!0,c.forEach(d=>d(b))}).catch(d=>{v==null||v(void 0,d)})};return i.persist={setOptions:N=>{a={...a,...N},N.getStorage&&(h=N.getStorage())},clearStorage:()=>{h==null||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:N=>(o.add(N),()=>{o.delete(N)}),onFinishHydration:N=>(c.add(N),()=>{c.delete(N)})},y(),b||w},vb=(e,t)=>(r,n,i)=>{let a={storage:gb(()=>localStorage),partialize:y=>y,version:0,merge:(y,N)=>({...N,...y}),...t},l=!1;const o=new Set,c=new Set;let h=a.storage;if(!h)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},n,i);const p=()=>{const y=a.partialize({...n()});return h.setItem(a.name,{state:y,version:a.version})},x=i.setState;i.setState=(y,N)=>{x(y,N),p()};const f=e((...y)=>{r(...y),p()},n,i);i.getInitialState=()=>f;let w;const b=()=>{var y,N;if(!h)return;l=!1,o.forEach(d=>{var j;return d((j=n())!=null?j:f)});const v=((N=a.onRehydrateStorage)==null?void 0:N.call(a,(y=n())!=null?y:f))||void 0;return _i(h.getItem.bind(h))(a.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==a.version){if(a.migrate)return[!0,a.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var j;const[_,A]=d;if(w=a.merge(A,(j=n())!=null?j:f),r(w,!0),_)return p()}).then(()=>{v==null||v(w,void 0),w=n(),l=!0,c.forEach(d=>d(w))}).catch(d=>{v==null||v(void 0,d)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(h=y.storage)},clearStorage:()=>{h==null||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||b(),w||f},bb=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),yb(e,t)):vb(e,t),jb=bb;function Vf(e,t){return function(){return e.apply(t,arguments)}}const{toString:_b}=Object.prototype,{getPrototypeOf:Ad}=Object,{iterator:bl,toStringTag:Hf}=Symbol,jl=(e=>t=>{const r=_b.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>jl(t)===e),_l=e=>t=>typeof t===e,{isArray:Sn}=Array,Ni=_l("undefined");function Fi(e){return e!==null&&!Ni(e)&&e.constructor!==null&&!Ni(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wf=Vt("ArrayBuffer");function Nb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wf(e.buffer),t}const wb=_l("string"),ht=_l("function"),Qf=_l("number"),Ai=e=>e!==null&&typeof e=="object",kb=e=>e===!0||e===!1,ya=e=>{if(jl(e)!=="object")return!1;const t=Ad(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hf in e)&&!(bl in e)},Sb=e=>{if(!Ai(e)||Fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Cb=Vt("Date"),Eb=Vt("File"),Pb=Vt("Blob"),Rb=Vt("FileList"),Lb=e=>Ai(e)&&ht(e.pipe),Tb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=jl(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},Fb=Vt("URLSearchParams"),[Ab,Ob,Mb,$b]=["ReadableStream","Request","Response","Headers"].map(Vt),Bb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oi(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Sn(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Fi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function Kf(e,t){if(Fi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gf=e=>!Ni(e)&&e!==lr;function bc(){const{caseless:e}=Gf(this)&&this||{},t={},r=(n,i)=>{const a=e&&Kf(t,i)||i;ya(t[a])&&ya(n)?t[a]=bc(t[a],n):ya(n)?t[a]=bc({},n):Sn(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Oi(arguments[n],r);return t}const Ib=(e,t,r,{allOwnKeys:n}={})=>(Oi(t,(i,a)=>{r&&ht(i)?e[a]=Vf(i,r):e[a]=i},{allOwnKeys:n}),e),Db=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zb=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},qb=(e,t,r,n)=>{let i,a,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&Ad(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ub=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Vb=e=>{if(!e)return null;if(Sn(e))return e;let t=e.length;if(!Qf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Hb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ad(Uint8Array)),Wb=(e,t)=>{const n=(e&&e[bl]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Qb=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Kb=Vt("HTMLFormElement"),Gb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),wh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Yb=Vt("RegExp"),Yf=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Oi(r,(i,a)=>{let l;(l=t(i,a,e))!==!1&&(n[a]=l||i)}),Object.defineProperties(e,n)},Jb=e=>{Yf(e,(t,r)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ht(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Xb=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Sn(e)?n(e):n(String(e).split(t)),r},Zb=()=>{},ej=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tj(e){return!!(e&&ht(e.append)&&e[Hf]==="FormData"&&e[bl])}const sj=e=>{const t=new Array(10),r=(n,i)=>{if(Ai(n)){if(t.indexOf(n)>=0)return;if(Fi(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Sn(n)?[]:{};return Oi(n,(l,o)=>{const c=r(l,i+1);!Ni(c)&&(a[o]=c)}),t[i]=void 0,a}}return n};return r(e,0)},rj=Vt("AsyncFunction"),nj=e=>e&&(Ai(e)||ht(e))&&ht(e.then)&&ht(e.catch),Jf=((e,t)=>e?setImmediate:t?((r,n)=>(lr.addEventListener("message",({source:i,data:a})=>{i===lr&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),lr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ht(lr.postMessage)),ij=typeof queueMicrotask<"u"?queueMicrotask.bind(lr):typeof process<"u"&&process.nextTick||Jf,aj=e=>e!=null&&ht(e[bl]),I={isArray:Sn,isArrayBuffer:Wf,isBuffer:Fi,isFormData:Tb,isArrayBufferView:Nb,isString:wb,isNumber:Qf,isBoolean:kb,isObject:Ai,isPlainObject:ya,isEmptyObject:Sb,isReadableStream:Ab,isRequest:Ob,isResponse:Mb,isHeaders:$b,isUndefined:Ni,isDate:Cb,isFile:Eb,isBlob:Pb,isRegExp:Yb,isFunction:ht,isStream:Lb,isURLSearchParams:Fb,isTypedArray:Hb,isFileList:Rb,forEach:Oi,merge:bc,extend:Ib,trim:Bb,stripBOM:Db,inherits:zb,toFlatObject:qb,kindOf:jl,kindOfTest:Vt,endsWith:Ub,toArray:Vb,forEachEntry:Wb,matchAll:Qb,isHTMLForm:Kb,hasOwnProperty:wh,hasOwnProp:wh,reduceDescriptors:Yf,freezeMethods:Jb,toObjectSet:Xb,toCamelCase:Gb,noop:Zb,toFiniteNumber:ej,findKey:Kf,global:lr,isContextDefined:Gf,isSpecCompliantForm:tj,toJSONObject:sj,isAsyncFn:rj,isThenable:nj,setImmediate:Jf,asap:ij,isIterable:aj};function ne(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}I.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Xf=ne.prototype,Zf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zf[e]={value:e}});Object.defineProperties(ne,Zf);Object.defineProperty(Xf,"isAxiosError",{value:!0});ne.from=(e,t,r,n,i,a)=>{const l=Object.create(Xf);return I.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),ne.call(l,e.message,t,r,n,i),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const lj=null;function jc(e){return I.isPlainObject(e)||I.isArray(e)}function ex(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function kh(e,t,r){return e?e.concat(t).map(function(i,a){return i=ex(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function oj(e){return I.isArray(e)&&!e.some(jc)}const cj=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Nl(e,t,r){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=I.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,N){return!I.isUndefined(N[y])});const n=r.metaTokens,i=r.visitor||p,a=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(I.isDate(b))return b.toISOString();if(I.isBoolean(b))return b.toString();if(!c&&I.isBlob(b))throw new ne("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(b)||I.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,y,N){let v=b;if(b&&!N&&typeof b=="object"){if(I.endsWith(y,"{}"))y=n?y:y.slice(0,-2),b=JSON.stringify(b);else if(I.isArray(b)&&oj(b)||(I.isFileList(b)||I.endsWith(y,"[]"))&&(v=I.toArray(b)))return y=ex(y),v.forEach(function(j,_){!(I.isUndefined(j)||j===null)&&t.append(l===!0?kh([y],_,a):l===null?y:y+"[]",h(j))}),!1}return jc(b)?!0:(t.append(kh(N,y,a),h(b)),!1)}const x=[],f=Object.assign(cj,{defaultVisitor:p,convertValue:h,isVisitable:jc});function w(b,y){if(!I.isUndefined(b)){if(x.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));x.push(b),I.forEach(b,function(v,d){(!(I.isUndefined(v)||v===null)&&i.call(t,v,I.isString(d)?d.trim():d,y,f))===!0&&w(v,y?y.concat(d):[d])}),x.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Sh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Od(e,t){this._pairs=[],e&&Nl(e,this,t)}const tx=Od.prototype;tx.append=function(t,r){this._pairs.push([t,r])};tx.toString=function(t){const r=t?function(n){return t.call(this,n,Sh)}:Sh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function dj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sx(e,t,r){if(!t)return e;const n=r&&r.encode||dj;I.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=I.isURLSearchParams(t)?t.toString():new Od(t,r).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ch{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(n){n!==null&&t(n)})}}const rx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uj=typeof URLSearchParams<"u"?URLSearchParams:Od,hj=typeof FormData<"u"?FormData:null,mj=typeof Blob<"u"?Blob:null,pj={isBrowser:!0,classes:{URLSearchParams:uj,FormData:hj,Blob:mj},protocols:["http","https","file","blob","url","data"]},Md=typeof window<"u"&&typeof document<"u",_c=typeof navigator=="object"&&navigator||void 0,fj=Md&&(!_c||["ReactNative","NativeScript","NS"].indexOf(_c.product)<0),xj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gj=Md&&window.location.href||"http://localhost",yj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Md,hasStandardBrowserEnv:fj,hasStandardBrowserWebWorkerEnv:xj,navigator:_c,origin:gj},Symbol.toStringTag,{value:"Module"})),Qe={...yj,...pj};function vj(e,t){return Nl(e,new Qe.classes.URLSearchParams,{visitor:function(r,n,i,a){return Qe.isNode&&I.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function bj(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jj(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function nx(e){function t(r,n,i,a){let l=r[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=r.length;return l=!l&&I.isArray(i)?i.length:l,c?(I.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!I.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],a)&&I.isArray(i[l])&&(i[l]=jj(i[l])),!o)}if(I.isFormData(e)&&I.isFunction(e.entries)){const r={};return I.forEachEntry(e,(n,i)=>{t(bj(n),i,r,0)}),r}return null}function _j(e,t,r){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Mi={transitional:rx,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=I.isObject(t);if(a&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return i?JSON.stringify(nx(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vj(t,this.formSerializer).toString();if((o=I.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),_j(t)):t}],transformResponse:[function(t){const r=this.transitional||Mi.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?ne.from(o,ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Mi.headers[e]={}});const Nj=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wj=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&Nj[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Eh=Symbol("internals");function In(e){return e&&String(e).trim().toLowerCase()}function va(e){return e===!1||e==null?e:I.isArray(e)?e.map(va):String(e)}function kj(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Sj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ro(e,t,r,n,i){if(I.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!I.isString(t)){if(I.isString(n))return t.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(t)}}function Cj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ej(e,t){const r=I.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}let mt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(o,c,h){const p=In(c);if(!p)throw new Error("header name must be a non-empty string");const x=I.findKey(i,p);(!x||i[x]===void 0||h===!0||h===void 0&&i[x]!==!1)&&(i[x||c]=va(o))}const l=(o,c)=>I.forEach(o,(h,p)=>a(h,p,c));if(I.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(I.isString(t)&&(t=t.trim())&&!Sj(t))l(wj(t),r);else if(I.isObject(t)&&I.isIterable(t)){let o={},c,h;for(const p of t){if(!I.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[h=p[0]]=(c=o[h])?I.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}l(o,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=In(t),t){const n=I.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return kj(i);if(I.isFunction(r))return r.call(this,i,n);if(I.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=In(t),t){const n=I.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ro(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(l){if(l=In(l),l){const o=I.findKey(n,l);o&&(!r||ro(n,n[o],o,r))&&(delete n[o],i=!0)}}return I.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||ro(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return I.forEach(this,(i,a)=>{const l=I.findKey(n,a);if(l){r[l]=va(i),delete r[a];return}const o=t?Cj(a):String(a).trim();o!==a&&delete r[a],r[o]=va(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return I.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&I.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Eh]=this[Eh]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=In(l);n[o]||(Ej(i,l),n[o]=!0)}return I.isArray(t)?t.forEach(a):a(t),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(mt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});I.freezeMethods(mt);function no(e,t){const r=this||Mi,n=t||r,i=mt.from(n.headers);let a=n.data;return I.forEach(e,function(o){a=o.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function ix(e){return!!(e&&e.__CANCEL__)}function Cn(e,t,r){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,r),this.name="CanceledError"}I.inherits(Cn,ne,{__CANCEL__:!0});function ax(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ne("Request failed with status code "+r.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Rj(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),p=n[a];l||(l=h),r[i]=c,n[i]=h;let x=a,f=0;for(;x!==i;)f+=r[x++],x=x%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),h-l<t)return;const w=p&&h-p;return w?Math.round(f*1e3/w):void 0}}function Lj(e,t){let r=0,n=1e3/t,i,a;const l=(h,p=Date.now())=>{r=p,i=null,a&&(clearTimeout(a),a=null),e(...h)};return[(...h)=>{const p=Date.now(),x=p-r;x>=n?l(h,p):(i=h,a||(a=setTimeout(()=>{a=null,l(i)},n-x)))},()=>i&&l(i)]}const Za=(e,t,r=3)=>{let n=0;const i=Rj(50,250);return Lj(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,h=i(c),p=l<=o;n=l;const x={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:h||void 0,estimated:h&&o&&p?(o-l)/h:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(x)},r)},Ph=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Rh=e=>(...t)=>I.asap(()=>e(...t)),Tj=Qe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,Fj=Qe.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const l=[e+"="+encodeURIComponent(t)];I.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),I.isString(n)&&l.push("path="+n),I.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Aj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lx(e,t,r){let n=!Aj(t);return e&&(n||r==!1)?Oj(e,t):t}const Lh=e=>e instanceof mt?{...e}:e;function Sr(e,t){t=t||{};const r={};function n(h,p,x,f){return I.isPlainObject(h)&&I.isPlainObject(p)?I.merge.call({caseless:f},h,p):I.isPlainObject(p)?I.merge({},p):I.isArray(p)?p.slice():p}function i(h,p,x,f){if(I.isUndefined(p)){if(!I.isUndefined(h))return n(void 0,h,x,f)}else return n(h,p,x,f)}function a(h,p){if(!I.isUndefined(p))return n(void 0,p)}function l(h,p){if(I.isUndefined(p)){if(!I.isUndefined(h))return n(void 0,h)}else return n(void 0,p)}function o(h,p,x){if(x in t)return n(h,p);if(x in e)return n(void 0,h)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(h,p,x)=>i(Lh(h),Lh(p),x,!0)};return I.forEach(Object.keys({...e,...t}),function(p){const x=c[p]||i,f=x(e[p],t[p],p);I.isUndefined(f)&&x!==o||(r[p]=f)}),r}const ox=e=>{const t=Sr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=t;t.headers=l=mt.from(l),t.url=sx(lx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(I.isFormData(r)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[h,...p]=c?c.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Qe.hasStandardBrowserEnv&&(n&&I.isFunction(n)&&(n=n(t)),n||n!==!1&&Tj(t.url))){const h=i&&a&&Fj.read(a);h&&l.set(i,h)}return t},Mj=typeof XMLHttpRequest<"u",$j=Mj&&function(e){return new Promise(function(r,n){const i=ox(e);let a=i.data;const l=mt.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:h}=i,p,x,f,w,b;function y(){w&&w(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function v(){if(!N)return;const j=mt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:e,request:N};ax(function(g){r(g),y()},function(g){n(g),y()},A),N=null}"onloadend"in N?N.onloadend=v:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(v)},N.onabort=function(){N&&(n(new ne("Request aborted",ne.ECONNABORTED,e,N)),N=null)},N.onerror=function(){n(new ne("Network Error",ne.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||rx;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new ne(_,A.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,N)),N=null},a===void 0&&l.setContentType(null),"setRequestHeader"in N&&I.forEach(l.toJSON(),function(_,A){N.setRequestHeader(A,_)}),I.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),o&&o!=="json"&&(N.responseType=i.responseType),h&&([f,b]=Za(h,!0),N.addEventListener("progress",f)),c&&N.upload&&([x,w]=Za(c),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(p=j=>{N&&(n(!j||j.type?new Cn(null,e,N):j),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const d=Pj(i.url);if(d&&Qe.protocols.indexOf(d)===-1){n(new ne("Unsupported protocol "+d+":",ne.ERR_BAD_REQUEST,e));return}N.send(a||null)})},Bj=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(h){if(!i){i=!0,o();const p=h instanceof Error?h:this.reason;n.abort(p instanceof ne?p:new Cn(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,a(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>I.asap(o),c}},Ij=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Dj=async function*(e,t){for await(const r of zj(e))yield*Ij(r,t)},zj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Th=(e,t,r,n)=>{const i=Dj(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await i.next();if(h){o(),c.close();return}let x=p.byteLength;if(r){let f=a+=x;r(f)}c.enqueue(new Uint8Array(p))}catch(h){throw o(h),h}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},wl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cx=wl&&typeof ReadableStream=="function",qj=wl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),dx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Uj=cx&&dx(()=>{let e=!1;const t=new Request(Qe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Fh=64*1024,Nc=cx&&dx(()=>I.isReadableStream(new Response("").body)),el={stream:Nc&&(e=>e.body)};wl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!el[t]&&(el[t]=I.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new ne(`Response type '${t}' is not supported`,ne.ERR_NOT_SUPPORT,n)})})})(new Response);const Vj=async e=>{if(e==null)return 0;if(I.isBlob(e))return e.size;if(I.isSpecCompliantForm(e))return(await new Request(Qe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(I.isArrayBufferView(e)||I.isArrayBuffer(e))return e.byteLength;if(I.isURLSearchParams(e)&&(e=e+""),I.isString(e))return(await qj(e)).byteLength},Hj=async(e,t)=>{const r=I.toFiniteNumber(e.getContentLength());return r??Vj(t)},Wj=wl&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:h,headers:p,withCredentials:x="same-origin",fetchOptions:f}=ox(e);h=h?(h+"").toLowerCase():"text";let w=Bj([i,a&&a.toAbortSignal()],l),b;const y=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let N;try{if(c&&Uj&&r!=="get"&&r!=="head"&&(N=await Hj(p,n))!==0){let A=new Request(t,{method:"POST",body:n,duplex:"half"}),L;if(I.isFormData(n)&&(L=A.headers.get("content-type"))&&p.setContentType(L),A.body){const[g,C]=Ph(N,Za(Rh(c)));n=Th(A.body,Fh,g,C)}}I.isString(x)||(x=x?"include":"omit");const v="credentials"in Request.prototype;b=new Request(t,{...f,signal:w,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:v?x:void 0});let d=await fetch(b,f);const j=Nc&&(h==="stream"||h==="response");if(Nc&&(o||j&&y)){const A={};["status","statusText","headers"].forEach(z=>{A[z]=d[z]});const L=I.toFiniteNumber(d.headers.get("content-length")),[g,C]=o&&Ph(L,Za(Rh(o),!0))||[];d=new Response(Th(d.body,Fh,g,()=>{C&&C(),y&&y()}),A)}h=h||"text";let _=await el[I.findKey(el,h)||"text"](d,e);return!j&&y&&y(),await new Promise((A,L)=>{ax(A,L,{data:_,headers:mt.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:b})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,e,b),{cause:v.cause||v}):ne.from(v,v&&v.code,e,b)}}),wc={http:lj,xhr:$j,fetch:Wj};I.forEach(wc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ah=e=>`- ${e}`,Qj=e=>I.isFunction(e)||e===null||e===!1,ux={getAdapter:e=>{e=I.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let l;if(n=r,!Qj(r)&&(n=wc[(l=String(r)).toLowerCase()],n===void 0))throw new ne(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Ah).join(`
`):" "+Ah(a[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:wc};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cn(null,e)}function Oh(e){return io(e),e.headers=mt.from(e.headers),e.data=no.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ux.getAdapter(e.adapter||Mi.adapter)(e).then(function(n){return io(e),n.data=no.call(e,e.transformResponse,n),n.headers=mt.from(n.headers),n},function(n){return ix(n)||(io(e),n&&n.response&&(n.response.data=no.call(e,e.transformResponse,n.response),n.response.headers=mt.from(n.response.headers))),Promise.reject(n)})}const hx="1.11.0",kl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mh={};kl.transitional=function(t,r,n){function i(a,l){return"[Axios v"+hx+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new ne(i(l," has been removed"+(r?" in "+r:"")),ne.ERR_DEPRECATED);return r&&!Mh[l]&&(Mh[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,o):!0}};kl.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Kj(e,t,r){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new ne("option "+a+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ne("Unknown option "+a,ne.ERR_BAD_OPTION)}}const ba={assertOptions:Kj,validators:kl},Wt=ba.validators;let yr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ch,response:new Ch}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Sr(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&ba.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),i!=null&&(I.isFunction(i)?r.paramsSerializer={serialize:i}:ba.assertOptions(i,{encode:Wt.function,serialize:Wt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ba.assertOptions(r,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&I.merge(a.common,a[r.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),r.headers=mt.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let p,x=0,f;if(!c){const b=[Oh.bind(this),void 0];for(b.unshift(...o),b.push(...h),f=b.length,p=Promise.resolve(r);x<f;)p=p.then(b[x++],b[x++]);return p}f=o.length;let w=r;for(x=0;x<f;){const b=o[x++],y=o[x++];try{w=b(w)}catch(N){y.call(this,N);break}}try{p=Oh.call(this,w)}catch(b){return Promise.reject(b)}for(x=0,f=h.length;x<f;)p=p.then(h[x++],h[x++]);return p}getUri(t){t=Sr(this.defaults,t);const r=lx(t.baseURL,t.url,t.allowAbsoluteUrls);return sx(r,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){yr.prototype[t]=function(r,n){return this.request(Sr(n||{},{method:t,url:r,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(t){function r(n){return function(a,l,o){return this.request(Sr(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}yr.prototype[t]=r(),yr.prototype[t+"Form"]=r(!0)});let Gj=class mx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new Cn(a,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new mx(function(i){t=i}),cancel:t}}};function Yj(e){return function(r){return e.apply(null,r)}}function Jj(e){return I.isObject(e)&&e.isAxiosError===!0}const kc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kc).forEach(([e,t])=>{kc[t]=e});function px(e){const t=new yr(e),r=Vf(yr.prototype.request,t);return I.extend(r,yr.prototype,t,{allOwnKeys:!0}),I.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return px(Sr(e,i))},r}const W=px(Mi);W.Axios=yr;W.CanceledError=Cn;W.CancelToken=Gj;W.isCancel=ix;W.VERSION=hx;W.toFormData=Nl;W.AxiosError=ne;W.Cancel=W.CanceledError;W.all=function(t){return Promise.all(t)};W.spread=Yj;W.isAxiosError=Jj;W.mergeConfig=Sr;W.AxiosHeaders=mt;W.formToJSON=e=>nx(I.isHTMLForm(e)?new FormData(e):e);W.getAdapter=ux.getAdapter;W.HttpStatusCode=kc;W.default=W;const{Axios:f1,AxiosError:x1,CanceledError:g1,isCancel:y1,CancelToken:v1,VERSION:b1,all:j1,Cancel:_1,isAxiosError:N1,spread:w1,toFormData:k1,AxiosHeaders:S1,HttpStatusCode:C1,formToJSON:E1,getAdapter:P1,mergeConfig:R1}=W,ts=Object.create(null);ts.open="0";ts.close="1";ts.ping="2";ts.pong="3";ts.message="4";ts.upgrade="5";ts.noop="6";const ja=Object.create(null);Object.keys(ts).forEach(e=>{ja[ts[e]]=e});const Sc={type:"error",data:"parser error"},fx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xx=typeof ArrayBuffer=="function",gx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,$d=({type:e,data:t},r,n)=>fx&&t instanceof Blob?r?n(t):$h(t,n):xx&&(t instanceof ArrayBuffer||gx(t))?r?n(t):$h(new Blob([t]),n):n(ts[e]+(t||"")),$h=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Bh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ao;function Xj(e,t){if(fx&&e.data instanceof Blob)return e.data.arrayBuffer().then(Bh).then(t);if(xx&&(e.data instanceof ArrayBuffer||gx(e.data)))return t(Bh(e.data));$d(e,!1,r=>{ao||(ao=new TextEncoder),t(ao.encode(r))})}const Ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ih.length;e++)Wn[Ih.charCodeAt(e)]=e;const Zj=e=>{let t=e.length*.75,r=e.length,n,i=0,a,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(n=0;n<r;n+=4)a=Wn[e.charCodeAt(n)],l=Wn[e.charCodeAt(n+1)],o=Wn[e.charCodeAt(n+2)],c=Wn[e.charCodeAt(n+3)],p[i++]=a<<2|l>>4,p[i++]=(l&15)<<4|o>>2,p[i++]=(o&3)<<6|c&63;return h},e_=typeof ArrayBuffer=="function",Bd=(e,t)=>{if(typeof e!="string")return{type:"message",data:yx(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:t_(e.substring(1),t)}:ja[r]?e.length>1?{type:ja[r],data:e.substring(1)}:{type:ja[r]}:Sc},t_=(e,t)=>{if(e_){const r=Zj(e);return yx(r,t)}else return{base64:!0,data:e}},yx=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},vx="",s_=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,l)=>{$d(a,!1,o=>{n[l]=o,++i===r&&t(n.join(vx))})})},r_=(e,t)=>{const r=e.split(vx),n=[];for(let i=0;i<r.length;i++){const a=Bd(r[i],t);if(n.push(a),a.type==="error")break}return n};function n_(){return new TransformStream({transform(e,t){Xj(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let lo;function ra(e){return e.reduce((t,r)=>t+r.length,0)}function na(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function i_(e,t){lo||(lo=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(n===0){if(ra(r)<1)break;const c=na(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(ra(r)<2)break;const c=na(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ra(r)<8)break;const c=na(r,8),h=new DataView(c.buffer,c.byteOffset,c.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){o.enqueue(Sc);break}i=p*Math.pow(2,32)+h.getUint32(4),n=3}else{if(ra(r)<i)break;const c=na(r,i);o.enqueue(Bd(a?c:lo.decode(c),t)),n=0}if(i===0||i>e){o.enqueue(Sc);break}}}})}const bx=4;function Te(e){if(e)return a_(e)}function a_(e){for(var t in Te.prototype)e[t]=Te.prototype[t];return e}Te.prototype.on=Te.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Te.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Te.prototype.off=Te.prototype.removeListener=Te.prototype.removeAllListeners=Te.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Te.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Te.prototype.emitReserved=Te.prototype.emit;Te.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Te.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Sl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),St=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),l_="arraybuffer";function jx(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const o_=St.setTimeout,c_=St.clearTimeout;function Cl(e,t){t.useNativeTimers?(e.setTimeoutFn=o_.bind(St),e.clearTimeoutFn=c_.bind(St)):(e.setTimeoutFn=St.setTimeout.bind(St),e.clearTimeoutFn=St.clearTimeout.bind(St))}const d_=1.33;function u_(e){return typeof e=="string"?h_(e):Math.ceil((e.byteLength||e.size)*d_)}function h_(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function _x(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function m_(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function p_(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class f_ extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Id extends Te{constructor(t){super(),this.writable=!1,Cl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new f_(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Bd(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=m_(t);return r.length?"?"+r:""}}class x_ extends Id{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};r_(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,s_(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=_x()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Nx=!1;try{Nx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const g_=Nx;function y_(){}class v_ extends x_{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let Yr=class _a extends Te{constructor(t,r,n){super(),this.createRequest=t,Cl(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=jx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=_a.requestsCount++,_a.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=y_,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _a.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yr.requestsCount=0;Yr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Dh);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,Dh,!1)}}function Dh(){for(let e in Yr.requests)Yr.requests.hasOwnProperty(e)&&Yr.requests[e].abort()}const b_=function(){const e=wx({xdomain:!1});return e&&e.responseType!==null}();class j_ extends v_{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=b_&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Yr(wx,this.uri(),t)}}function wx(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||g_))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const kx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class __ extends Id{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=kx?{}:jx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;$d(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Sl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=_x()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const oo=St.WebSocket||St.MozWebSocket;class N_ extends __{createSocket(t,r,n){return kx?new oo(t,r,n):r?new oo(t,r):new oo(t)}doWrite(t,r){this.ws.send(r)}}class w_ extends Id{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=i_(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=n_();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),a())}).catch(o=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&Sl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const k_={websocket:N_,webtransport:w_,polling:j_},S_=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,C_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cc(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=S_.exec(e||""),a={},l=14;for(;l--;)a[C_[l]]=i[l]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=E_(a,a.path),a.queryKey=P_(a,a.query),a}function E_(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function P_(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Ec=typeof addEventListener=="function"&&typeof removeEventListener=="function",Na=[];Ec&&addEventListener("offline",()=>{Na.forEach(e=>e())},!1);class Ks extends Te{constructor(t,r){if(super(),this.binaryType=l_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Cc(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Cc(r.host).host);Cl(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=p_(this.opts.query)),Ec&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Na.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=bx,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ks.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ks.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=u_(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Sl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ks.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ec&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Na.indexOf(this._offlineEventListener);n!==-1&&Na.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ks.protocol=bx;class R_ extends Ks{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Ks.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ks.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,p(),r.close(),r=null)}const l=x=>{const f=new Error("probe error: "+x);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function o(){l("transport closed")}function c(){l("socket closed")}function h(x){r&&x.name!==r.name&&a()}const p=()=>{r.removeListener("open",i),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",h)};r.once("open",i),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let L_=class extends R_{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>k_[i]).filter(i=>!!i)),super(t,n)}};function T_(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Cc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const F_=typeof ArrayBuffer=="function",A_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Sx=Object.prototype.toString,O_=typeof Blob=="function"||typeof Blob<"u"&&Sx.call(Blob)==="[object BlobConstructor]",M_=typeof File=="function"||typeof File<"u"&&Sx.call(File)==="[object FileConstructor]";function Dd(e){return F_&&(e instanceof ArrayBuffer||A_(e))||O_&&e instanceof Blob||M_&&e instanceof File}function wa(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(wa(e[r]))return!0;return!1}if(Dd(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return wa(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&wa(e[r]))return!0;return!1}function $_(e){const t=[],r=e.data,n=e;return n.data=Pc(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Pc(e,t){if(!e)return e;if(Dd(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Pc(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Pc(e[n],t));return r}return e}function B_(e,t){return e.data=Rc(e.data,t),delete e.attachments,e}function Rc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Rc(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Rc(e[r],t));return e}const I_=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],D_=5;var ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ce||(ce={}));class z_{constructor(t){this.replacer=t}encode(t){return(t.type===ce.EVENT||t.type===ce.ACK)&&wa(t)?this.encodeAsBinary({type:t.type===ce.EVENT?ce.BINARY_EVENT:ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ce.BINARY_EVENT||t.type===ce.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=$_(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function zh(e){return Object.prototype.toString.call(e)==="[object Object]"}class zd extends Te{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===ce.BINARY_EVENT;n||r.type===ce.BINARY_ACK?(r.type=n?ce.EVENT:ce.ACK,this.reconstructor=new q_(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Dd(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(ce[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ce.BINARY_EVENT||n.type===ce.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(a,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(zd.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ce.CONNECT:return zh(r);case ce.DISCONNECT:return r===void 0;case ce.CONNECT_ERROR:return typeof r=="string"||zh(r);case ce.EVENT:case ce.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&I_.indexOf(r[0])===-1);case ce.ACK:case ce.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class q_{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=B_(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const U_=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zd,Encoder:z_,get PacketType(){return ce},protocol:D_},Symbol.toStringTag,{value:"Module"}));function Bt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const V_=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cx extends Te{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Bt(t,"open",this.onopen.bind(this)),Bt(t,"packet",this.onpacket.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(V_.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:ce.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const p=this.ids++,x=r.pop();this._registerAckCallback(p,x),l.id=p}const o=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},i),l=(...o)=>{this.io.clearTimeoutFn(a),r.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(l,o)=>l?i(l):n(o);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ce.EVENT:case ce.BINARY_EVENT:this.onevent(t);break;case ce.ACK:case ce.BINARY_ACK:this.onack(t);break;case ce.DISCONNECT:this.ondisconnect();break;case ce.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:ce.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function En(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}En.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};En.prototype.reset=function(){this.attempts=0};En.prototype.setMin=function(e){this.ms=e};En.prototype.setMax=function(e){this.max=e};En.prototype.setJitter=function(e){this.jitter=e};class Lc extends Te{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Cl(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new En({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||U_;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new L_(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Bt(r,"open",function(){n.onopen(),t&&t()}),a=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Bt(r,"error",a);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Bt(t,"ping",this.onping.bind(this)),Bt(t,"data",this.ondata.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this)),Bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Sl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cx(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Dn={};function ka(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=T_(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,l=Dn[i]&&a in Dn[i].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new Lc(n,t):(Dn[i]||(Dn[i]=new Lc(n,t)),c=Dn[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(ka,{Manager:Lc,Socket:Cx,io:ka,connect:ka});const U=fb()(jb((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},search_state:{destination:null,check_in_date:null,check_out_date:null,guest_count:1,applied_filters:{},search_results:[],search_loading:!1,saved_searches:[]},booking_state:{current_booking:null,booking_step:1,booking_loading:!1,payment_processing:!1,booking_error:null},user_preferences:{currency:"USD",language:"en",temperature_unit:"celsius",notification_settings:{email:!0,sms:!1,push:!0}},notifications_state:{unread_messages:0,unread_notifications:0,system_alerts:[]},property_management_state:{owned_properties:[],property_analytics:{},booking_requests:[],is_loading:!1},investment_state:{portfolio:[],market_data:[],roi_tracking:{},is_loading:!1},socket:null,is_connected:!1,login_user:async(r,n)=>{var i,a;e(l=>({authentication_state:{...l.authentication_state,authentication_status:{...l.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const l=await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/auth/login",{email:r,password:n},{headers:{"Content-Type":"application/json"}}),{user:o,token:c}=l.data;e(()=>({authentication_state:{current_user:o,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_preferences:{currency:o.currency||"USD",language:o.language||"en",temperature_unit:o.temperature_unit||"celsius",notification_settings:o.notification_settings||{email:!0,sms:!1,push:!0}}})),t().initialize_socket()}catch(l){const o=((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||l.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},register_user:async r=>{var n,i;e(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const a=await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/auth/register",{email:r.email,password:r.password,first_name:r.first_name,last_name:r.last_name,phone_number:r.phone_number,user_type:r.user_type||"guest",currency:r.currency||"USD",language:r.language||"en",temperature_unit:r.temperature_unit||"celsius"},{headers:{"Content-Type":"application/json"}}),{user:l,token:o}=a.data;e(()=>({authentication_state:{current_user:l,auth_token:o,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_preferences:{currency:l.currency||"USD",language:l.language||"en",temperature_unit:l.temperature_unit||"celsius",notification_settings:l.notification_settings||{email:!0,sms:!1,push:!0}}})),t().initialize_socket()}catch(a){const l=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||a.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{const{socket:r}=t();r&&r.disconnect(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},socket:null,is_connected:!1,property_management_state:{owned_properties:[],property_analytics:{},booking_requests:[],is_loading:!1},investment_state:{portfolio:[],market_data:[],roi_tracking:{},is_loading:!1},notifications_state:{unread_messages:0,unread_notifications:0,system_alerts:[]}}))},initialize_auth:async()=>{const{authentication_state:r}=t(),n=r.auth_token;if(!n){e(i=>({authentication_state:{...i.authentication_state,authentication_status:{...i.authentication_state.authentication_status,is_loading:!1}}}));return}try{const a=(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${n}`}})).data;e(()=>({authentication_state:{current_user:a,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_preferences:{currency:a.currency||"USD",language:a.language||"en",temperature_unit:a.temperature_unit||"celsius",notification_settings:a.notification_settings||{email:!0,sms:!1,push:!0}}})),t().initialize_socket()}catch{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_user_profile:r=>{e(n=>({authentication_state:{...n.authentication_state,current_user:n.authentication_state.current_user?{...n.authentication_state.current_user,...r}:null}}))},update_currency:r=>{e(n=>({user_preferences:{...n.user_preferences,currency:r}}))},update_language:r=>{e(n=>({user_preferences:{...n.user_preferences,language:r}}))},update_temperature_unit:r=>{e(n=>({user_preferences:{...n.user_preferences,temperature_unit:r}}))},update_notification_settings:r=>{e(n=>({user_preferences:{...n.user_preferences,notification_settings:{...n.user_preferences.notification_settings,...r}}}))},update_search_criteria:r=>{e(n=>({search_state:{...n.search_state,...r}}))},set_search_results:r=>{e(n=>({search_state:{...n.search_state,search_results:r,search_loading:!1}}))},add_saved_search:r=>{e(n=>({search_state:{...n.search_state,saved_searches:[...n.search_state.saved_searches,r]}}))},remove_saved_search:r=>{e(n=>({search_state:{...n.search_state,saved_searches:n.search_state.saved_searches.filter(i=>i.search_id!==r)}}))},clear_search_results:()=>{e(r=>({search_state:{...r.search_state,search_results:[],search_loading:!1}}))},set_current_booking:r=>{e(n=>({booking_state:{...n.booking_state,current_booking:r}}))},update_booking_step:r=>{e(n=>({booking_state:{...n.booking_state,booking_step:r}}))},set_booking_loading:r=>{e(n=>({booking_state:{...n.booking_state,booking_loading:r}}))},set_payment_processing:r=>{e(n=>({booking_state:{...n.booking_state,payment_processing:r}}))},set_booking_error:r=>{e(n=>({booking_state:{...n.booking_state,booking_error:r}}))},clear_booking_state:()=>{e(()=>({booking_state:{current_booking:null,booking_step:1,booking_loading:!1,payment_processing:!1,booking_error:null}}))},set_unread_messages:r=>{e(n=>({notifications_state:{...n.notifications_state,unread_messages:r}}))},set_unread_notifications:r=>{e(n=>({notifications_state:{...n.notifications_state,unread_notifications:r}}))},add_notification:r=>{console.log("Adding notification:",r),e(n=>({notifications_state:{...n.notifications_state,unread_notifications:n.notifications_state.unread_notifications+1}}))},mark_notification_read:r=>{console.log("Marking notification as read:",r),e(n=>({notifications_state:{...n.notifications_state,unread_notifications:Math.max(0,n.notifications_state.unread_notifications-1)}}))},set_system_alerts:r=>{e(n=>({notifications_state:{...n.notifications_state,system_alerts:r}}))},add_system_alert:r=>{e(n=>({notifications_state:{...n.notifications_state,system_alerts:[...n.notifications_state.system_alerts,r]}}))},set_owned_properties:r=>{e(n=>({property_management_state:{...n.property_management_state,owned_properties:r,is_loading:!1}}))},add_owned_property:r=>{e(n=>({property_management_state:{...n.property_management_state,owned_properties:[...n.property_management_state.owned_properties,r]}}))},update_owned_property:(r,n)=>{e(i=>({property_management_state:{...i.property_management_state,owned_properties:i.property_management_state.owned_properties.map(a=>a.property_id===r?{...a,...n}:a)}}))},remove_owned_property:r=>{e(n=>({property_management_state:{...n.property_management_state,owned_properties:n.property_management_state.owned_properties.filter(i=>i.property_id!==r)}}))},set_property_analytics:r=>{e(n=>({property_management_state:{...n.property_management_state,property_analytics:r}}))},set_booking_requests:r=>{e(n=>({property_management_state:{...n.property_management_state,booking_requests:r}}))},set_property_management_loading:r=>{e(n=>({property_management_state:{...n.property_management_state,is_loading:r}}))},set_investment_portfolio:r=>{e(n=>({investment_state:{...n.investment_state,portfolio:r,is_loading:!1}}))},add_investment:r=>{e(n=>({investment_state:{...n.investment_state,portfolio:[...n.investment_state.portfolio,r]}}))},update_investment:(r,n)=>{e(i=>({investment_state:{...i.investment_state,portfolio:i.investment_state.portfolio.map(a=>a.analytics_id===r?{...a,...n}:a)}}))},set_market_data:r=>{e(n=>({investment_state:{...n.investment_state,market_data:r}}))},set_roi_tracking:r=>{e(n=>({investment_state:{...n.investment_state,roi_tracking:r}}))},set_investment_loading:r=>{e(n=>({investment_state:{...n.investment_state,is_loading:r}}))},initialize_socket:()=>{const{authentication_state:r,socket:n}=t();if(n||!r.auth_token)return;const i=ka("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai",{autoConnect:!0});i.on("connect",()=>{console.log("WebSocket connected"),e(()=>({is_connected:!0})),i.emit("authenticate",r.auth_token)}),i.on("disconnect",()=>{console.log("WebSocket disconnected"),e(()=>({is_connected:!1}))}),i.on("authenticated",a=>{console.log("Socket authenticated:",a)}),i.on("authentication_failed",a=>{console.error("Socket authentication failed:",a)}),i.on("message_sent",a=>{console.log("Message sent:",a)}),i.on("message_received",a=>{console.log("Message received:",a),e(l=>({notifications_state:{...l.notifications_state,unread_messages:l.notifications_state.unread_messages+1}}))}),i.on("message_read",a=>{console.log("Message read:",a)}),i.on("booking_created",a=>{console.log("Booking created:",a)}),i.on("booking_confirmed",a=>{console.log("Booking confirmed:",a)}),i.on("booking_cancelled",a=>{console.log("Booking cancelled:",a)}),i.on("notification_received",a=>{console.log("Notification received:",a),t().add_notification(a)}),i.on("property_availability_updated",a=>{console.log("Property availability updated:",a)}),i.on("property_pricing_updated",a=>{console.log("Property pricing updated:",a)}),i.on("system_alert_created",a=>{console.log("System alert:",a),t().add_system_alert(a)}),e(()=>({socket:i}))},disconnect_socket:()=>{const{socket:r}=t();r&&(r.disconnect(),e(()=>({socket:null,is_connected:!1})))},join_conversation:r=>{const{socket:n}=t();n&&n.emit("join_conversation",r)},leave_conversation:r=>{const{socket:n}=t();n&&n.emit("leave_conversation",r)},send_typing_indicator:(r,n)=>{const{socket:i}=t();if(i){const a=n?"typing_start":"typing_stop";i.emit(a,{conversation_id:r})}}}),{name:"sunvillas-app-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},user_preferences:e.user_preferences,search_state:{...e.search_state,search_results:[],search_loading:!1},booking_state:{current_booking:e.booking_state.current_booking,booking_step:e.booking_state.booking_step,booking_loading:!1,payment_processing:!1,booking_error:null}})}));class H_ extends sl.Component{constructor(r){super(r);Gd(this,"resetError",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;if(this.state.hasError){if(this.props.fallback){const n=this.props.fallback;return s.jsx(n,{error:this.state.error,resetError:this.resetError})}return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),s.jsx("button",{onClick:this.resetError,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try again"})]})})}return this.props.children}}const W_=()=>{var S,F,X,pe;const e=U(B=>B.authentication_state.authentication_status.is_authenticated),t=U(B=>B.authentication_state.current_user),r=U(B=>B.notifications_state.unread_messages),n=U(B=>B.user_preferences.currency),i=U(B=>B.user_preferences.language),a=U(B=>B.logout_user),l=U(B=>B.update_currency),o=U(B=>B.update_language),[c,h]=k.useState(""),[p,x]=k.useState(!1),[f,w]=k.useState(!1),[b,y]=k.useState(!1),[N,v]=k.useState(!1),[d,j]=k.useState(!1),_=Ut(),A=k.useRef(null),L=k.useRef(null),g=k.useRef(null),C=k.useRef(null),[z,P]=k.useState("");k.useEffect(()=>{const B=setTimeout(()=>{P(c)},300);return()=>clearTimeout(B)},[c]);const{data:R,isLoading:M}=ae({queryKey:["searchSuggestions",z],queryFn:async()=>z.trim()?(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/locations",{params:{query:z,is_hot_destination:!0,limit:8}})).data:{locations:[],total:0},enabled:!!z.trim()&&p,staleTime:5*60*1e3,retry:1}),te=B=>{B.preventDefault(),c.trim()&&(_(`/search?query=${encodeURIComponent(c.trim())}`),x(!1),h(""))},J=B=>{_(`/search?destination=${encodeURIComponent(`${B.city}, ${B.country}`)}`),x(!1),h("")},T=()=>{a(),y(!1),_("/")};k.useEffect(()=>{const B=Z=>{L.current&&!L.current.contains(Z.target)&&y(!1),g.current&&!g.current.contains(Z.target)&&v(!1),C.current&&!C.current.contains(Z.target)&&j(!1),A.current&&!A.current.contains(Z.target)&&x(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const H=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],Y=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""}],u=H.find(B=>B.code===n)||H[0],m=Y.find(B=>B.code===i)||Y[0];return s.jsx(s.Fragment,{children:s.jsxs("nav",{className:"sticky top-0 z-50 bg-white shadow-sm border-b border-gray-200",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(q,{to:"/",className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),s.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900 hidden sm:block",children:"SunVillas"})]})}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative",children:s.jsx("form",{onSubmit:te,className:"w-full",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:A,type:"text",value:c,onChange:B=>h(B.target.value),onFocus:()=>x(!0),placeholder:"Search destinations...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent","aria-label":"Search destinations"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),p&&z&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:M?s.jsx("div",{className:"p-4 text-center text-gray-500",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 mx-auto",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):R!=null&&R.locations.length?s.jsx(s.Fragment,{children:R.locations.map(B=>s.jsxs("button",{onClick:()=>J(B),className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[s.jsxs("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:B.city}),s.jsx("div",{className:"text-sm text-gray-500",children:B.country})]}),B.is_featured&&s.jsx("span",{className:"ml-auto text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full",children:"Featured"})]},B.location_id))}):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No destinations found"})})]})})}),s.jsx("div",{className:"hidden md:flex items-center space-x-6",children:e?s.jsxs(s.Fragment,{children:[s.jsx(q,{to:"/dashboard",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Your Trips"}),s.jsxs(q,{to:"/messages",className:"relative text-gray-700 hover:text-gray-900 font-medium transition-colors",children:["Messages",r>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:r>9?"9+":r})]}),s.jsx(q,{to:((t==null?void 0:t.user_type)==="host","/host"),className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:(t==null?void 0:t.user_type)==="host"?"Host Dashboard":"Become a Host"}),s.jsxs("div",{className:"relative",ref:L,children:[s.jsxs("button",{onClick:()=>y(!b),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 transition-colors","aria-label":"User menu",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:t!=null&&t.profile_photo_url?s.jsx("img",{src:t.profile_photo_url,alt:`${t.first_name} ${t.last_name}`,className:"w-8 h-8 rounded-full object-cover"}):s.jsxs("span",{className:"text-white font-medium text-sm",children:[(S=t==null?void 0:t.first_name)==null?void 0:S[0],(F=t==null?void 0:t.last_name)==null?void 0:F[0]]})}),s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),s.jsx("div",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),s.jsxs("div",{className:"py-2",children:[s.jsx(q,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"Profile"}),s.jsx(q,{to:"/dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"Account Settings"}),(t==null?void 0:t.user_type)==="host"&&s.jsx(q,{to:"/host",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"Host Tools"}),(t==null?void 0:t.user_type)==="admin"&&s.jsx(q,{to:"/investments",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"Investment Dashboard"})]}),s.jsx("div",{className:"border-t border-gray-200 py-2",children:s.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:"Log Out"})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(q,{to:"/host",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Become a Host"}),s.jsxs("div",{className:"relative",ref:C,children:[s.jsxs("button",{onClick:()=>j(!d),className:"flex items-center space-x-1 text-gray-700 hover:text-gray-900 transition-colors","aria-label":"Select language",children:[s.jsx("span",{className:"text-lg",children:m.flag}),s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:Y.map(B=>s.jsxs("button",{onClick:()=>{o(B.code),j(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center space-x-3 ${B.code===i?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:[s.jsx("span",{className:"text-lg",children:B.flag}),s.jsx("span",{children:B.name})]},B.code))})]}),s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("button",{onClick:()=>v(!N),className:"flex items-center space-x-1 text-gray-700 hover:text-gray-900 transition-colors","aria-label":"Select currency",children:[s.jsx("span",{className:"font-medium",children:u.code}),s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),N&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:H.map(B=>s.jsxs("button",{onClick:()=>{l(B.code),v(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between ${B.code===n?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:[s.jsx("span",{children:B.name}),s.jsx("span",{className:"font-medium",children:B.symbol})]},B.code))})]}),s.jsx(q,{to:"/auth?mode=register",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Sign Up"}),s.jsx(q,{to:"/auth?mode=login",className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Log In"})]})}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:()=>w(!f),className:"text-gray-700 hover:text-gray-900 p-2","aria-label":"Toggle mobile menu",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),s.jsx("div",{className:"md:hidden pb-4",children:s.jsx("form",{onSubmit:te,children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:c,onChange:B=>h(B.target.value),onFocus:()=>x(!0),placeholder:"Search destinations...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})})]}),f&&s.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:s.jsx("div",{className:"px-4 py-4 space-y-4",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-200",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:t!=null&&t.profile_photo_url?s.jsx("img",{src:t.profile_photo_url,alt:`${t.first_name} ${t.last_name}`,className:"w-10 h-10 rounded-full object-cover"}):s.jsxs("span",{className:"text-white font-medium",children:[(X=t==null?void 0:t.first_name)==null?void 0:X[0],(pe=t==null?void 0:t.last_name)==null?void 0:pe[0]]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),s.jsx("div",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]})]}),s.jsx(q,{to:"/dashboard",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:"Your Trips"}),s.jsxs(q,{to:"/messages",className:"flex items-center justify-between text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:[s.jsx("span",{children:"Messages"}),r>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:r>9?"9+":r})]}),s.jsx(q,{to:((t==null?void 0:t.user_type)==="host","/host"),className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:(t==null?void 0:t.user_type)==="host"?"Host Dashboard":"Become a Host"}),s.jsx(q,{to:"/profile",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:"Profile"}),s.jsx("button",{onClick:()=>{T(),w(!1)},className:"block w-full text-left text-gray-700 hover:text-gray-900 font-medium",children:"Log Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(q,{to:"/host",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:"Become a Host"}),s.jsx(q,{to:"/auth?mode=register",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>w(!1),children:"Sign Up"}),s.jsx(q,{to:"/auth?mode=login",className:"block bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium text-center",onClick:()=>w(!1),children:"Log In"})]})})})]})})},Q_=()=>{const e=U(b=>b.user_preferences.language),t=U(b=>b.user_preferences.currency),r=U(b=>b.update_language),n=U(b=>b.update_currency),[i,a]=k.useState({company:!1,support:!1,community:!1,hosting:!1,legal:!1}),l=new Date().getFullYear(),o={terms_url:"/terms",privacy_url:"/privacy",cookies_url:"/cookies",gdpr_url:"/gdpr"},c=[{platform:"facebook",url:"https://facebook.com/sunvillas",icon:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"},{platform:"twitter",url:"https://twitter.com/sunvillas",icon:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"},{platform:"instagram",url:"https://instagram.com/sunvillas",icon:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987s11.987-5.367 11.987-11.987C24.014 5.367 18.647.001 12.017.001zM8.449 12.013c0-1.971 1.591-3.57 3.559-3.57s3.559 1.599 3.559 3.57-1.591 3.558-3.559 3.558-3.559-1.587-3.559-3.558zm10.238-3.684a.837.837 0 01-.835.843.843.843 0 01-.843-.843c0-.463.38-.843.843-.843s.835.38.835.843zm2.559 3.684c0 .463-.047.926-.141 1.378a4.997 4.997 0 01-1.271 1.8 4.997 4.997 0 01-1.8 1.271c-.452.094-.915.141-1.378.141H7.582c-.463 0-.926-.047-1.378-.141a4.997 4.997 0 01-1.8-1.271 4.997 4.997 0 01-1.271-1.8c-.094-.452-.141-.915-.141-1.378V7.948c0-.463.047-.926.141-1.378a4.997 4.997 0 011.271-1.8 4.997 4.997 0 011.8-1.271c.452-.094.915-.141 1.378-.141h8.064c.463 0 .926.047 1.378.141a4.997 4.997 0 011.8 1.271 4.997 4.997 0 011.271 1.8c.094.452.141.915.141 1.378v8.064z"},{platform:"linkedin",url:"https://linkedin.com/company/sunvillas",icon:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}],h=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"}],p=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],x=b=>{a(y=>({...y,[b]:!y[b]}))},f=b=>{r(b)},w=b=>{n(b)};return s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"py-12",children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-5 md:gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Company"}),s.jsxs("ul",{className:"mt-4 space-y-4",children:[s.jsx("li",{children:s.jsx(q,{to:"/about",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"About Us"})}),s.jsx("li",{children:s.jsx(q,{to:"/careers",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Careers"})}),s.jsx("li",{children:s.jsx(q,{to:"/press",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Press"})}),s.jsx("li",{children:s.jsx(q,{to:"/blog",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Blog"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Support"}),s.jsxs("ul",{className:"mt-4 space-y-4",children:[s.jsx("li",{children:s.jsx(q,{to:"/help",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Help Center"})}),s.jsx("li",{children:s.jsx(q,{to:"/safety",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Safety"})}),s.jsx("li",{children:s.jsx(q,{to:"/cancellation",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Cancellation Policy"})}),s.jsx("li",{children:s.jsx(q,{to:"/accessibility",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Disability Support"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Community"}),s.jsxs("ul",{className:"mt-4 space-y-4",children:[s.jsx("li",{children:s.jsx(q,{to:"/diversity",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Diversity & Belonging"})}),s.jsx("li",{children:s.jsx(q,{to:"/discrimination",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Against Discrimination"})}),s.jsx("li",{children:s.jsx(q,{to:"/accessibility",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Accessibility"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Host Resources"}),s.jsxs("ul",{className:"mt-4 space-y-4",children:[s.jsx("li",{children:s.jsx(q,{to:"/host",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Host Your Home"})}),s.jsx("li",{children:s.jsx(q,{to:"/host/experience",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Host an Experience"})}),s.jsx("li",{children:s.jsx(q,{to:"/responsible-hosting",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Responsible Hosting"})}),s.jsx("li",{children:s.jsx(q,{to:"/community",className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Community Center"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Legal"}),s.jsxs("ul",{className:"mt-4 space-y-4",children:[s.jsx("li",{children:s.jsx(q,{to:o.terms_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(q,{to:o.privacy_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(q,{to:o.cookies_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"Cookie Policy"})}),s.jsx("li",{children:s.jsx(q,{to:o.gdpr_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200",children:"GDPR Compliance"})})]})]})]}),s.jsxs("div",{className:"md:hidden space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>x("company"),className:"flex justify-between items-center w-full py-4 text-left","aria-expanded":i.company,children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Company"}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${i.company?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.company&&s.jsxs("ul",{className:"pb-4 space-y-3",children:[s.jsx("li",{children:s.jsx(q,{to:"/about",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"About Us"})}),s.jsx("li",{children:s.jsx(q,{to:"/careers",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Careers"})}),s.jsx("li",{children:s.jsx(q,{to:"/press",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Press"})}),s.jsx("li",{children:s.jsx(q,{to:"/blog",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Blog"})})]})]}),s.jsxs("div",{className:"border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>x("support"),className:"flex justify-between items-center w-full py-4 text-left","aria-expanded":i.support,children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Support"}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${i.support?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.support&&s.jsxs("ul",{className:"pb-4 space-y-3",children:[s.jsx("li",{children:s.jsx(q,{to:"/help",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Help Center"})}),s.jsx("li",{children:s.jsx(q,{to:"/safety",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Safety"})}),s.jsx("li",{children:s.jsx(q,{to:"/cancellation",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Cancellation Policy"})}),s.jsx("li",{children:s.jsx(q,{to:"/accessibility",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Disability Support"})})]})]}),s.jsxs("div",{className:"border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>x("community"),className:"flex justify-between items-center w-full py-4 text-left","aria-expanded":i.community,children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Community"}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${i.community?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.community&&s.jsxs("ul",{className:"pb-4 space-y-3",children:[s.jsx("li",{children:s.jsx(q,{to:"/diversity",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Diversity & Belonging"})}),s.jsx("li",{children:s.jsx(q,{to:"/discrimination",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Against Discrimination"})}),s.jsx("li",{children:s.jsx(q,{to:"/accessibility",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Accessibility"})})]})]}),s.jsxs("div",{className:"border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>x("hosting"),className:"flex justify-between items-center w-full py-4 text-left","aria-expanded":i.hosting,children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Host Resources"}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${i.hosting?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.hosting&&s.jsxs("ul",{className:"pb-4 space-y-3",children:[s.jsx("li",{children:s.jsx(q,{to:"/host",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Host Your Home"})}),s.jsx("li",{children:s.jsx(q,{to:"/host/experience",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Host an Experience"})}),s.jsx("li",{children:s.jsx(q,{to:"/responsible-hosting",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Responsible Hosting"})}),s.jsx("li",{children:s.jsx(q,{to:"/community",className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Community Center"})})]})]}),s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>x("legal"),className:"flex justify-between items-center w-full py-4 text-left","aria-expanded":i.legal,children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Legal"}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-200 ${i.legal?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.legal&&s.jsxs("ul",{className:"pb-4 space-y-3",children:[s.jsx("li",{children:s.jsx(q,{to:o.terms_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(q,{to:o.privacy_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(q,{to:o.cookies_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"Cookie Policy"})}),s.jsx("li",{children:s.jsx(q,{to:o.gdpr_url,className:"text-base text-gray-300 hover:text-white transition-colors duration-200 block py-1",children:"GDPR Compliance"})})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 py-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-8 lg:space-y-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-6 space-y-4 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),s.jsx("select",{value:e,onChange:b=>f(b.target.value),className:"bg-gray-800 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select language",children:h.map(b=>s.jsx("option",{value:b.code,children:b.name},b.code))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),s.jsx("select",{value:t,onChange:b=>w(b.target.value),className:"bg-gray-800 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select currency",children:p.map(b=>s.jsxs("option",{value:b.code,children:[b.symbol," ",b.code," - ",b.name]},b.code))})]})]}),s.jsx("div",{className:"flex space-x-6",children:c.map(b=>s.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-200","aria-label":`Visit our ${b.platform} page`,children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:b.icon})})},b.platform))})]}),s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-center md:text-left",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:[" ",l," SunVillas, Inc. All rights reserved."]}),s.jsx("p",{className:"text-sm text-gray-400 mt-2 md:mt-0",children:"Made with  for travelers seeking the perfect getaway in hot destinations."})]})})]})]})})})},K_=()=>{var v;const[e,t]=k.useState(!1),r=Ut(),n=U(d=>d.authentication_state.authentication_status.is_authenticated),i=U(d=>d.authentication_state.current_user),a=U(d=>d.notifications_state.unread_messages),l=U(d=>d.user_preferences.currency),o=U(d=>d.user_preferences.language),c=U(d=>d.logout_user),h=U(d=>d.update_currency),p=U(d=>d.update_language),x=()=>{t(!e)},f=()=>{t(!1)},w=d=>{r(d),f()},b=()=>{c(),f()};k.useEffect(()=>{const d=j=>{j.key==="Escape"&&f()};return e?(document.addEventListener("keydown",d),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[e]);const y=d=>{const j=d.touches[0];d.currentTarget.touchStartX=j.clientX},N=d=>{const j=d.changedTouches[0],_=d.currentTarget.touchStartX,A=j.clientX;_-A>50&&f()};return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x,className:"md:hidden fixed top-4 left-4 z-50 bg-white rounded-lg shadow-lg p-2 border border-gray-200","aria-label":"Toggle mobile menu","aria-expanded":e,children:s.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[s.jsx("span",{className:`block w-5 h-0.5 bg-gray-600 transition-all duration-300 ${e?"rotate-45 translate-y-1":"-translate-y-1"}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-gray-600 transition-all duration-300 ${e?"opacity-0":"opacity-100"}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-gray-600 transition-all duration-300 ${e?"-rotate-45 -translate-y-1":"translate-y-1"}`})]})}),e&&s.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:f,"aria-hidden":"true"}),s.jsx("nav",{className:`md:hidden fixed top-0 left-0 h-full w-80 max-w-sm bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,onTouchStart:y,onTouchEnd:N,"aria-label":"Mobile navigation",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-blue-600 text-white",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"S"})}),s.jsx("span",{className:"text-xl font-bold",children:"SunVillas"})]}),s.jsx("button",{onClick:f,className:"p-2 hover:bg-blue-700 rounded-lg transition-colors","aria-label":"Close menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:n?s.jsxs("div",{className:"py-6",children:[s.jsx("div",{className:"px-6 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:((v=i==null?void 0:i.first_name)==null?void 0:v.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[i==null?void 0:i.first_name," ",i==null?void 0:i.last_name]}),s.jsx("div",{className:"text-sm text-gray-500 capitalize",children:i==null?void 0:i.user_type})]})]})}),s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/dashboard?tab=trips",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-6m-6 0H3m3 0h6M9 7h6m-6 4h6m-6 4h6"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Your Trips"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Manage your bookings"})]})]})}),s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/messages",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsxs("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center relative",children:[s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Messages"}),s.jsx("div",{className:"text-sm text-gray-500",children:a>0?`${a} unread`:"No new messages"})]})]})}),s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/dashboard?tab=favorites",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Saved Properties"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Your favorite listings"})]})]})}),(i==null?void 0:i.user_type)==="host"&&s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/host",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Host Dashboard"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Manage your properties"})]})]})}),((i==null?void 0:i.user_type)==="admin"||(i==null?void 0:i.is_verified))&&s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/investments",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Investment Tools"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Market analysis & ROI"})]})]})}),s.jsx("div",{className:"px-6 mb-4",children:s.jsxs(q,{to:"/profile",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Profile Settings"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Edit your information"})]})]})}),s.jsx("div",{className:"border-t border-gray-200 my-6"}),s.jsx("div",{className:"px-6 mb-4",children:s.jsxs("button",{onClick:()=>w("/help"),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px] w-full text-left",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Help Center"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Personalized support"})]})]})}),s.jsx("div",{className:"px-6 mb-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Language"}),s.jsxs("select",{value:o,onChange:d=>p(d.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white min-h-[44px]",children:[s.jsx("option",{value:"en",children:" English"}),s.jsx("option",{value:"es",children:" Espaol"}),s.jsx("option",{value:"fr",children:" Franais"}),s.jsx("option",{value:"de",children:" Deutsch"}),s.jsx("option",{value:"it",children:" Italiano"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Currency"}),s.jsxs("select",{value:l,onChange:d=>h(d.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white min-h-[44px]",children:[s.jsx("option",{value:"USD",children:"$ USD"}),s.jsx("option",{value:"EUR",children:" EUR"}),s.jsx("option",{value:"GBP",children:" GBP"}),s.jsx("option",{value:"CAD",children:"$ CAD"}),s.jsx("option",{value:"AUD",children:"$ AUD"})]})]})]})}),s.jsx("div",{className:"px-6",children:s.jsxs("button",{onClick:b,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-red-50 transition-colors min-h-[44px] w-full text-left text-red-600",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Log Out"}),s.jsx("div",{className:"text-sm text-red-500",children:"Sign out of your account"})]})]})})]}):s.jsxs("div",{className:"py-6",children:[s.jsx("div",{className:"px-6 mb-6",children:s.jsxs(q,{to:"/search",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Search Properties"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Find your perfect stay"})]})]})}),s.jsx("div",{className:"px-6 mb-6",children:s.jsxs(q,{to:"/destinations",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Explore Destinations"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Discover hot climate locations"})]})]})}),s.jsx("div",{className:"px-6 mb-6",children:s.jsxs(q,{to:"/host",onClick:f,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px]",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Become a Host"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Start earning from your property"})]})]})}),s.jsx("div",{className:"border-t border-gray-200 my-6"}),s.jsxs("div",{className:"px-6 mb-6 space-y-3",children:[s.jsx(q,{to:"/auth?mode=login",onClick:f,className:"block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors min-h-[44px] flex items-center justify-center",children:"Log In"}),s.jsx(q,{to:"/auth?mode=register",onClick:f,className:"block w-full border border-gray-300 text-gray-700 text-center py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors min-h-[44px] flex items-center justify-center",children:"Sign Up"})]}),s.jsx("div",{className:"px-6 mb-6",children:s.jsxs("button",{onClick:()=>w("/help"),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors min-h-[44px] w-full text-left",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Help Center"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Get support and answers"})]})]})}),s.jsx("div",{className:"px-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Language"}),s.jsxs("select",{value:o,onChange:d=>p(d.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white min-h-[44px]",children:[s.jsx("option",{value:"en",children:" English"}),s.jsx("option",{value:"es",children:" Espaol"}),s.jsx("option",{value:"fr",children:" Franais"}),s.jsx("option",{value:"de",children:" Deutsch"}),s.jsx("option",{value:"it",children:" Italiano"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Currency"}),s.jsxs("select",{value:l,onChange:d=>h(d.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white min-h-[44px]",children:[s.jsx("option",{value:"USD",children:"$ USD"}),s.jsx("option",{value:"EUR",children:" EUR"}),s.jsx("option",{value:"GBP",children:" GBP"}),s.jsx("option",{value:"CAD",children:"$ CAD"}),s.jsx("option",{value:"AUD",children:"$ AUD"})]})]})]})})]})})]})})]})},G_=()=>{var L;const e=U(g=>g.authentication_state.current_user),t=U(g=>g.authentication_state.auth_token),r=U(g=>g.authentication_state.authentication_status.is_authenticated),n=U(g=>g.notifications_state),i=U(g=>g.socket),a=U(g=>g.set_unread_notifications),l=U(g=>g.set_system_alerts),o=U(g=>g.add_system_alert),c=U(g=>g.mark_notification_read),[h,p]=k.useState([]),[x,f]=k.useState(!1),w=ys(),{data:b,isLoading:y}=ae({queryKey:["notifications",e==null?void 0:e.user_id],queryFn:async()=>{if(!t||!(e!=null&&e.user_id))throw new Error("No authentication token available");return(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/notifications",{headers:{Authorization:`Bearer ${t}`},params:{user_id:e.user_id,is_read:!1,limit:20,sort_by:"created_at",sort_order:"desc"}})).data},enabled:!!t&&!!(e!=null&&e.user_id),staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:N}=ae({queryKey:["system-alerts"],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/system-alerts",{params:{is_active:!0,limit:10}})).data,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),v=De({mutationFn:async g=>{if(!t)throw new Error("No authentication token");await W.put(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/notifications/${g}`,{is_read:!0,read_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${t}`}})},onSuccess:(g,C)=>{c(C),w.invalidateQueries({queryKey:["notifications"]})},onError:g=>{console.error("Failed to mark notification as read:",g),j("error","Failed to update notification")}}),d=k.useCallback(g=>{p(C=>C.filter(z=>z.id!==g))},[]),j=k.useCallback((g,C,z=!0,P=5e3)=>{const R=`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M={id:R,type:g,message:C,auto_dismiss:z,duration:P,timestamp:Date.now()};p(te=>[...te,M]),z&&setTimeout(()=>{d(R)},P)},[d]),_=async g=>{try{await v.mutateAsync(g)}catch(C){console.error("Error marking notification as read:",C)}};k.useEffect(()=>{if(!i)return;const g=M=>{console.log("Notification received:",M),j("info",M.title||M.message),w.invalidateQueries({queryKey:["notifications"]})},C=M=>{console.log("System alert received:",M),o(M),M.severity==="critical"||M.severity==="high"?j("error",M.message,!1):j("warning",M.message)},z=M=>{j("success",`Booking confirmed! Confirmation #${M.booking_id}`)},P=M=>{j("success",`Payment processed successfully for ${M.currency} ${M.amount}`)},R=M=>{j("error",`Payment failed: ${M.failure_reason}`,!1)};return i.on("notification_received",g),i.on("system_alert_created",C),i.on("booking_confirmed",z),i.on("payment_completed",P),i.on("payment_failed",R),()=>{i.off("notification_received",g),i.off("system_alert_created",C),i.off("booking_confirmed",z),i.off("payment_completed",P),i.off("payment_failed",R)}},[i,j,o,w]),k.useEffect(()=>{b&&a(b.unread_count)},[b,a]),k.useEffect(()=>{N!=null&&N.alerts&&l(N.alerts)},[N,l]);const A=({toast:g})=>{const C=()=>{switch(g.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":default:return"bg-blue-50 border-blue-200 text-blue-800"}},z=()=>{switch(g.type){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z";case"info":default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}};return s.jsxs("div",{role:"alert","aria-live":"polite",className:`relative flex items-start p-4 border rounded-lg shadow-lg transition-all duration-300 transform translate-x-0 ${C()}`,children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:z(),clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:g.message})}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:s.jsx("button",{type:"button",onClick:()=>d(g.id),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":"Close notification",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 pointer-events-none","aria-live":"polite","aria-label":"Notifications",children:h.map(g=>s.jsx("div",{className:"pointer-events-auto animate-slide-in-right",children:s.jsx(A,{toast:g})},g.id))}),r&&s.jsx("div",{className:"fixed top-20 right-4 z-40",children:s.jsxs("button",{type:"button",onClick:()=>f(!x),className:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 bg-white rounded-full shadow-md","aria-label":`Notifications ${n.unread_notifications>0?`(${n.unread_notifications} unread)`:""}`,children:[s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.unread_notifications>0&&s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:n.unread_notifications>99?"99+":n.unread_notifications})]})}),r&&x&&s.jsxs("div",{className:"fixed top-32 right-4 z-40 w-80 bg-white rounded-lg shadow-xl border border-gray-200 max-h-96 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Close notifications panel",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),s.jsx("div",{className:"overflow-y-auto max-h-80",children:y?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading notifications..."})]}):b!=null&&b.notifications&&b.notifications.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:b.notifications.map(g=>s.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${g.is_read?"":"bg-blue-50"}`,onClick:()=>_(g.notification_id),children:s.jsxs("div",{className:"flex items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(g.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),!g.is_read&&s.jsx("div",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})},g.notification_id))}):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s.jsx("p",{className:"mt-2 text-sm",children:"No notifications yet"})]})})]}),(N==null?void 0:N.alerts)&&N.alerts.some(g=>g.severity==="critical")&&s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-600 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium",children:(L=N.alerts.find(g=>g.severity==="critical"))==null?void 0:L.title})]}),s.jsx("button",{type:"button",className:"text-white hover:text-gray-200 focus:outline-none","aria-label":"Dismiss alert",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})}),x&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-25",onClick:()=>f(!1),"aria-hidden":"true"})]})},Y_=()=>{const e=Ut(),[t]=Lt(),r=U(R=>R.authentication_state.authentication_status.is_authenticated),n=U(R=>R.authentication_state.current_user),i=U(R=>R.authentication_state.auth_token),a=U(R=>R.user_preferences.currency),l=U(R=>R.update_search_criteria),[o,c]=k.useState({destination:"",check_in_date:"",check_out_date:"",guest_count:1,adults:1,children:0,infants:0,property_type:""}),[h,p]=k.useState(!1),[x,f]=k.useState(!1),[w,b]=k.useState("");k.useEffect(()=>{const R=t.get("destination")||"",M=t.get("check_in")||"",te=t.get("check_out")||"",J=parseInt(t.get("guests")||"1");c(T=>({...T,destination:R,check_in_date:M,check_out_date:te,guest_count:J,adults:J>=1?J:1})),b(R)},[t]);const{data:y=[],isLoading:N}=ae({queryKey:["featured-destinations"],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/locations",{params:{is_featured:!0,is_hot_destination:!0,limit:8}})).data.locations.map(M=>({location_id:M.location_id,country:M.country,city:M.city,destination_slug:M.destination_slug,average_temperature:M.average_temperature,featured_image_url:M.featured_image_url,property_count:M.property_count})),staleTime:5*60*1e3,retry:1}),{data:v=[],isLoading:d}=ae({queryKey:["featured-properties"],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties",{params:{is_verified:!0,min_rating:4.5,limit:12,sort_by:"rating"}})).data.properties.map(M=>{var te,J;return{property_id:M.property_id,title:M.title,base_price_per_night:M.base_price_per_night,currency:M.currency,average_rating:M.average_rating,review_count:M.review_count,country:M.country,city:M.city,amenities:M.amenities||[],cover_photo_url:M.cover_photo_url||((J=(te=M.photos)==null?void 0:te[0])==null?void 0:J.photo_url)}}),staleTime:5*60*1e3,retry:1}),{data:j=[]}=ae({queryKey:["destination-autocomplete",w],queryFn:async()=>!w||w.length<2?[]:(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/locations",{params:{query:w,is_hot_destination:!0,limit:10}})).data.locations.map(M=>({location_id:M.location_id,display_name:`${M.city}, ${M.country}`,country:M.country,city:M.city})),enabled:w.length>=2,staleTime:2*60*1e3,retry:1}),{data:_=[]}=ae({queryKey:["weather-data",y.map(R=>R.location_id)],queryFn:async()=>{if(y.length===0)return[];const R=y.slice(0,4).map(async M=>{try{const te=await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/locations/${M.location_id}/api/weather`,{params:{forecast_days:1}});return{location_id:M.location_id,current:te.data.current}}catch{return{location_id:M.location_id,current:{temperature_avg:M.average_temperature||25,weather_condition:"Sunny",uv_index:8,humidity:65}}}});return Promise.all(R)},enabled:y.length>0,staleTime:10*60*1e3,retry:1}),{data:A=[]}=ae({queryKey:["user-search-history",n==null?void 0:n.user_id],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/saved-searches",{params:{user_id:n==null?void 0:n.user_id,is_active:!0,limit:5},headers:{Authorization:`Bearer ${i}`}})).data.saved_searches,enabled:r&&!!(n!=null&&n.user_id)&&!!i,staleTime:5*60*1e3,retry:1}),L=k.useCallback(R=>{c(M=>({...M,destination:R})),b(R),f(R.length>=2)},[]),g=o.adults+o.children+o.infants,C=R=>{if(R.preventDefault(),!o.destination){alert("Please select a destination");return}l({destination:o.destination,check_in_date:o.check_in_date,check_out_date:o.check_out_date,guest_count:g});const M=new URLSearchParams;o.destination&&M.set("destination",o.destination),o.check_in_date&&M.set("check_in_date",o.check_in_date),o.check_out_date&&M.set("check_out_date",o.check_out_date),g>1&&M.set("guest_count",g.toString()),o.property_type&&M.set("property_type",o.property_type),e(`/search?${M.toString()}`)},z=R=>{c(M=>({...M,destination:R.display_name})),b(R.display_name),f(!1)},P=(R,M=a)=>new Intl.NumberFormat("en-US",{style:"currency",currency:M}).format(R);return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 sm:py-32",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:["Find Your Perfect",s.jsx("span",{className:"block text-yellow-300",children:"Sunny Getaway"})]}),s.jsx("p",{className:"text-xl sm:text-2xl text-blue-100 max-w-3xl mx-auto",children:"Discover amazing vacation rentals and investment opportunities in the world's hottest destinations"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("form",{onSubmit:C,className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Where"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:o.destination,onChange:R=>L(R.target.value),onFocus:()=>f(w.length>=2),placeholder:"Search destinations",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500"}),x&&j.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 max-h-60 overflow-y-auto",children:j.map(R=>s.jsx("button",{type:"button",onClick:()=>z(R),className:"w-full px-4 py-3 text-left hover:bg-gray-50 text-gray-900 border-b border-gray-100 last:border-b-0",children:s.jsx("div",{className:"font-medium",children:R.display_name})},R.location_id))})]})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in"}),s.jsx("input",{type:"date",value:o.check_in_date,onChange:R=>c(M=>({...M,check_in_date:R.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out"}),s.jsx("input",{type:"date",value:o.check_out_date,onChange:R=>c(M=>({...M,check_out_date:R.target.value})),min:o.check_in_date||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]}),s.jsxs("div",{className:"lg:col-span-1 relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guests"}),s.jsxs("button",{type:"button",onClick:()=>p(!h),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 text-left flex justify-between items-center",children:[s.jsxs("span",{children:[g," guest",g!==1?"s":""]}),s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:"Adults"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,adults:Math.max(1,R.adults-1)})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"-"}),s.jsx("span",{className:"text-gray-900 w-8 text-center",children:o.adults}),s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,adults:R.adults+1})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"+"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:"Children"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,children:Math.max(0,R.children-1)})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"-"}),s.jsx("span",{className:"text-gray-900 w-8 text-center",children:o.children}),s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,children:R.children+1})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"+"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:"Infants"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,infants:Math.max(0,R.infants-1)})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"-"}),s.jsx("span",{className:"text-gray-900 w-8 text-center",children:o.infants}),s.jsx("button",{type:"button",onClick:()=>c(R=>({...R,infants:R.infants+1})),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-gray-400",children:"+"})]})]})]})})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-4",children:["Villa","Apartment","House","Resort"].map(R=>s.jsx("button",{type:"button",onClick:()=>c(M=>({...M,property_type:M.property_type===R.toLowerCase()?"":R.toLowerCase()})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o.property_type===R.toLowerCase()?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R},R))})}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 px-8 rounded-xl font-semibold text-lg hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-[1.02] shadow-lg",children:" Search Amazing Properties"})})]})})]})]}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:" Hot Destinations"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore our most popular sunny destinations with perfect weather year-round"})]}),N?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((R,M)=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-300 rounded-t-2xl"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),s.jsx("div",{className:"h-6 bg-gray-300 rounded"})]})]},M))}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:y.slice(0,4).map(R=>{const M=_.find(te=>te.location_id===R.location_id);return s.jsxs(q,{to:`/destinations/${R.destination_slug}`,className:"group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] overflow-hidden",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[R.featured_image_url?s.jsx("img",{src:R.featured_image_url,alt:`${R.city}, ${R.country}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-4xl",children:""})}),s.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 rounded-full px-3 py-1 flex items-center space-x-1",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(M==null?void 0:M.current.temperature_avg)||R.average_temperature,"C"]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:R.city}),s.jsx("p",{className:"text-gray-600 mb-2",children:R.country}),s.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:[R.property_count," properties"]}),M&&s.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:M.current.weather_condition}),s.jsxs("span",{children:["UV: ",M.current.uv_index]})]})]})]},R.location_id)})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:" Featured Properties"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Handpicked luxury accommodations with exceptional ratings and amenities"})]}),d?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,M)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm animate-pulse",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded-t-2xl"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),s.jsx("div",{className:"h-6 bg-gray-300 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded"})]})]},M))}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:v.slice(0,6).map(R=>{var M;return s.jsxs(q,{to:`/property/${R.property_id}`,className:"group bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all transform hover:scale-[1.02] overflow-hidden",children:[s.jsxs("div",{className:"relative h-64 overflow-hidden",children:[R.cover_photo_url?s.jsx("img",{src:R.cover_photo_url,alt:R.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500 text-4xl",children:""})}),s.jsxs("div",{className:"absolute top-4 left-4 bg-white bg-opacity-90 rounded-full px-3 py-1 flex items-center space-x-1",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(M=R.average_rating)==null?void 0:M.toFixed(1)," (",R.review_count,")"]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:R.title}),s.jsxs("p",{className:"text-gray-600 mb-3",children:[R.city,", ",R.country]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[R.amenities.slice(0,3).map((te,J)=>s.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:te},J)),R.amenities.length>3&&s.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:["+",R.amenities.length-3," more"]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:P(R.base_price_per_night,R.currency)}),s.jsx("span",{className:"text-gray-600 text-sm",children:" / night"})]})})]})]},R.property_id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(q,{to:"/search",className:"inline-flex items-center px-8 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors",children:["View All Properties",s.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),r&&n&&s.jsx("section",{className:"py-16 bg-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:["Welcome back, ",n.first_name,"! "]}),s.jsx("p",{className:"text-xl text-gray-600",children:"Continue your journey or discover something new"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Your Recent Searches"}),s.jsx("div",{className:"space-y-4",children:A.slice(0,3).map(R=>s.jsxs(q,{to:`/search?destination=${encodeURIComponent(R.destination)}`,className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:R.search_name}),s.jsx("p",{className:"text-gray-600 text-sm",children:R.destination})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},R.search_id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Quick Actions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(q,{to:"/dashboard",className:"flex items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx("span",{className:"text-2xl mr-4",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Dashboard"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage trips and bookings"})]})]}),n.user_type==="host"&&s.jsxs(q,{to:"/host",className:"flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx("span",{className:"text-2xl mr-4",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Host Dashboard"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your properties"})]})]}),s.jsxs(q,{to:"/messages",className:"flex items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx("span",{className:"text-2xl mr-4",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Messages"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Chat with hosts and guests"})]})]})]})]})]})]})}),s.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-green-700 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:" Become a Host"}),s.jsx("p",{className:"text-xl text-green-100 mb-8",children:"Turn your property into a profitable vacation rental. Join thousands of successful hosts earning passive income in hot destinations."}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-300 mr-3",children:""}),s.jsx("span",{children:"Free listing and professional photography"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-300 mr-3",children:""}),s.jsx("span",{children:"24/7 customer support"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-300 mr-3",children:""}),s.jsx("span",{children:"Flexible hosting options"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-300 mr-3",children:""}),s.jsx("span",{children:"Host protection insurance"})]})]}),s.jsxs(q,{to:"/host",className:"inline-flex items-center px-8 py-4 bg-white text-green-600 font-semibold rounded-xl hover:bg-green-50 transition-colors",children:["Start Hosting Today",s.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-white bg-opacity-20 rounded-2xl p-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Average Host Earnings"}),s.jsx("div",{className:"text-4xl font-bold text-yellow-300 mb-2",children:"$2,850"}),s.jsx("p",{className:"text-green-100",children:"per month in popular destinations"})]})})]})})}),s.jsx("section",{className:"py-16 bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:" Investment Opportunities"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Discover high-yield real estate investments in emerging hot destinations with strong rental demand"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Beachfront Properties"}),s.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"12-15%"}),s.jsx("p",{className:"text-gray-300",children:"Average annual ROI"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tropical Villas"}),s.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"8-12%"}),s.jsx("p",{className:"text-gray-300",children:"Rental yield"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Urban Apartments"}),s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"25%"}),s.jsx("p",{className:"text-gray-300",children:"Capital appreciation"})]})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(q,{to:"/investments",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all",children:["Explore Investment Opportunities",s.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),s.jsx("section",{className:"py-16 bg-yellow-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Stay in the Loop"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Get the latest travel tips, destination guides, and exclusive property deals delivered to your inbox"}),s.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[s.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Subscribe"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No spam, unsubscribe at any time. We respect your privacy."})]})})]})},J_=()=>{const e=Ut(),[t,r]=Lt(),n=ys(),i=U(u=>u.authentication_state.authentication_status.is_authenticated),a=U(u=>u.authentication_state.current_user),l=U(u=>u.authentication_state.auth_token),[o,c]=k.useState(1),[h,p]=k.useState("grid"),[x,f]=k.useState(!1),[w,b]=k.useState(""),y=k.useMemo(()=>{const u=t.get("amenities");return{destination:t.get("destination")||"",check_in_date:t.get("check_in_date")||"",check_out_date:t.get("check_out_date")||"",guest_count:parseInt(t.get("guest_count")||"1"),property_type:t.get("property_type")||"",price_min:parseFloat(t.get("price_min")||"0"),price_max:parseFloat(t.get("price_max")||"0"),amenities:u?u.split(","):[],instant_booking:t.get("instant_booking")==="true",distance_beach:parseFloat(t.get("distance_beach")||"0"),distance_airport:parseFloat(t.get("distance_airport")||"0"),host_language:t.get("host_language")||"",sort_by:t.get("sort_by")||"created_at",sort_order:t.get("sort_order")||"desc"}},[t]),N=k.useCallback((u,m=1)=>{const S=new URLSearchParams(t);Object.entries(u).forEach(([F,X])=>{X&&X!==""&&X!==0&&(!Array.isArray(X)||X.length>0)?Array.isArray(X)?S.set(F,X.join(",")):S.set(F,X.toString()):S.delete(F)}),m>1?S.set("page",m.toString()):S.delete("page"),S.set("view_type",h),r(S),c(m)},[h,r]),{data:v,isLoading:d,error:j}=ae({queryKey:["properties",y,o],queryFn:async()=>{const u=new URLSearchParams;return Object.entries(y).forEach(([S,F])=>{F&&F!==""&&F!==0&&(!Array.isArray(F)||F.length>0)&&(Array.isArray(F)?u.set(S,F.join(",")):u.set(S,F.toString()))}),u.set("limit","10"),u.set("offset",((o-1)*10).toString()),(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties?${u.toString()}`)).data},staleTime:5*60*1e3,enabled:!0}),{data:_}=ae({queryKey:["userFavorites",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!l?[]:(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${a.user_id}/favorites`,{headers:{Authorization:`Bearer ${l}`}})).data.favorites.map(m=>({property_id:m.property_id,favorited_at:m.favorited_at||new Date().toISOString()})),enabled:i&&!!(a!=null&&a.user_id),staleTime:5*60*1e3}),{data:A}=ae({queryKey:["savedSearches",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!l?[]:(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/saved-searches?user_id=${a.user_id}&is_active=true`,{headers:{Authorization:`Bearer ${l}`}})).data.saved_searches||[],enabled:i&&!!(a!=null&&a.user_id),staleTime:5*60*1e3}),L=De({mutationFn:async({propertyId:u,isFavorited:m})=>{if(!(a!=null&&a.user_id)||!l)throw new Error("Authentication required");m?await W.delete(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${a.user_id}/favorites/${u}`,{headers:{Authorization:`Bearer ${l}`}}):await W.post(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${a.user_id}/favorites`,{property_id:u},{headers:{Authorization:`Bearer ${l}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["userFavorites"]})},onError:u=>{console.error("Error toggling favorite:",u)}}),g=De({mutationFn:async u=>{if(!(a!=null&&a.user_id)||!l)throw new Error("Authentication required");await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/saved-searches",{user_id:a.user_id,search_name:u,destination:y.destination,check_in_date:y.check_in_date||null,check_out_date:y.check_out_date||null,guest_count:y.guest_count||null,property_type:y.property_type||null,price_min:y.price_min||null,price_max:y.price_max||null,amenities:y.amenities.length>0?y.amenities:null,instant_booking:y.instant_booking||null,distance_beach:y.distance_beach||null,distance_airport:y.distance_airport||null,host_language:y.host_language||null,sort_by:y.sort_by||null},{headers:{Authorization:`Bearer ${l}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["savedSearches"]}),f(!1),b("")},onError:u=>{console.error("Error saving search:",u)}}),C=u=>{if(!i){e("/auth?mode=login&redirect_to="+encodeURIComponent(window.location.pathname+window.location.search));return}const m=(_==null?void 0:_.some(S=>S.property_id===u))||!1;L.mutate({propertyId:u,isFavorited:m})},z=()=>{if(!i){e("/auth?mode=login&redirect_to="+encodeURIComponent(window.location.pathname+window.location.search));return}w.trim()&&g.mutate(w.trim())},P=["wifi","pool","ac","kitchen","parking","tv","washer","heating","gym","balcony","garden","beach_access","hot_tub","fireplace"],R=["villa","apartment","house","resort","hotel"],M=(v==null?void 0:v.total)||0,te=Math.ceil(M/10),J=(v==null?void 0:v.properties)||[],T=u=>(_==null?void 0:_.some(m=>m.property_id===u))||!1,H=(u,m)=>new Intl.NumberFormat("en-US",{style:"currency",currency:m||"USD"}).format(u),Y=u=>{N({},u),window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:y.destination?`Properties in ${y.destination}`:"Search Results"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[M," properties found",y.check_in_date&&y.check_out_date&&s.jsxs("span",{children:["  ",y.check_in_date," - ",y.check_out_date]}),y.guest_count>1&&s.jsxs("span",{children:["  ",y.guest_count," guests"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[i&&s.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors",disabled:g.isPending,children:"Save Search"}),s.jsx(q,{to:`/?${new URLSearchParams({destination:y.destination,check_in_date:y.check_in_date,check_out_date:y.check_out_date,guest_count:y.guest_count.toString()}).toString()}`,className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Modify Search"})]})]}),(y.property_type||y.amenities.length>0||y.price_min>0||y.instant_booking)&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Filters:"}),y.property_type&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y.property_type,s.jsx("button",{onClick:()=>N({property_type:""}),className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]}),y.amenities.map(u=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u,s.jsx("button",{onClick:()=>N({amenities:y.amenities.filter(m=>m!==u)}),className:"ml-1 text-green-600 hover:text-green-800",children:""})]},u)),y.price_min>0&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Min $",y.price_min,s.jsx("button",{onClick:()=>N({price_min:0}),className:"ml-1 text-purple-600 hover:text-purple-800",children:""})]}),y.instant_booking&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["Instant Book",s.jsx("button",{onClick:()=>N({instant_booking:!1}),className:"ml-1 text-orange-600 hover:text-orange-800",children:""})]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"lg:w-80 flex-shrink-0",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Property Type"}),s.jsxs("div",{className:"space-y-2",children:[R.map(u=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"property_type",value:u,checked:y.property_type===u,onChange:m=>N({property_type:m.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:u})]},u)),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"property_type",value:"",checked:y.property_type==="",onChange:u=>N({property_type:u.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"All Types"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Price Range (per night)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Price"}),s.jsx("input",{type:"number",placeholder:"0",value:y.price_min||"",onChange:u=>N({price_min:parseFloat(u.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Price"}),s.jsx("input",{type:"number",placeholder:"Any",value:y.price_max||"",onChange:u=>N({price_max:parseFloat(u.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:P.map(u=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.amenities.includes(u),onChange:m=>{const S=m.target.checked?[...y.amenities,u]:y.amenities.filter(F=>F!==u);N({amenities:S})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:u.replace("_"," ")})]},u))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.instant_booking,onChange:u=>N({instant_booking:u.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Instant Book Only"})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Distance"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max distance from beach (km)"}),s.jsx("input",{type:"number",placeholder:"Any",value:y.distance_beach||"",onChange:u=>N({distance_beach:parseFloat(u.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max distance from airport (km)"}),s.jsx("input",{type:"number",placeholder:"Any",value:y.distance_airport||"",onChange:u=>N({distance_airport:parseFloat(u.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),i&&A&&A.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Saved Searches"}),s.jsx("div",{className:"space-y-2",children:A.slice(0,3).map(u=>s.jsx("button",{onClick:()=>{e(`/search?destination=${encodeURIComponent(u.destination)}`)},className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md transition-colors",children:u.search_name},u.search_id))})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-0",children:s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>p("grid"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${h==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Grid"}),s.jsx("button",{onClick:()=>p("list"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${h==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"List"}),s.jsx("button",{onClick:()=>p("map"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${h==="map"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Map"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),s.jsxs("select",{value:`${y.sort_by}_${y.sort_order}`,onChange:u=>{const[m,S]=u.target.value.split("_");N({sort_by:m,sort_order:S})},className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"created_at_desc",children:"Newest First"}),s.jsx("option",{value:"price_asc",children:"Price: Low to High"}),s.jsx("option",{value:"price_desc",children:"Price: High to Low"}),s.jsx("option",{value:"rating_desc",children:"Highest Rated"}),s.jsx("option",{value:"distance_beach_asc",children:"Closest to Beach"})]})]})]}),d&&s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Searching properties..."})]}),j&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s.jsx("p",{className:"text-sm",children:"Error loading properties. Please try again."})}),!d&&!j&&J.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),s.jsx(q,{to:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:"Start New Search"})]}),!d&&J.length>0&&s.jsxs(s.Fragment,{children:[h==="grid"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:J.map(u=>{var m;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border",children:[s.jsxs("div",{className:"relative",children:[s.jsx(q,{to:`/property/${u.property_id}${y.check_in_date?`?check_in_date=${y.check_in_date}&check_out_date=${y.check_out_date}&guest_count=${y.guest_count}`:""}`,children:s.jsx("img",{src:u.cover_photo_url||((m=u.photos.find(S=>S.is_cover_photo))==null?void 0:m.photo_url)||"/api/placeholder/400/250",alt:u.title,className:"w-full h-48 object-cover rounded-t-lg"})}),s.jsx("button",{onClick:()=>C(u.property_id),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-sm hover:shadow-md transition-shadow",disabled:L.isPending,children:s.jsx("svg",{className:`w-5 h-5 transition-colors ${T(u.property_id)?"text-red-500 fill-current":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),u.instant_booking&&s.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-md",children:"Instant Book"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(q,{to:`/property/${u.property_id}${y.check_in_date?`?check_in_date=${y.check_in_date}&check_out_date=${y.check_out_date}&guest_count=${y.guest_count}`:""}`,className:"text-gray-900 hover:text-blue-600 transition-colors",children:s.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:u.title})}),u.is_superhost&&s.jsx("span",{className:"flex-shrink-0 ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-md",children:"Superhost"})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[u.city,", ",u.country]}),u.average_rating>0&&s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),s.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:u.average_rating.toFixed(1)})]}),s.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",u.review_count," reviews)"]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:H(u.base_price_per_night,u.currency)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per night"})]})}),u.amenities.length>0&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[u.amenities.slice(0,3).map(S=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md capitalize",children:S.replace("_"," ")},S)),u.amenities.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:["+",u.amenities.length-3," more"]})]})]})]},u.property_id)})}),h==="list"&&s.jsx("div",{className:"space-y-4",children:J.map(u=>{var m;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row",children:[s.jsxs("div",{className:"relative flex-shrink-0 sm:w-64",children:[s.jsx(q,{to:`/property/${u.property_id}${y.check_in_date?`?check_in_date=${y.check_in_date}&check_out_date=${y.check_out_date}&guest_count=${y.guest_count}`:""}`,children:s.jsx("img",{src:u.cover_photo_url||((m=u.photos.find(S=>S.is_cover_photo))==null?void 0:m.photo_url)||"/api/placeholder/400/200",alt:u.title,className:"w-full h-48 sm:h-full object-cover rounded-t-lg sm:rounded-l-lg sm:rounded-t-none"})}),s.jsx("button",{onClick:()=>C(u.property_id),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-sm hover:shadow-md transition-shadow",disabled:L.isPending,children:s.jsx("svg",{className:`w-5 h-5 transition-colors ${T(u.property_id)?"text-red-500 fill-current":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(q,{to:`/property/${u.property_id}${y.check_in_date?`?check_in_date=${y.check_in_date}&check_out_date=${y.check_out_date}&guest_count=${y.guest_count}`:""}`,className:"text-gray-900 hover:text-blue-600 transition-colors",children:s.jsx("h3",{className:"text-lg font-medium",children:u.title})}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.instant_booking&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-md",children:"Instant Book"}),u.is_superhost&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-md",children:"Superhost"})]})]}),s.jsxs("p",{className:"text-gray-600 mb-2",children:[u.city,", ",u.country]}),u.average_rating>0&&s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),s.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:u.average_rating.toFixed(1)})]}),s.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",u.review_count," reviews)"]})]}),(u.distance_beach>0||u.distance_airport>0)&&s.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600",children:[u.distance_beach>0&&s.jsxs("span",{children:[" ",u.distance_beach,"km to beach"]}),u.distance_airport>0&&s.jsxs("span",{children:[" ",u.distance_airport,"km to airport"]})]}),u.amenities.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[u.amenities.slice(0,6).map(S=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md capitalize",children:S.replace("_"," ")},S)),u.amenities.length>6&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:["+",u.amenities.length-6," more"]})]})]}),s.jsxs("div",{className:"text-right ml-6",children:[s.jsx("div",{className:"text-xl font-semibold text-gray-900",children:H(u.base_price_per_night,u.currency)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per night"})]})]})})]})},u.property_id)})}),h==="map"&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Map View Coming Soon"}),s.jsx("p",{className:"text-gray-600",children:"Interactive map with property locations will be available soon."})]})}),te>1&&s.jsx("div",{className:"flex items-center justify-center mt-8",children:s.jsxs("nav",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Y(o-1),disabled:o===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,te)},(u,m)=>{const S=Math.max(1,o-2)+m;return S>te?null:s.jsx("button",{onClick:()=>Y(S),className:`px-3 py-2 text-sm font-medium rounded-md ${S===o?"text-blue-600 bg-blue-50 border border-blue-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:S},S)}),s.jsx("button",{onClick:()=>Y(o+1),disabled:o===te,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})}),x&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>f(!1)})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Save Search"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Name"}),s.jsx("input",{type:"text",id:"search-name",value:w,onChange:u=>b(u.target.value),placeholder:`Properties in ${y.destination||"your destination"}`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",onClick:z,disabled:!w.trim()||g.isPending,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?"Saving...":"Save Search"}),s.jsx("button",{type:"button",onClick:()=>{f(!1),b("")},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})})},X_=()=>{var S,F,X,pe;const{property_id:e}=Pr(),[t]=Lt(),r=Ut(),n=ys(),i=U(B=>B.authentication_state.current_user),a=U(B=>B.authentication_state.authentication_status.is_authenticated),l=U(B=>B.authentication_state.auth_token),o=U(B=>B.user_preferences.currency),c=U(B=>B.user_preferences.temperature_unit),h=U(B=>B.set_current_booking),[p,x]=k.useState({check_in_date:t.get("check_in_date")||"",check_out_date:t.get("check_out_date")||""}),[f,w]=k.useState({adults:parseInt(t.get("guest_count")||"2"),children:0,infants:0,total:parseInt(t.get("guest_count")||"2")}),[b,y]=k.useState(!1),[N,v]=k.useState(!1),[d,j]=k.useState(!1),[_,A]=k.useState(0),[L]=k.useState(0),{data:g,isLoading:C,error:z}=ae({queryKey:["property",e,p.check_in_date,p.check_out_date,f.total],queryFn:async()=>{if(!e)throw new Error("Property ID is required");const B=new URLSearchParams;return p.check_in_date&&B.append("check_in_date",p.check_in_date),p.check_out_date&&B.append("check_out_date",p.check_out_date),f.total&&B.append("guest_count",f.total.toString()),(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${e}?${B.toString()}`)).data},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:P}=ae({queryKey:["property-reviews",e,L],queryFn:async()=>{if(!e)throw new Error("Property ID is required");return(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/reviews?property_id=${e}&limit=10&offset=${L*10}&sort_by=created_at&sort_order=desc`)).data},enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),{data:R}=ae({queryKey:["user-favorites",i==null?void 0:i.user_id,e],queryFn:async()=>!(i!=null&&i.user_id)||!l?{favorites:[]}:(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${i.user_id}/favorites`,{headers:{Authorization:`Bearer ${l}`}})).data,enabled:!!(i!=null&&i.user_id)&&!!l,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),{data:M}=ae({queryKey:["location-weather",g==null?void 0:g.latitude,g==null?void 0:g.longitude],queryFn:async()=>{if(!(g!=null&&g.latitude)||!(g!=null&&g.longitude))throw new Error("Location data required");return{current:{temperature_avg:28.5,weather_condition:"Sunny",uv_index:8.2},forecast:Array.from({length:7},(B,Z)=>({date:new Date(Date.now()+Z*24*60*60*1e3).toISOString().split("T")[0],temperature_min:22+Math.random()*3,temperature_max:30+Math.random()*5,weather_condition:["Sunny","Partly Cloudy","Clear"][Math.floor(Math.random()*3)]}))}},enabled:!!(g!=null&&g.latitude)&&!!(g!=null&&g.longitude),staleTime:18e5,refetchOnWindowFocus:!1,retry:1}),{data:te}=ae({queryKey:["location-attractions",g==null?void 0:g.latitude,g==null?void 0:g.longitude],queryFn:async()=>{if(!(g!=null&&g.latitude)||!(g!=null&&g.longitude))throw new Error("Location data required");return{attractions:[{attraction_id:"1",name:"Beach Access",category:"beach",distance:.2,rating:4.8},{attraction_id:"2",name:"Local Market",category:"shopping",distance:1.5,rating:4.5},{attraction_id:"3",name:"Historic Center",category:"culture",distance:2.1,rating:4.7},{attraction_id:"4",name:"Waterfront Restaurant",category:"dining",distance:.8,rating:4.6}]}},enabled:!!(g!=null&&g.latitude)&&!!(g!=null&&g.longitude),staleTime:18e5,refetchOnWindowFocus:!1,retry:1}),J=De({mutationFn:async()=>{var Z;if(!(i!=null&&i.user_id)||!l||!e)throw new Error("Authentication required");((Z=R==null?void 0:R.favorites)==null?void 0:Z.some(ye=>ye.property_id===e))?await W.delete(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${i.user_id}/favorites/${e}`,{headers:{Authorization:`Bearer ${l}`}}):await W.post(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${i.user_id}/favorites`,{property_id:e},{headers:{Authorization:`Bearer ${l}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["user-favorites",i==null?void 0:i.user_id]})}}),T=k.useMemo(()=>{if(!g||!p.check_in_date||!p.check_out_date)return{nights:0,base_price:0,cleaning_fee:0,service_fee:0,taxes_and_fees:0,total_price:0,currency:(g==null?void 0:g.currency)||"USD"};const B=new Date(p.check_in_date),Z=new Date(p.check_out_date),ye=Math.ceil((Z.getTime()-B.getTime())/(1e3*60*60*24));if(ye<=0)return{nights:0,base_price:0,cleaning_fee:0,service_fee:0,taxes_and_fees:0,total_price:0,currency:g.currency};const fe=g.base_price_per_night*ye,bt=g.cleaning_fee||0,Ge=fe*.1,O=fe*.06,re=fe+bt+Ge+O;return{nights:ye,base_price:fe,cleaning_fee:bt,service_fee:Ge,taxes_and_fees:O,total_price:re,currency:g.currency}},[g,p.check_in_date,p.check_out_date]),H=((S=R==null?void 0:R.favorites)==null?void 0:S.some(B=>B.property_id===e))||!1,Y=()=>{if(!a){r("/auth?mode=login&redirect_to="+encodeURIComponent(window.location.pathname+window.location.search));return}if(!p.check_in_date||!p.check_out_date){alert("Please select check-in and check-out dates");return}h({booking_id:"",property_id:e,guest_id:i.user_id,check_in_date:p.check_in_date,check_out_date:p.check_out_date,guest_count:f.total,adults:f.adults,children:f.children,infants:f.infants,nights:T.nights,base_price:T.base_price,cleaning_fee:T.cleaning_fee,service_fee:T.service_fee,taxes_and_fees:T.taxes_and_fees,total_price:T.total_price,currency:T.currency,special_requests:"",booking_status:"pending",payment_status:"pending",cancellation_reason:void 0,cancelled_at:void 0,check_in_instructions:void 0,access_code:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),r(`/book/${e}?check_in_date=${p.check_in_date}&check_out_date=${p.check_out_date}&guest_count=${f.total}`)},u=()=>{if(!a){r("/auth?mode=login");return}r("/messages")},m=(B,Z)=>{w(ye=>{const fe={...ye,[B]:Math.max(0,Z)};return B==="adults"&&fe.adults===0&&(fe.adults=1),fe.total=fe.adults+fe.children+fe.infants,fe})};return C?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."})]})})}):z||!g?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),s.jsx(q,{to:"/search",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-white",children:[b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"relative w-full h-full max-w-6xl max-h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 text-white",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[_+1," / ",g.photos.length]}),s.jsx("button",{onClick:()=>y(!1),className:"text-white hover:text-gray-300 text-2xl font-bold","aria-label":"Close gallery",children:""})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsx("img",{src:(F=g.photos[_])==null?void 0:F.photo_url,alt:((X=g.photos[_])==null?void 0:X.alt_text)||g.title,className:"max-w-full max-h-full object-contain"})}),s.jsxs("div",{className:"flex justify-center space-x-4 p-4",children:[s.jsx("button",{onClick:()=>A(Math.max(0,_-1)),disabled:_===0,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>A(Math.min(g.photos.length-1,_+1)),disabled:_===g.photos.length-1,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:g.title}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[g.average_rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 text-lg",children:""}),s.jsx("span",{className:"font-semibold ml-1",children:g.average_rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",g.review_count," reviews)"]})]}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsxs("span",{className:"text-gray-700",children:[g.city,", ",g.country]})]}),s.jsx("p",{className:"text-gray-600",children:g.address})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[s.jsx("button",{onClick:()=>{navigator.share?navigator.share({title:g.title,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("span",{className:"text-sm font-medium",children:"Share"})}),a&&s.jsxs("button",{onClick:()=>J.mutate(),disabled:J.isPending,className:`flex items-center px-4 py-2 border rounded-lg transition-colors ${H?"border-red-300 bg-red-50 text-red-700 hover:bg-red-100":"border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("span",{className:`text-lg mr-2 ${H?"text-red-500":"text-gray-400"}`,children:H?"":""}),s.jsx("span",{className:"text-sm font-medium",children:H?"Saved":"Save"})]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-2 rounded-xl overflow-hidden",children:g.photos.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:col-span-2 lg:row-span-2",children:s.jsx("img",{src:g.photos[0].photo_url,alt:g.photos[0].alt_text||g.title,className:"w-full h-64 lg:h-full object-cover cursor-pointer hover:brightness-95 transition-all",onClick:()=>{A(0),y(!0)}})}),g.photos.slice(1,5).map((B,Z)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:B.photo_url,alt:B.alt_text||g.title,className:"w-full h-32 lg:h-full object-cover cursor-pointer hover:brightness-95 transition-all",onClick:()=>{A(Z+1),y(!0)}}),Z===3&&g.photos.length>5&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center cursor-pointer",onClick:()=>y(!0),children:s.jsxs("span",{className:"text-white font-semibold",children:["+",g.photos.length-5," more"]})})]},B.photo_id))]})}),g.photos.length>0&&s.jsxs("button",{onClick:()=>y(!0),className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:["Show all ",g.photos.length," photos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[g.property_type," hosted by ",g.owner.first_name]}),s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:s.jsx("img",{src:g.owner.profile_photo_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(g.owner.first_name+" "+g.owner.last_name)}&background=3B82F6&color=ffffff`,alt:`${g.owner.first_name} ${g.owner.last_name}`,className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 mb-6",children:[s.jsxs("span",{children:[g.guest_count," guests"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[g.bedrooms," bedroom",g.bedrooms!==1?"s":""]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[g.bathrooms," bathroom",g.bathrooms!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.owner.is_superhost&&s.jsxs("div",{className:"flex items-center px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm font-medium",children:[s.jsx("span",{className:"mr-1",children:""}),"Superhost"]}),g.owner.is_verified&&s.jsxs("div",{className:"flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[s.jsx("span",{className:"mr-1",children:""}),"Verified Host"]}),g.instant_booking&&s.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx("span",{className:"mr-1",children:""}),"Instant Book"]})]}),s.jsx("div",{className:"border-t border-b border-gray-200 py-6 my-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Check-in:"}),s.jsx("span",{className:"text-gray-600 ml-2",children:g.check_in_time})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Check-out:"}),s.jsx("span",{className:"text-gray-600 ml-2",children:g.check_out_time})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Minimum stay:"}),s.jsxs("span",{className:"text-gray-600 ml-2",children:[g.minimum_stay," night",g.minimum_stay!==1?"s":""]})]}),g.maximum_stay&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Maximum stay:"}),s.jsxs("span",{className:"text-gray-600 ml-2",children:[g.maximum_stay," nights"]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("div",{className:"prose prose-gray max-w-none",children:s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:g.description})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:(N?g.amenities:g.amenities.slice(0,10)).map((B,Z)=>s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:B})]},Z))}),g.amenities.length>10&&s.jsx("button",{onClick:()=>v(!N),className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:N?"Show less":`Show all ${g.amenities.length} amenities`})]}),g.house_rules.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"House rules"}),s.jsx("ul",{className:"space-y-2",children:g.house_rules.map((B,Z)=>s.jsxs("li",{className:"flex items-start text-gray-700",children:[s.jsx("span",{className:"mr-3 mt-1",children:""}),s.jsx("span",{children:B})]},Z))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Location"}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-6 mb-4",children:s.jsx("div",{className:"flex items-center justify-center h-48 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-4xl mb-2 block",children:""}),s.jsx("p",{children:"Interactive map would be here"}),s.jsxs("p",{className:"text-sm",children:[g.city,", ",g.country]})]})})}),M&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Current Weather"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800",children:c==="celsius"?`${Math.round(M.current.temperature_avg)}C`:`${Math.round(M.current.temperature_avg*9/5+32)}F`}),s.jsx("p",{className:"text-blue-600 text-sm",children:M.current.weather_condition})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-blue-800 text-sm",children:["UV Index: ",M.current.uv_index]})})]})]}),te&&te.attractions.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Nearby attractions"}),s.jsx("div",{className:"space-y-2",children:te.attractions.map(B=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:B.name}),s.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",B.category,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[B.distance," km away"]}),s.jsxs("div",{className:"text-sm text-yellow-600",children:[" ",B.rating]})]})]},B.attraction_id))})]})]}),P&&P.reviews.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[" ",(pe=P.average_rating)==null?void 0:pe.toFixed(1),"  ",P.total," review",P.total!==1?"s":""]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(d?P.reviews:P.reviews.slice(0,6)).map(B=>s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("img",{src:B.reviewer.profile_photo_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(B.reviewer.first_name+" "+B.reviewer.last_name)}&background=3B82F6&color=ffffff`,alt:`${B.reviewer.first_name} ${B.reviewer.last_name}`,className:"w-10 h-10 rounded-full mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:B.is_anonymous?"Anonymous":`${B.reviewer.first_name} ${B.reviewer.last_name}`}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"text-sm text-gray-600 ml-1",children:B.overall_rating}),s.jsx("span",{className:"text-gray-400 mx-1",children:""}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date(B.created_at).toLocaleDateString()})]})]})]}),B.review_text&&s.jsx("p",{className:"text-gray-700 mb-3",children:B.review_text}),B.host_response&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mt-3",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm mb-1",children:"Response from host:"}),s.jsx("p",{className:"text-gray-700 text-sm",children:B.host_response}),B.host_response_date&&s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(B.host_response_date).toLocaleDateString()})]})]},B.review_id))}),P.reviews.length>6&&s.jsx("button",{onClick:()=>j(!d),className:"mt-6 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:d?"Show less":`Show all ${P.total} reviews`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Meet your host"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:g.owner.profile_photo_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(g.owner.first_name+" "+g.owner.last_name)}&background=3B82F6&color=ffffff`,alt:`${g.owner.first_name} ${g.owner.last_name}`,className:"w-16 h-16 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[g.owner.first_name," ",g.owner.last_name]}),s.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["Host since ",new Date(g.owner.member_since).getFullYear()]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[g.owner.is_superhost&&s.jsx("span",{className:"text-pink-600 text-sm font-medium",children:" Superhost"}),g.owner.is_verified&&s.jsx("span",{className:"text-blue-600 text-sm font-medium",children:" Identity verified"})]}),g.owner.bio&&s.jsx("p",{className:"text-gray-700 text-sm mb-4",children:g.owner.bio}),g.owner.languages_spoken&&g.owner.languages_spoken.length>0&&s.jsxs("p",{className:"text-gray-600 text-sm",children:[s.jsx("span",{className:"font-medium",children:"Languages:"})," ",g.owner.languages_spoken.join(", ")]})]})]}),s.jsx("button",{onClick:u,className:"mt-4 w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Contact Host"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation policy"}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("p",{className:"text-yellow-800",children:[s.jsx("span",{className:"font-medium capitalize",children:g.cancellation_policy})," cancellation policy"]}),s.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[g.cancellation_policy==="flexible"&&"Free cancellation for 48 hours. After that, cancel up to 24 hours before check-in for a partial refund.",g.cancellation_policy==="moderate"&&"Free cancellation for 48 hours. After that, cancel up to 5 days before check-in for a partial refund.",g.cancellation_policy==="strict"&&"Free cancellation for 48 hours. After that, cancel up to 14 days before check-in for a partial refund."]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:o===g.currency?`${g.currency==="USD"?"$":""}${g.base_price_per_night}`:`${g.base_price_per_night} ${g.currency}`}),s.jsx("span",{className:"text-gray-600",children:" / night"})]}),g.average_rating&&s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"font-medium ml-1",children:g.average_rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",g.review_count,")"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"CHECK-IN"}),s.jsx("input",{type:"date",value:p.check_in_date,onChange:B=>x(Z=>({...Z,check_in_date:B.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"CHECK-OUT"}),s.jsx("input",{type:"date",value:p.check_out_date,onChange:B=>x(Z=>({...Z,check_out_date:B.target.value})),min:p.check_in_date||new Date().toISOString().split("T")[0],className:"w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"GUESTS"}),s.jsxs("div",{className:"border border-gray-300 rounded-lg p-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Adults"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Ages 13 or above"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m("adults",f.adults-1),disabled:f.adults<=1,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),s.jsx("span",{className:"w-8 text-center",children:f.adults}),s.jsx("button",{onClick:()=>m("adults",f.adults+1),disabled:f.total>=g.guest_count,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Children"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Ages 2-12"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m("children",f.children-1),disabled:f.children<=0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),s.jsx("span",{className:"w-8 text-center",children:f.children}),s.jsx("button",{onClick:()=>m("children",f.children+1),disabled:f.total>=g.guest_count,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Infants"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Under 2"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m("infants",f.infants-1),disabled:f.infants<=0,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),s.jsx("span",{className:"w-8 text-center",children:f.infants}),s.jsx("button",{onClick:()=>m("infants",f.infants+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:border-gray-400",children:"+"})]})]})]}),f.total>g.guest_count&&s.jsxs("p",{className:"text-red-600 text-xs mt-2",children:["This property can accommodate up to ",g.guest_count," guests."]})]})]}),T.nights>0&&s.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[o===g.currency?`${g.currency==="USD"?"$":""}${g.base_price_per_night}`:`${g.base_price_per_night} ${g.currency}`,"  ",T.nights," night",T.nights!==1?"s":""]}),s.jsx("span",{children:o===g.currency?`${g.currency==="USD"?"$":""}${T.base_price.toFixed(2)}`:`${T.base_price.toFixed(2)} ${g.currency}`})]}),T.cleaning_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cleaning fee"}),s.jsx("span",{children:o===g.currency?`${g.currency==="USD"?"$":""}${T.cleaning_fee.toFixed(2)}`:`${T.cleaning_fee.toFixed(2)} ${g.currency}`})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Service fee"}),s.jsx("span",{children:o===g.currency?`${g.currency==="USD"?"$":""}${T.service_fee.toFixed(2)}`:`${T.service_fee.toFixed(2)} ${g.currency}`})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes and fees"}),s.jsx("span",{children:o===g.currency?`${g.currency==="USD"?"$":""}${T.taxes_and_fees.toFixed(2)}`:`${T.taxes_and_fees.toFixed(2)} ${g.currency}`})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:o===g.currency?`${g.currency==="USD"?"$":""}${T.total_price.toFixed(2)}`:`${T.total_price.toFixed(2)} ${g.currency}`})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:Y,disabled:f.total>g.guest_count||!p.check_in_date||!p.check_out_date,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:g.instant_booking?"Reserve":"Request to Book"}),s.jsx("button",{onClick:u,className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Contact Host"})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"You won't be charged yet"})]})})})]})]})]})})},Z_=()=>{const{property_id:e}=Pr(),[t,r]=Lt(),n=Ut(),i=t.get("check_in_date")||"",a=t.get("check_out_date")||"",l=parseInt(t.get("guest_count")||"1"),o=parseInt(t.get("adults")||"1"),c=parseInt(t.get("children")||"0"),h=parseInt(t.get("infants")||"0"),p=parseInt(t.get("step")||"1"),x=U($=>$.authentication_state.current_user),f=U($=>$.authentication_state.auth_token),w=U($=>$.authentication_state.authentication_status.is_authenticated),b=U($=>$.user_preferences.currency),y=U($=>$.set_current_booking),N=U($=>$.update_booking_step),v=U($=>$.set_booking_error),[d,j]=k.useState(p),[_,A]=k.useState({property_id:e||"",guest_id:(x==null?void 0:x.user_id)||"",check_in_date:i,check_out_date:a,guest_count:l,adults:o,children:c,infants:h,nights:0,base_price:0,cleaning_fee:0,service_fee:0,taxes_and_fees:0,total_price:0,currency:b,special_requests:""}),[L,g]=k.useState({first_name:"",last_name:"",email:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:"",special_requests:"",travel_purpose:"",accessibility_needs:""}),[C,z]=k.useState({payment_method:"",amount:0,currency:b,payment_schedule:"full",billing_address:{street:"",city:"",state:"",postal_code:"",country:""}}),[P,R]=k.useState({step1:[],step2:[],step3:[],step4:[]}),[M,te]=k.useState({is_creating_booking:!1,is_processing_payment:!1,availability_checked:!1}),[J,T]=k.useState(null),H=k.useMemo(()=>{if(i&&a){const $=new Date(i),Q=new Date(a);return Math.ceil((Q.getTime()-$.getTime())/(1e3*60*60*24))}return 0},[i,a]),{data:Y,isLoading:u,error:m}=ae({queryKey:["property",e],queryFn:async()=>(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${e}`)).data,enabled:!!e,staleTime:5*60*1e3,retry:1}),S=k.useMemo(()=>Y?{property_id:Y.property_id,title:Y.title,country:Y.country,city:Y.city,address:Y.address,check_in_time:Y.check_in_time,check_out_time:Y.check_out_time,cancellation_policy:Y.cancellation_policy,house_rules:Y.house_rules||[],base_price_per_night:Y.base_price_per_night,cleaning_fee:Y.cleaning_fee||0,currency:Y.currency,minimum_stay:Y.minimum_stay||1}:null,[Y]),F=k.useMemo(()=>{if(!S||H===0)return null;const $=S.base_price_per_night*H,Q=S.cleaning_fee,Ye=$*.1,nt=$*.06,jt=l>4?(l-4)*25*H:0,Pn=$+Q+Ye+nt+jt;return{nights:H,base_price:$,cleaning_fee:Q,service_fee:Ye,taxes_and_fees:nt,extra_guest_fee:jt,total_price:Pn,currency:S.currency}},[S,H,l]);ae({queryKey:["availability",e,i,a],queryFn:async()=>(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${e}/api/availability`,{params:{start_date:i,end_date:a}})).data,enabled:!!e&&!!i&&!!a,staleTime:30*1e3,retry:1}),k.useEffect(()=>{x&&d===2&&g($=>({...$,first_name:x.first_name||"",last_name:x.last_name||"",email:x.email||"",phone_number:x.phone_number||"",emergency_contact_name:x.emergency_contact_name||"",emergency_contact_phone:x.emergency_contact_phone||""}))},[x,d]),k.useEffect(()=>{F&&A($=>({...$,nights:F.nights,base_price:F.base_price,cleaning_fee:F.cleaning_fee,service_fee:F.service_fee,taxes_and_fees:F.taxes_and_fees,total_price:F.total_price,currency:F.currency}))},[F]),k.useEffect(()=>{F&&z($=>({...$,amount:F.total_price,currency:F.currency}))},[F]);const X=De({mutationFn:async $=>(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/bookings",$,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).data,onSuccess:$=>{y($),T({booking_id:$.booking_id,booking_status:$.booking_status,payment_status:$.payment_status,confirmation_number:`SV${$.booking_id.slice(-8).toUpperCase()}`,check_in_instructions:$.check_in_instructions||"Check-in instructions will be sent 24 hours before arrival.",access_code:$.access_code||"",host_contact:{name:"Property Host",email:"host@sunvillas.com",phone:"+1-555-SUNVILLAS"}}),j(4),B(4)},onError:$=>{var Ye,nt;const Q=((nt=(Ye=$.response)==null?void 0:Ye.data)==null?void 0:nt.message)||"Failed to create booking";v(Q),R(jt=>({...jt,step3:[Q]}))}}),pe=De({mutationFn:async $=>(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/payments",$,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{J&&T($=>$?{...$,payment_status:"completed"}:null)},onError:$=>{var Ye,nt;const Q=((nt=(Ye=$.response)==null?void 0:Ye.data)==null?void 0:nt.message)||"Payment failed";R(jt=>({...jt,step3:[Q]}))}}),B=k.useCallback($=>{const Q=new URLSearchParams(t);Q.set("step",$.toString()),r(Q)},[t,r]),Z=k.useCallback(()=>{const $=[];switch(d){case 1:i||$.push("Check-in date is required"),a||$.push("Check-out date is required"),(!l||l<1)&&$.push("At least 1 guest is required"),H<1&&$.push("Stay must be at least 1 night"),S&&H<S.minimum_stay&&$.push(`Minimum stay is ${S.minimum_stay} nights`);break;case 2:L.first_name.trim()||$.push("First name is required"),L.last_name.trim()||$.push("Last name is required"),L.email.trim()||$.push("Email is required"),/\S+@\S+\.\S+/.test(L.email)||$.push("Valid email is required"),L.phone_number.trim()||$.push("Phone number is required");break;case 3:C.payment_method||$.push("Payment method is required"),C.billing_address.street.trim()||$.push("Billing address is required"),C.billing_address.city.trim()||$.push("City is required"),C.billing_address.postal_code.trim()||$.push("Postal code is required"),C.billing_address.country.trim()||$.push("Country is required");break}return R(Q=>({...Q,[`step${d}`]:$})),$.length===0},[d,i,a,l,H,S,L,C]),ye=k.useCallback(()=>{if(Z()&&d<4){const $=d+1;j($),B($),N($)}},[d,Z,B,N]),fe=k.useCallback(()=>{if(d>1){const $=d-1;j($),B($),N($)}},[d,B,N]),bt=k.useCallback(async()=>{if(!(!Z()||!w)){te($=>({...$,is_creating_booking:!0}));try{const $={property_id:_.property_id,guest_id:x==null?void 0:x.user_id,check_in_date:_.check_in_date,check_out_date:_.check_out_date,guest_count:_.guest_count,adults:_.adults,children:_.children,infants:_.infants,special_requests:L.special_requests},Q=await X.mutateAsync($);if(Q){const Ye={booking_id:Q.booking_id,amount:_.total_price,currency:_.currency,payment_method:C.payment_method};await pe.mutateAsync(Ye)}}catch($){console.error("Booking creation failed:",$)}finally{te($=>({...$,is_creating_booking:!1}))}}},[Z,w,_,x,L,C,X,pe]),Ge=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Summary"}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),s.jsxs("p",{className:"text-gray-600",children:[S.address,", ",S.city,", ",S.country]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Check-in:"}),s.jsxs("p",{className:"font-medium",children:[i," at ",S.check_in_time]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Check-out:"}),s.jsxs("p",{className:"font-medium",children:[a," at ",S.check_out_time]})]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Guests:"}),s.jsxs("p",{className:"font-medium",children:[l," guests (",o," adults",c>0&&`, ${c} children`,h>0&&`, ${h} infants`,")"]})]})]})]}),F&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["$",S==null?void 0:S.base_price_per_night,"  ",H," nights"]}),s.jsxs("span",{children:["$",F.base_price.toFixed(2)]})]}),F.cleaning_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cleaning fee"}),s.jsxs("span",{children:["$",F.cleaning_fee.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Service fee"}),s.jsxs("span",{children:["$",F.service_fee.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes and fees"}),s.jsxs("span",{children:["$",F.taxes_and_fees.toFixed(2)]})]}),F.extra_guest_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Extra guest fee"}),s.jsxs("span",{children:["$",F.extra_guest_fee.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",F.total_price.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Special Requests"}),s.jsx("textarea",{value:_.special_requests,onChange:$=>A(Q=>({...Q,special_requests:$.target.value})),placeholder:"Any special requests or notes for the host...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4})]}),S&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),s.jsxs("p",{className:"text-gray-700 mb-4",children:[S.cancellation_policy," cancellation"]}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"House Rules"}),s.jsx("ul",{className:"text-gray-700 space-y-1",children:S.house_rules.map(($,Q)=>s.jsxs("li",{children:[" ",$]},Q))})]})]}),O=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Guest Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:L.first_name,onChange:$=>g(Q=>({...Q,first_name:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:L.last_name,onChange:$=>g(Q=>({...Q,last_name:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:L.email,onChange:$=>g(Q=>({...Q,email:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",value:L.phone_number,onChange:$=>g(Q=>({...Q,phone_number:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",value:L.emergency_contact_name,onChange:$=>g(Q=>({...Q,emergency_contact_name:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Phone"}),s.jsx("input",{type:"tel",value:L.emergency_contact_phone,onChange:$=>g(Q=>({...Q,emergency_contact_phone:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Travel Purpose"}),s.jsxs("select",{value:L.travel_purpose,onChange:$=>g(Q=>({...Q,travel_purpose:$.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select purpose"}),s.jsx("option",{value:"vacation",children:"Vacation"}),s.jsx("option",{value:"business",children:"Business"}),s.jsx("option",{value:"family_visit",children:"Family Visit"}),s.jsx("option",{value:"event",children:"Event/Wedding"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accessibility Needs"}),s.jsx("textarea",{value:L.accessibility_needs,onChange:$=>g(Q=>({...Q,accessibility_needs:$.target.value})),placeholder:"Please describe any accessibility requirements...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]})]})]})]}),re=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Method"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("label",{className:"relative",children:[s.jsx("input",{type:"radio",name:"payment_method",value:"credit_card",checked:C.payment_method==="credit_card",onChange:$=>z(Q=>({...Q,payment_method:$.target.value})),className:"sr-only"}),s.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${C.payment_method==="credit_card"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-medium",children:""}),s.jsx("div",{className:"text-sm font-medium",children:"Credit Card"})]})})]}),s.jsxs("label",{className:"relative",children:[s.jsx("input",{type:"radio",name:"payment_method",value:"paypal",checked:C.payment_method==="paypal",onChange:$=>z(Q=>({...Q,payment_method:$.target.value})),className:"sr-only"}),s.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${C.payment_method==="paypal"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-medium",children:""}),s.jsx("div",{className:"text-sm font-medium",children:"PayPal"})]})})]}),s.jsxs("label",{className:"relative",children:[s.jsx("input",{type:"radio",name:"payment_method",value:"bank_transfer",checked:C.payment_method==="bank_transfer",onChange:$=>z(Q=>({...Q,payment_method:$.target.value})),className:"sr-only"}),s.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${C.payment_method==="bank_transfer"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-medium",children:""}),s.jsx("div",{className:"text-sm font-medium",children:"Bank Transfer"})]})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:C.billing_address.street,onChange:$=>z(Q=>({...Q,billing_address:{...Q.billing_address,street:$.target.value}})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:C.billing_address.city,onChange:$=>z(Q=>({...Q,billing_address:{...Q.billing_address,city:$.target.value}})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province *"}),s.jsx("input",{type:"text",value:C.billing_address.state,onChange:$=>z(Q=>({...Q,billing_address:{...Q.billing_address,state:$.target.value}})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),s.jsx("input",{type:"text",value:C.billing_address.postal_code,onChange:$=>z(Q=>({...Q,billing_address:{...Q.billing_address,postal_code:$.target.value}})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),s.jsxs("select",{value:C.billing_address.country,onChange:$=>z(Q=>({...Q,billing_address:{...Q.billing_address,country:$.target.value}})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select country"}),s.jsx("option",{value:"US",children:"United States"}),s.jsx("option",{value:"CA",children:"Canada"}),s.jsx("option",{value:"MX",children:"Mexico"}),s.jsx("option",{value:"GB",children:"United Kingdom"}),s.jsx("option",{value:"DE",children:"Germany"}),s.jsx("option",{value:"FR",children:"France"}),s.jsx("option",{value:"IT",children:"Italy"}),s.jsx("option",{value:"ES",children:"Spain"}),s.jsx("option",{value:"GR",children:"Greece"}),s.jsx("option",{value:"AU",children:"Australia"}),s.jsx("option",{value:"NZ",children:"New Zealand"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Schedule"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"payment_schedule",value:"full",checked:C.payment_schedule==="full",onChange:$=>z(Q=>({...Q,payment_schedule:$.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsxs("span",{className:"text-sm font-medium",children:["Pay in full today - $",F==null?void 0:F.total_price.toFixed(2)]})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"payment_schedule",value:"split",checked:C.payment_schedule==="split",onChange:$=>z(Q=>({...Q,payment_schedule:$.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsxs("span",{className:"text-sm font-medium",children:["Pay $",F?(F.total_price*.5).toFixed(2):0," today, $",F?(F.total_price*.5).toFixed(2):0," on arrival"]})]})]})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-green-600",children:""}),s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Secure Payment"})," - Your payment information is protected with SSL encryption and PCI compliance."]})]})})]}),xe=()=>s.jsx("div",{className:"space-y-6",children:J&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center bg-green-50 border border-green-200 rounded-lg p-8",children:[s.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Booking Confirmed!"}),s.jsx("p",{className:"text-green-700 mb-4",children:"Your reservation has been successfully created."}),s.jsxs("div",{className:"bg-white border border-green-300 rounded-lg p-4 inline-block",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Confirmation Number"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.confirmation_number})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Property:"}),s.jsx("p",{className:"font-medium",children:S==null?void 0:S.title})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Location:"}),s.jsxs("p",{className:"font-medium",children:[S==null?void 0:S.city,", ",S==null?void 0:S.country]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Check-in:"}),s.jsx("p",{className:"font-medium",children:i})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Check-out:"}),s.jsx("p",{className:"font-medium",children:a})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Guests:"}),s.jsxs("p",{className:"font-medium",children:[l," guests"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Total Paid:"}),s.jsxs("p",{className:"font-medium",children:["$",F==null?void 0:F.total_price.toFixed(2)]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Host Contact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",J.host_contact.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",J.host_contact.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",J.host_contact.phone]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Check-in Instructions"}),s.jsx("p",{className:"text-blue-800",children:J.check_in_instructions})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(q,{to:"/dashboard",className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg text-center font-medium hover:bg-blue-700 transition-colors",children:"View in Dashboard"}),s.jsx("button",{onClick:()=>window.print(),className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Print Confirmation"})]})]})});return k.useEffect(()=>{!w&&d>1&&n(`/auth?mode=login&redirect_to=/book/${e}?${t.toString()}`)},[w,d,n,e,t]),u?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property information..."})]})})}):m||!S?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're trying to book could not be found."}),s.jsx(q,{to:"/search",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Back to Search"})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Booking"}),s.jsxs("p",{className:"text-gray-600",children:["Secure your stay at ",S.title]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3,4].map($=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${$<=d?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:$}),$<4&&s.jsx("div",{className:`h-1 w-16 ${$<d?"bg-blue-600":"bg-gray-300"}`})]},$))}),s.jsxs("div",{className:"flex justify-center mt-4 space-x-8 text-sm",children:[s.jsx("span",{className:d>=1?"text-blue-600 font-medium":"text-gray-500",children:"Details"}),s.jsx("span",{className:d>=2?"text-blue-600 font-medium":"text-gray-500",children:"Guest Info"}),s.jsx("span",{className:d>=3?"text-blue-600 font-medium":"text-gray-500",children:"Payment"}),s.jsx("span",{className:d>=4?"text-blue-600 font-medium":"text-gray-500",children:"Confirmation"})]})]}),P[`step${d}`].length>0&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Please fix the following errors:"}),s.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:P[`step${d}`].map(($,Q)=>s.jsxs("li",{children:[" ",$]},Q))})]}),s.jsxs("div",{className:"mb-8",children:[d===1&&Ge(),d===2&&O(),d===3&&re(),d===4&&xe()]}),d<4&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:fe,disabled:d===1,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),d<3?s.jsx("button",{onClick:ye,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue"}):s.jsx("button",{onClick:bt,disabled:M.is_creating_booking,className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:M.is_creating_booking?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Complete Booking"})]}),s.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Secure SSL Encryption"}),s.jsx("span",{children:""}),s.jsx("span",{children:"PCI Compliant"}),s.jsx("span",{children:""}),s.jsx("span",{children:"100% Secure"})]}),s.jsx("p",{children:"Your personal and payment information is protected with industry-standard security."})]})]})})})},e1=()=>{var J,T,H,Y;const[e,t]=Lt(),r=ys(),n=U(u=>u.authentication_state.current_user),i=U(u=>u.authentication_state.auth_token),a=U(u=>u.user_preferences.currency),l=U(u=>u.notifications_state.unread_notifications),o=e.get("tab")||"trips",c=e.get("filter")||"",h=u=>{const m=new URLSearchParams(e);m.set("tab",u),c&&m.set("filter",c),t(m)},p="https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/api",{data:x=[],isLoading:f,error:w}=ae({queryKey:["userBookings",n==null?void 0:n.user_id],queryFn:async()=>(await W.get(`${p}/api/bookings`,{params:{guest_id:n==null?void 0:n.user_id,sort_by:"check_in_date",sort_order:"desc",limit:20},headers:{Authorization:`Bearer ${i}`}})).data.bookings.map(m=>{var S,F,X,pe;return{booking_id:m.booking_id,property_id:m.property_id,property_title:((S=m.property)==null?void 0:S.title)||"Property",property_city:((F=m.property)==null?void 0:F.city)||"",property_country:((X=m.property)==null?void 0:X.country)||"",check_in_date:m.check_in_date,check_out_date:m.check_out_date,guest_count:m.guest_count,total_price:m.total_price,currency:m.currency,booking_status:m.booking_status,payment_status:m.payment_status,property_photo:(pe=m.property)==null?void 0:pe.cover_photo_url,cancellation_deadline:new Date(new Date(m.check_in_date).getTime()-7*24*60*60*1e3).toISOString()}}),enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:3e5,refetchOnWindowFocus:!1}),{data:b=[],isLoading:y}=ae({queryKey:["userProperties",n==null?void 0:n.user_id],queryFn:async()=>(await W.get(`${p}/api/properties`,{params:{owner_id:n==null?void 0:n.user_id,sort_by:"created_at",sort_order:"desc"},headers:{Authorization:`Bearer ${i}`}})).data.properties.map(m=>({property_id:m.property_id,title:m.title,property_type:m.property_type,city:m.city,country:m.country,average_rating:m.average_rating,review_count:m.review_count,cover_photo:m.cover_photo_url,is_active:m.is_active,occupancy_rate:Math.floor(Math.random()*40)+60,monthly_revenue:Math.floor(Math.random()*5e3)+2e3,active_bookings:Math.floor(Math.random()*8)+1})),enabled:!!(n!=null&&n.user_id)&&!!i&&((n==null?void 0:n.user_type)==="host"||(n==null?void 0:n.user_type)==="admin"),staleTime:3e5,refetchOnWindowFocus:!1}),{data:N=[],isLoading:v}=ae({queryKey:["userMessages",n==null?void 0:n.user_id],queryFn:async()=>(await W.get(`${p}/api/conversations`,{params:{is_active:!0,limit:10,sort_by:"last_message_at",sort_order:"desc"},headers:{Authorization:`Bearer ${i}`}})).data.conversations.map(m=>{var S,F,X,pe,B,Z,ye,fe,bt,Ge;return{conversation_id:m.conversation_id,property_id:m.property_id,property_title:(S=m.property)==null?void 0:S.title,participant_name:((F=m.guest)==null?void 0:F.user_id)===(n==null?void 0:n.user_id)?`${(X=m.host)==null?void 0:X.first_name} ${(pe=m.host)==null?void 0:pe.last_name}`:`${(B=m.guest)==null?void 0:B.first_name} ${(Z=m.guest)==null?void 0:Z.last_name}`,participant_photo:((ye=m.guest)==null?void 0:ye.user_id)===(n==null?void 0:n.user_id)?(fe=m.host)==null?void 0:fe.profile_photo_url:(bt=m.guest)==null?void 0:bt.profile_photo_url,last_message_text:(Ge=m.last_message)==null?void 0:Ge.message_text,last_message_at:m.last_message_at,unread_count:Math.floor(Math.random()*3),conversation_type:m.conversation_type}}),enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),{data:d=[],isLoading:j}=ae({queryKey:["userFavorites",n==null?void 0:n.user_id],queryFn:async()=>(await W.get(`${p}/api/users/${n==null?void 0:n.user_id}/api/favorites`,{params:{limit:20},headers:{Authorization:`Bearer ${i}`}})).data.favorites.map(m=>({property_id:m.property_id,title:m.title,city:m.city,country:m.country,base_price_per_night:m.base_price_per_night,currency:m.currency,average_rating:m.average_rating,cover_photo:m.cover_photo_url,favorited_at:m.created_at||new Date().toISOString()})),enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:3e5,refetchOnWindowFocus:!1}),{data:_=[],isLoading:A}=ae({queryKey:["userNotifications",n==null?void 0:n.user_id],queryFn:async()=>(await W.get(`${p}/api/notifications`,{params:{user_id:n==null?void 0:n.user_id,limit:10,sort_by:"created_at",sort_order:"desc"},headers:{Authorization:`Bearer ${i}`}})).data.notifications,enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),L=De({mutationFn:async u=>{await W.put(`${p}/api/notifications/${u}`,{is_read:!0,read_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["userNotifications"]})}}),g=De({mutationFn:async({bookingId:u,reason:m})=>{await W.delete(`${p}/api/bookings/${u}`,{data:{cancellation_reason:m},headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["userBookings"]})}}),C={total_trips:x.length,upcoming_trips:x.filter(u=>new Date(u.check_in_date)>new Date).length,total_spent:x.reduce((u,m)=>u+m.total_price,0),properties_owned:b.length,total_revenue:b.reduce((u,m)=>u+m.monthly_revenue,0),portfolio_value:b.length*15e4,unread_messages:N.reduce((u,m)=>u+m.unread_count,0),pending_reviews:x.filter(u=>u.booking_status==="completed"&&new Date(u.check_out_date)<new Date).length},z=(u,m=a)=>new Intl.NumberFormat("en-US",{style:"currency",currency:m}).format(u),P=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=u=>{const m=new Date(u),S=new Date,F=m.getTime()-S.getTime();return Math.ceil(F/(1e3*60*60*24))},te=(()=>{const u=[{id:"trips",label:"Trips",icon:""},{id:"favorites",label:"Favorites",icon:""},{id:"messages",label:"Messages",icon:"",badge:C.unread_messages}];return((n==null?void 0:n.user_type)==="host"||(n==null?void 0:n.user_type)==="admin")&&u.splice(1,0,{id:"properties",label:"Properties",icon:""}),(n==null?void 0:n.user_type)==="admin"&&u.push({id:"investments",label:"Investments",icon:""}),u.push({id:"profile",label:"Profile",icon:""}),u})();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:n!=null&&n.profile_photo_url?s.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:n.profile_photo_url,alt:`${n.first_name} ${n.last_name}`}):s.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"text-blue-600 font-medium text-lg",children:[(J=n==null?void 0:n.first_name)==null?void 0:J.charAt(0),(T=n==null?void 0:n.last_name)==null?void 0:T.charAt(0)]})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",n==null?void 0:n.first_name,"!"]}),s.jsxs("p",{className:"text-gray-600",children:[(n==null?void 0:n.user_type)==="host"&&"Manage your properties and bookings",(n==null?void 0:n.user_type)==="guest"&&"Your travel dashboard",(n==null?void 0:n.user_type)==="admin"&&"Administrator dashboard"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[!(n!=null&&n.is_verified)&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-600 text-sm font-medium",children:" Complete your profile"}),s.jsx(q,{to:"/profile?section=verification",className:"ml-2 text-yellow-600 hover:text-yellow-800 text-sm underline",children:"Verify now"})]})}),s.jsx("div",{className:"relative",children:s.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[s.jsx("span",{className:"text-2xl",children:""}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:l>9?"9+":l})]})})]})]})})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:te.map(u=>s.jsx("button",{onClick:()=>h(u.id),className:`relative py-4 px-1 border-b-2 font-medium text-sm transition-colors ${o===u.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:u.icon}),s.jsx("span",{children:u.label}),u.badge&&u.badge>0&&s.jsx("span",{className:"ml-2 bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full",children:u.badge})]})},u.id))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o==="trips"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Trips"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total_trips})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.upcoming_trips})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z(C.total_spent)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.pending_reviews})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Your Bookings"})}),f?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your bookings..."})]}):w?s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-red-600",children:"Error loading bookings. Please try again."})}):x.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trips yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start planning your next adventure!"}),s.jsx(q,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Search Properties"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:x.map(u=>{const m=R(u.check_in_date),S=m>0,F=S&&m>7;return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:u.property_photo?s.jsx("img",{className:"h-20 w-20 rounded-lg object-cover",src:u.property_photo,alt:u.property_title}):s.jsx("div",{className:"h-20 w-20 rounded-lg bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-2xl",children:""})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 truncate",children:u.property_title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.property_city,", ",u.property_country]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",P(u.check_in_date)," - ",P(u.check_out_date)]}),s.jsxs("span",{children:[" ",u.guest_count," guests"]}),s.jsxs("span",{children:[" ",z(u.total_price,u.currency)]})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.booking_status==="confirmed"?"bg-green-100 text-green-800":u.booking_status==="pending"?"bg-yellow-100 text-yellow-800":u.booking_status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:u.booking_status.toUpperCase()}),S&&s.jsx("span",{className:"text-sm text-blue-600 font-medium",children:m===1?"Tomorrow!":`${m} days to go`})]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[s.jsx(q,{to:`/property/${u.property_id}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Property"}),S&&u.booking_status==="confirmed"&&s.jsx(q,{to:`/messages?property_id=${u.property_id}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Contact Host"}),F&&s.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this booking?")&&g.mutate({bookingId:u.booking_id,reason:"Cancelled by guest"})},disabled:g.isPending,className:"text-sm text-red-600 hover:text-red-800 font-medium disabled:opacity-50",children:g.isPending?"Cancelling...":"Cancel Booking"}),u.booking_status==="completed"&&s.jsx(q,{to:`/review/${u.booking_id}`,className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"Write Review"})]})]})]})},u.booking_id)})})]})]}),o==="properties"&&((n==null?void 0:n.user_type)==="host"||(n==null?void 0:n.user_type)==="admin")&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.properties_owned})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z(C.total_revenue)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Occupancy"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b.length>0?Math.round(b.reduce((u,m)=>u+m.occupancy_rate,0)/b.length):0,"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.length>0?(b.reduce((u,m)=>u+(m.average_rating||0),0)/b.length).toFixed(1):"N/A"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Your Properties"}),s.jsx(q,{to:"/host",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Add Property"})]}),y?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your properties..."})]}):b.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"List your first property and start earning!"}),s.jsx(q,{to:"/host",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"List Your Property"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:b.map(u=>s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:u.cover_photo?s.jsx("img",{className:"h-20 w-20 rounded-lg object-cover",src:u.cover_photo,alt:u.title}):s.jsx("div",{className:"h-20 w-20 rounded-lg bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-2xl",children:""})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 truncate",children:u.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.city,", ",u.country]}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:u.property_type})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.is_active?"ACTIVE":"INACTIVE"}),u.average_rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 text-sm",children:""}),s.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:[u.average_rating.toFixed(1)," (",u.review_count,")"]})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Occupancy Rate"}),s.jsxs("p",{className:"font-medium text-gray-900",children:[u.occupancy_rate,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Monthly Revenue"}),s.jsx("p",{className:"font-medium text-gray-900",children:z(u.monthly_revenue)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Active Bookings"}),s.jsx("p",{className:"font-medium text-gray-900",children:u.active_bookings})]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[s.jsx(q,{to:`/host/property/${u.property_id}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Manage Property"}),s.jsx(q,{to:`/property/${u.property_id}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Listing"}),s.jsx(q,{to:`/host/property/${u.property_id}?section=calendar`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Calendar"})]})]})]})},u.property_id))})]})]}),o==="favorites"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Your Favorite Properties"})}),j?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your favorites..."})]}):d.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorites yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Save properties you love for easy access later!"}),s.jsx(q,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Browse Properties"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:d.map(u=>s.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9",children:u.cover_photo?s.jsx("img",{className:"w-full h-48 object-cover",src:u.cover_photo,alt:u.title}):s.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:u.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.city,", ",u.country]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:u.average_rating&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-yellow-400 text-sm",children:""}),s.jsx("span",{className:"text-sm text-gray-600 ml-1",children:u.average_rating.toFixed(1)})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:z(u.base_price_per_night,u.currency)}),s.jsx("p",{className:"text-xs text-gray-500",children:"per night"})]})]}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx(q,{to:`/property/${u.property_id}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Property"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["Saved ",P(u.favorited_at)]})]})]})]},u.property_id))})]})}),o==="messages"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Conversations"}),s.jsx(q,{to:"/messages",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Messages"})]}),v?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your messages..."})]}):N.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),s.jsx("p",{className:"text-gray-600",children:"Your conversations will appear here when you start chatting with hosts or guests."})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:N.slice(0,5).map(u=>s.jsx(q,{to:`/messages/${u.conversation_id}`,className:"block p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:u.participant_photo?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:u.participant_photo,alt:u.participant_name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-sm",children:""})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.participant_name}),u.property_title&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Re: ",u.property_title]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[u.unread_count>0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:u.unread_count}),u.last_message_at&&s.jsx("span",{className:"text-xs text-gray-400",children:P(u.last_message_at)})]})]}),u.last_message_text&&s.jsx("p",{className:"mt-1 text-sm text-gray-600 truncate",children:u.last_message_text})]})]})},u.conversation_id))})]})}),o==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Overview"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:n!=null&&n.profile_photo_url?s.jsx("img",{className:"h-24 w-24 rounded-full object-cover",src:n.profile_photo_url,alt:`${n.first_name} ${n.last_name}`}):s.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"text-blue-600 font-medium text-2xl",children:[(H=n==null?void 0:n.first_name)==null?void 0:H.charAt(0),(Y=n==null?void 0:n.last_name)==null?void 0:Y.charAt(0)]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-xl font-medium text-gray-900",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),s.jsx("p",{className:"text-gray-600",children:n==null?void 0:n.email}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Member since"}),s.jsx("p",{className:"font-medium text-gray-900",children:n!=null&&n.created_at?P(n.created_at):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Verification status"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n!=null&&n.is_verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n!=null&&n.is_verified?"Verified":"Pending"}),(n==null?void 0:n.is_superhost)&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Superhost"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"User type"}),s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:n==null?void 0:n.user_type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Preferred currency"}),s.jsx("p",{className:"font-medium text-gray-900",children:n==null?void 0:n.currency})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(q,{to:"/profile",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Edit Profile"})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Notifications"})}),A?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading notifications..."})]}):_.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),s.jsx("p",{className:"text-gray-600",children:"You're all caught up!"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:_.slice(0,5).map(u=>s.jsx("div",{className:`p-4 ${u.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600",children:u.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:P(u.created_at)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u.priority==="high"?"bg-red-100 text-red-800":u.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:u.priority}),!u.is_read&&s.jsx("button",{onClick:()=>L.mutate(u.notification_id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark read"})]})]})},u.notification_id))})]})]})]})]})})},qh=()=>{var ye,fe,bt,Ge;const{property_id:e}=Pr(),[t,r]=Lt(),n=ys(),i=t.get("property_id"),a=t.get("section")||"overview",l=e||i,o=U(O=>O.authentication_state.current_user),c=U(O=>O.authentication_state.auth_token),h=U(O=>O.property_management_state.owned_properties),p=U(O=>O.property_management_state.is_loading),x=U(O=>O.set_owned_properties),f=U(O=>O.add_owned_property),w=U(O=>O.update_owned_property),[b,y]=k.useState(!1),[N,v]=k.useState(1),[d,j]=k.useState({owner_id:(o==null?void 0:o.user_id)||"",currency:"USD",check_in_time:"15:00",check_out_time:"11:00",minimum_stay:1,instant_booking:!1,amenities:[],house_rules:[],host_language:[],cancellation_policy:"moderate"}),[_,A]=k.useState({}),L=async()=>{if(!(o!=null&&o.user_id)||!c)throw new Error("User not authenticated");return(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties",{params:{owner_id:o.user_id},headers:{Authorization:`Bearer ${c}`}})).data},g=async O=>{if(!c)throw new Error("User not authenticated");return(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/bookings",{params:{property_id:O},headers:{Authorization:`Bearer ${c}`}})).data},C=async O=>(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${O}/api/photos`)).data,{data:z,isLoading:P,error:R}=ae({queryKey:["userProperties",o==null?void 0:o.user_id],queryFn:L,enabled:!!(o!=null&&o.user_id)&&!!c,staleTime:5*60*1e3,retry:1}),{data:M,isLoading:te}=ae({queryKey:["propertyBookings",l],queryFn:()=>g(l),enabled:!!l&&!!c,staleTime:2*60*1e3,retry:1}),{data:J,isLoading:T}=ae({queryKey:["propertyPhotos",l],queryFn:()=>C(l),enabled:!!l,staleTime:5*60*1e3,retry:1}),H=De({mutationFn:async O=>{if(!c)throw new Error("User not authenticated");return(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties",O,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).data},onSuccess:O=>{f(O),n.invalidateQueries({queryKey:["userProperties"]}),y(!1),v(1),j({owner_id:(o==null?void 0:o.user_id)||"",currency:"USD",check_in_time:"15:00",check_out_time:"11:00",minimum_stay:1,instant_booking:!1,amenities:[],house_rules:[],host_language:[],cancellation_policy:"moderate"})},onError:O=>{var re,xe;console.error("Create property error:",O),A({general:((xe=(re=O.response)==null?void 0:re.data)==null?void 0:xe.message)||"Failed to create property"})}}),Y=De({mutationFn:async O=>{if(!c)throw new Error("User not authenticated");return(await W.put(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${O.property_id}`,O,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).data},onSuccess:O=>{w(O.property_id,O),n.invalidateQueries({queryKey:["userProperties"]})},onError:O=>{var re,xe;console.error("Update property error:",O),A({general:((xe=(re=O.response)==null?void 0:re.data)==null?void 0:xe.message)||"Failed to update property"})}});k.useEffect(()=>{z!=null&&z.properties&&x(z.properties)},[z,x]);const u=l?h.find(O=>O.property_id===l):null;k.useEffect(()=>{u&&!b&&j({owner_id:u.owner_id,title:u.title,description:u.description,property_type:u.property_type,country:u.country,city:u.city,region:u.region,neighborhood:u.neighborhood,address:u.address,latitude:u.latitude,longitude:u.longitude,bedrooms:u.bedrooms,bathrooms:u.bathrooms,guest_count:u.guest_count,property_size:u.property_size,distance_beach:u.distance_beach,distance_airport:u.distance_airport,base_price_per_night:u.base_price_per_night,currency:u.currency,cleaning_fee:u.cleaning_fee,security_deposit:u.security_deposit,extra_guest_fee:u.extra_guest_fee,pet_fee:u.pet_fee,amenities:u.amenities,house_rules:u.house_rules,check_in_time:u.check_in_time,check_out_time:u.check_out_time,minimum_stay:u.minimum_stay,maximum_stay:u.maximum_stay,instant_booking:u.instant_booking,host_language:u.host_language,cancellation_policy:u.cancellation_policy})},[u,b]);const m=O=>{var xe,$,Q,Ye,nt,jt;const re={};return O===1&&((xe=d.title)!=null&&xe.trim()||(re.title="Property title is required"),($=d.description)!=null&&$.trim()||(re.description="Property description is required"),(Q=d.property_type)!=null&&Q.trim()||(re.property_type="Property type is required"),(Ye=d.country)!=null&&Ye.trim()||(re.country="Country is required"),(nt=d.city)!=null&&nt.trim()||(re.city="City is required"),(jt=d.address)!=null&&jt.trim()||(re.address="Address is required"),(!d.bedrooms||d.bedrooms<0)&&(re.bedrooms="Valid bedroom count is required"),(!d.bathrooms||d.bathrooms<0)&&(re.bathrooms="Valid bathroom count is required"),(!d.guest_count||d.guest_count<1)&&(re.guest_count="Guest count must be at least 1")),O===4&&(!d.base_price_per_night||d.base_price_per_night<=0)&&(re.base_price_per_night="Base price per night is required"),A(re),Object.keys(re).length===0},S=async O=>{if(O.preventDefault(),!!m(N)){if(N<6){v(N+1);return}b?(d.latitude||(d.latitude=0),d.longitude||(d.longitude=0),H.mutate(d)):l&&Y.mutate({property_id:l,...d})}},F=(O,re)=>{j(xe=>({...xe,[O]:re})),_[O]&&A(xe=>({...xe,[O]:""}))},X=O=>{const re=d.amenities||[],xe=re.includes(O)?re.filter($=>$!==O):[...re,O];F("amenities",xe)},pe=["WiFi","Air conditioning","Kitchen","Pool","Parking","Hot tub","Gym","Balcony","Garden","Beach access","TV","Washer","Dryer","Dishwasher","Microwave","Coffee maker","Hair dryer","Iron","Safe","First aid kit","Fire extinguisher","Smoke alarm"],B=O=>{const re=new URLSearchParams(t);re.set("section",O),r(re)},Z=P||p;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(q,{to:"/dashboard",className:"text-blue-600 hover:text-blue-700 text-sm font-medium mr-4",children:" Back to Dashboard"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Property Management"})]}),!b&&!l&&s.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Add New Property"})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Z&&s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading properties..."})]}),R&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s.jsxs("p",{children:["Failed to load properties: ",(R==null?void 0:R.message)||"Unknown error"]})}),b&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Create New Property"}),s.jsx("button",{onClick:()=>{y(!1),v(1),A({})},className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"flex items-center",children:[1,2,3,4,5,6].map((O,re)=>s.jsxs(sl.Fragment,{children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${O<=N?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:O}),re<5&&s.jsx("div",{className:`flex-1 h-1 mx-2 ${O<N?"bg-blue-600":"bg-gray-200"}`})]},O))}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"Basics"}),s.jsx("span",{children:"Photos"}),s.jsx("span",{children:"Amenities"}),s.jsx("span",{children:"Pricing"}),s.jsx("span",{children:"Availability"}),s.jsx("span",{children:"Rules"})]})]})]}),s.jsxs("form",{onSubmit:S,className:"p-6",children:[_.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s.jsx("p",{children:_.general})}),N===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Property Basics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),s.jsx("input",{type:"text",value:d.title||"",onChange:O=>F("title",O.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Luxury Beachfront Villa in Santorini"}),_.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type *"}),s.jsxs("select",{value:d.property_type||"",onChange:O=>F("property_type",O.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.property_type?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"villa",children:"Villa"}),s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"condo",children:"Condo"}),s.jsx("option",{value:"resort",children:"Resort"})]}),_.property_type&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.property_type})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:d.description||"",onChange:O=>F("description",O.target.value),rows:4,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property in detail..."}),_.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),s.jsx("input",{type:"text",value:d.country||"",onChange:O=>F("country",O.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.country?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Greece"}),_.country&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.country})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:d.city||"",onChange:O=>F("city",O.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.city?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Santorini"}),_.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.city})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),s.jsx("input",{type:"text",value:d.address||"",onChange:O=>F("address",O.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.address?"border-red-500":"border-gray-300"}`,placeholder:"Full address"}),_.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.address})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),s.jsx("input",{type:"number",min:"0",value:d.bedrooms||"",onChange:O=>F("bedrooms",parseInt(O.target.value)||0),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.bedrooms?"border-red-500":"border-gray-300"}`}),_.bedrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.bedrooms})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),s.jsx("input",{type:"number",min:"0",step:"0.5",value:d.bathrooms||"",onChange:O=>F("bathrooms",parseFloat(O.target.value)||0),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.bathrooms?"border-red-500":"border-gray-300"}`}),_.bathrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.bathrooms})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Guests *"}),s.jsx("input",{type:"number",min:"1",value:d.guest_count||"",onChange:O=>F("guest_count",parseInt(O.target.value)||1),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.guest_count?"border-red-500":"border-gray-300"}`}),_.guest_count&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.guest_count})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Size (sq m)"}),s.jsx("input",{type:"number",min:"0",value:d.property_size||"",onChange:O=>F("property_size",parseFloat(O.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),N===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Property Photos"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"Photo upload will be implemented after property creation"}),s.jsx("p",{className:"text-sm text-gray-500",children:"You can add photos later in the property management section"})]})]}),N===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:pe.map(O=>{var re;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`amenity-${O}`,checked:((re=d.amenities)==null?void 0:re.includes(O))||!1,onChange:()=>X(O),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:`amenity-${O}`,className:"ml-2 text-sm text-gray-700 cursor-pointer",children:O})]},O)})})]}),N===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pricing Strategy"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price per Night *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"1",value:d.base_price_per_night||"",onChange:O=>F("base_price_per_night",parseFloat(O.target.value)||0),className:`w-full pl-8 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${_.base_price_per_night?"border-red-500":"border-gray-300"}`,placeholder:"100"})]}),_.base_price_per_night&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.base_price_per_night})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cleaning Fee"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.cleaning_fee||"",onChange:O=>F("cleaning_fee",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.security_deposit||"",onChange:O=>F("security_deposit",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extra Guest Fee (per night)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.extra_guest_fee||"",onChange:O=>F("extra_guest_fee",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"25"})]})]})]})]}),N===5&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Availability Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stay (nights)"}),s.jsx("input",{type:"number",min:"1",value:d.minimum_stay||1,onChange:O=>F("minimum_stay",parseInt(O.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stay (nights)"}),s.jsx("input",{type:"number",min:"1",value:d.maximum_stay||"",onChange:O=>F("maximum_stay",parseInt(O.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Time"}),s.jsx("input",{type:"time",value:d.check_in_time||"15:00",onChange:O=>F("check_in_time",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Time"}),s.jsx("input",{type:"time",value:d.check_out_time||"11:00",onChange:O=>F("check_out_time",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"instant-booking",checked:d.instant_booking||!1,onChange:O=>F("instant_booking",O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"instant-booking",className:"ml-2 text-sm text-gray-700",children:"Enable instant booking (guests can book without approval)"})]})]}),N===6&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"House Rules & Policies"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy"}),s.jsxs("select",{value:d.cancellation_policy||"moderate",onChange:O=>F("cancellation_policy",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"flexible",children:"Flexible - Full refund 1 day before arrival"}),s.jsx("option",{value:"moderate",children:"Moderate - Full refund 5 days before arrival"}),s.jsx("option",{value:"strict",children:"Strict - 50% refund up to 1 week before arrival"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"House Rules (optional)"}),s.jsx("textarea",{value:((ye=d.house_rules)==null?void 0:ye.join(`
`))||"",onChange:O=>F("house_rules",O.target.value.split(`
`).filter(re=>re.trim())),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter each rule on a new line..."})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Review your property details"}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Title:"})," ",d.title]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",d.property_type]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",d.city,", ",d.country]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Capacity:"})," ",d.guest_count," guests, ",d.bedrooms," bedrooms, ",d.bathrooms," bathrooms"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Price:"})," $",d.base_price_per_night,"/api/night"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amenities:"})," ",((fe=d.amenities)==null?void 0:fe.length)||0," selected"]})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx("button",{type:"button",onClick:()=>N>1?v(N-1):y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:N>1?"Previous":"Cancel"}),s.jsx("button",{type:"submit",disabled:H.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:H.isPending?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):N<6?"Next":"Create Property"})]})]})]}),!b&&l&&u&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u.title}),s.jsxs("p",{className:"text-gray-600",children:[u.city,", ",u.country]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[u.bedrooms," bed  ",u.bathrooms," bath  ",u.guest_count," guests"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.is_active?"Active":"Inactive"}),u.is_verified&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Verified"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",u.base_price_per_night]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per night"}),u.average_rating&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"ml-1 text-sm font-medium",children:u.average_rating.toFixed(1)}),s.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",u.review_count," reviews)"]})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"overview",name:"Overview"},{id:"calendar",name:"Calendar"},{id:"pricing",name:"Pricing"},{id:"photos",name:"Photos"},{id:"analytics",name:"Analytics"},{id:"settings",name:"Settings"}].map(O=>s.jsx("button",{onClick:()=>B(O.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:O.name},O.id))})}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Property Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Total Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((bt=M==null?void 0:M.bookings)==null?void 0:bt.length)||0})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-green-900",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.average_rating?u.average_rating.toFixed(1):"N/A"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.review_count})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Recent Bookings"}),te?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(Ge=M==null?void 0:M.bookings)!=null&&Ge.length?s.jsx("div",{className:"space-y-3",children:M.bookings.slice(0,5).map(O=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[O.check_in_date," - ",O.check_out_date]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[O.guest_count," guests  ",O.nights," nights"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",O.total_price]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.booking_status==="confirmed"?"bg-green-100 text-green-800":O.booking_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:O.booking_status})]})]},O.booking_id))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No bookings yet"})]})]}),a==="calendar"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Availability Calendar"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Calendar management will be implemented with a date picker component"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This will allow you to set availability, blocked dates, and special pricing"})]})]}),a==="pricing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pricing Management"}),s.jsxs("form",{onSubmit:O=>{O.preventDefault(),l&&Y.mutate({property_id:l,base_price_per_night:d.base_price_per_night,cleaning_fee:d.cleaning_fee,security_deposit:d.security_deposit,extra_guest_fee:d.extra_guest_fee})},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price per Night"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"1",value:d.base_price_per_night||"",onChange:O=>F("base_price_per_night",parseFloat(O.target.value)||0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cleaning Fee"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.cleaning_fee||"",onChange:O=>F("cleaning_fee",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.security_deposit||"",onChange:O=>F("security_deposit",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extra Guest Fee"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d.extra_guest_fee||"",onChange:O=>F("extra_guest_fee",parseFloat(O.target.value)||void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsx("button",{type:"submit",disabled:Y.isPending,className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending?"Updating...":"Update Pricing"})]})]}),a==="photos"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Photo Management"}),T?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):J!=null&&J.length?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:J.map(O=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:O.photo_url,alt:O.alt_text||"Property photo",className:"w-full h-32 object-cover rounded-lg"}),O.is_cover_photo&&s.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},O.photo_id))}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"No photos uploaded yet"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Photo upload functionality will be implemented"})]})]}),a==="analytics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Analytics"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Analytics dashboard will be implemented"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This will show revenue, occupancy rates, and performance metrics"})]})]}),a==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Property Settings"}),s.jsxs("form",{onSubmit:O=>{O.preventDefault(),l&&Y.mutate({property_id:l,title:d.title,description:d.description,is_active:d.is_active})},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title"}),s.jsx("input",{type:"text",value:d.title||"",onChange:O=>F("title",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:d.description||"",onChange:O=>F("description",O.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is-active",checked:d.is_active!==!1,onChange:O=>F("is_active",O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is-active",className:"ml-2 text-sm text-gray-700",children:"Property is active and available for booking"})]}),s.jsx("button",{type:"submit",disabled:Y.isPending,className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending?"Updating...":"Update Settings"})]})]})]})]}),!b&&!l&&!Z&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Properties"}),s.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Add New Property"})]}),h.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start earning by listing your first property"}),s.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"List Your Property"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(O=>s.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:O.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O.is_active?"Active":"Inactive"})]}),s.jsxs("p",{className:"text-gray-600 mb-2",children:[O.city,", ",O.country]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[O.bedrooms," bed  ",O.bathrooms," bath  ",O.guest_count," guests"]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",O.base_price_per_night]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per night"})]}),O.average_rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"ml-1 text-sm font-medium",children:O.average_rating.toFixed(1)}),s.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",O.review_count,")"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(q,{to:`/host/property/${O.property_id}`,className:"flex-1 bg-blue-600 text-white text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Manage"}),s.jsx(q,{to:`/property/${O.property_id}`,className:"flex-1 bg-gray-100 text-gray-700 text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors",children:"View Listing"})]})]})},O.property_id))})]})]})]})})},Uh=()=>{const{conversation_id:e}=Pr(),[t]=Lt(),r=Ut(),n=U(D=>D.authentication_state.current_user),i=U(D=>D.authentication_state.auth_token),a=U(D=>D.socket),l=U(D=>D.is_connected),o=U(D=>D.notifications_state.unread_messages),c=U(D=>D.set_unread_messages),h=U(D=>D.join_conversation),p=U(D=>D.leave_conversation),x=U(D=>D.send_typing_indicator),[f,w]=k.useState(""),[b,y]=k.useState("all"),[N,v]=k.useState("date"),[d,j]=k.useState(""),[_,A]=k.useState(!1),[L,g]=k.useState(!1),[C,z]=k.useState([]),[P,R]=k.useState(!e),M=k.useRef(null),te=k.useRef(null),J=k.useRef(),T=ys(),H=e||t.get("conversation_id")||null,Y=async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/conversations",{headers:{Authorization:`Bearer ${i}`},params:{limit:50,offset:0}})).data,u=async D=>(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/conversations/${D}/api/messages`,{headers:{Authorization:`Bearer ${i}`},params:{limit:50,offset:0}})).data,m=async D=>(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/messages",D,{headers:{Authorization:`Bearer ${i}`}})).data,S=async D=>{await W.put(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/messages/${D}`,{is_read:!0,read_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${i}`}})},{data:F,isLoading:X,error:pe,refetch:B}=ae({queryKey:["conversations"],queryFn:Y,enabled:!!i&&!!n,staleTime:3e4,refetchOnWindowFocus:!1}),{data:Z,isLoading:ye,error:fe,refetch:bt}=ae({queryKey:["messages",H],queryFn:()=>u(H),enabled:!!H&&!!i,staleTime:1e4,refetchOnWindowFocus:!1}),Ge=De({mutationFn:m,onSuccess:D=>{T.setQueryData(["messages",H],ee=>ee?{...ee,messages:[...ee.messages,D]}:{messages:[D],total:1}),T.setQueryData(["conversations"],ee=>ee&&{...ee,conversations:ee.conversations.map(ue=>ue.conversation_id===H?{...ue,last_message:D,last_message_at:D.created_at}:ue)}),j(""),z([]),Q()},onError:D=>{console.error("Failed to send message:",D)}}),O=De({mutationFn:S,onSuccess:()=>{B()}}),re=k.useMemo(()=>{if(!(F!=null&&F.conversations))return[];const D=F.conversations.filter(ee=>{var ue,ke,Re,Tt,Rn,qd,Ud,Vd,Hd,Wd,Qd;if(f){const Rr=f.toLowerCase(),Px=(ue=ee.subject)==null?void 0:ue.toLowerCase().includes(Rr),Rx=((Re=(ke=ee.guest)==null?void 0:ke.first_name)==null?void 0:Re.toLowerCase().includes(Rr))||((Rn=(Tt=ee.guest)==null?void 0:Tt.last_name)==null?void 0:Rn.toLowerCase().includes(Rr))||((Ud=(qd=ee.host)==null?void 0:qd.first_name)==null?void 0:Ud.toLowerCase().includes(Rr))||((Hd=(Vd=ee.host)==null?void 0:Vd.last_name)==null?void 0:Hd.toLowerCase().includes(Rr)),Lx=(Qd=(Wd=ee.property)==null?void 0:Wd.title)==null?void 0:Qd.toLowerCase().includes(Rr);if(!Px&&!Rx&&!Lx)return!1}return!(b!=="all"&&ee.conversation_type!==b)});return D.sort((ee,ue)=>{if(N==="unread"){const Tt=ee.unread_count||0,Rn=ue.unread_count||0;if(Tt!==Rn)return Rn-Tt}const ke=new Date(ee.last_message_at||ee.created_at).getTime();return new Date(ue.last_message_at||ue.created_at).getTime()-ke}),D},[F==null?void 0:F.conversations,f,b,N]),xe=k.useMemo(()=>re.find(D=>D.conversation_id===H)||null,[re,H]),$=k.useMemo(()=>!xe||!n?null:n.user_id===xe.guest_id?xe.host:xe.guest,[xe,n]),Q=k.useCallback(()=>{setTimeout(()=>{var D;(D=M.current)==null||D.scrollIntoView({behavior:"smooth"})},100)},[]);k.useEffect(()=>{if(!a||!l)return;H&&h(H);const D=ke=>{ke.conversation_id===H?(T.setQueryData(["messages",H],Re=>Re?{...Re,messages:[...Re.messages,ke]}:{messages:[ke],total:1}),Q()):c(o+1),B()},ee=ke=>{ke.conversation_id===H&&ke.user_id!==(n==null?void 0:n.user_id)&&g(ke.is_typing)},ue=ke=>{ke.conversation_id===H&&T.setQueryData(["messages",H],Re=>Re&&{...Re,messages:Re.messages.map(Tt=>Tt.message_id===ke.message_id?{...Tt,is_read:!0,read_at:ke.read_at}:Tt)})};return a.on("message_received",D),a.on("typing_indicator",ee),a.on("message_read",ue),()=>{a.off("message_received",D),a.off("typing_indicator",ee),a.off("message_read",ue),H&&p(H)}},[a,l,H,n,h,p,T,c,o,B,Q]),k.useEffect(()=>{Z!=null&&Z.messages&&H&&n&&Z.messages.filter(ee=>!ee.is_read&&ee.sender_id!==n.user_id).forEach(ee=>{O.mutate(ee.message_id)})},[Z==null?void 0:Z.messages,H,n,O]),k.useEffect(()=>{Q()},[Z==null?void 0:Z.messages,Q]);const Ye=k.useCallback(D=>{j(D),!_&&D.length>0&&H&&(A(!0),x(H,!0)),J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{_&&H&&(A(!1),x(H,!1))},1e3)},[_,H,x]),nt=k.useCallback(async D=>{if(D.preventDefault(),!d.trim()||!H||!n)return;const ee={conversation_id:H,sender_id:n.user_id,message_text:d.trim(),message_type:"text",attachments:C.length>0?C.map(ue=>ue.name):void 0};Ge.mutate(ee),_&&(A(!1),x(H,!1))},[d,H,n,C,Ge,_,x]),jt=k.useCallback(D=>{r(`/messages/${D}`),R(!1)},[r]),Pn=k.useCallback(D=>{const ee=new Date(D),ke=new Date().getTime()-ee.getTime(),Re=Math.floor(ke/(1e3*60*60*24));return Re===0?ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):Re===1?"Yesterday":Re<7?ee.toLocaleDateString([],{weekday:"short"}):ee.toLocaleDateString([],{month:"short",day:"numeric"})},[]),ss=k.useCallback(D=>D?`${D.first_name} ${D.last_name}`:"Unknown User",[]),$i=k.useCallback(D=>D!=null&&D.profile_photo_url?D.profile_photo_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(ss(D))}&background=3b82f6&color=fff`,[ss]);return n?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[s.jsx("div",{className:`
          lg:hidden fixed inset-0 z-50 bg-white transform transition-transform duration-300 ease-in-out
          ${P?"translate-x-0":"-translate-x-full"}
        `,children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),s.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search conversations...",value:f,onChange:D=>w(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:b,onChange:D=>y(D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"inquiry",children:"Inquiries"}),s.jsx("option",{value:"booking",children:"Bookings"}),s.jsx("option",{value:"support",children:"Support"})]}),s.jsxs("select",{value:N,onChange:D=>v(D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"date",children:"Latest"}),s.jsx("option",{value:"unread",children:"Unread"})]})]})]}),s.jsx("div",{className:"overflow-y-auto h-full",children:X?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading conversations..."})]}):pe?s.jsx("div",{className:"p-4 text-center text-red-600",children:s.jsx("p",{children:"Error loading conversations"})}):re.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:s.jsx("p",{children:"No conversations found"})}):re.map(D=>{const ee=n.user_id===D.guest_id?D.host:D.guest,ue=D.unread_count||0;return s.jsx("div",{onClick:()=>jt(D.conversation_id),className:`
                          p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors
                          ${H===D.conversation_id?"bg-blue-50 border-blue-200":""}
                        `,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("img",{src:$i(ee),alt:ss(ee),className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[ss(ee),(ee==null?void 0:ee.is_verified)&&s.jsx("svg",{className:"inline w-4 h-4 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:Pn(D.last_message_at||D.created_at)}),ue>0&&s.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:ue})]})]}),D.property&&s.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[D.property.title,"  ",D.property.city]}),D.last_message&&s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:D.last_message.message_text}),s.jsx("div",{className:"flex items-center mt-1 space-x-2",children:s.jsx("span",{className:`
                                text-xs px-2 py-1 rounded-full
                                ${D.conversation_type==="inquiry"?"bg-yellow-100 text-yellow-800":""}
                                ${D.conversation_type==="booking"?"bg-green-100 text-green-800":""}
                                ${D.conversation_type==="support"?"bg-red-100 text-red-800":""}
                              `,children:D.conversation_type})})]})]})},D.conversation_id)})})]})]})}),s.jsxs("div",{className:"hidden lg:flex lg:w-1/3 xl:w-1/4 bg-white border-r border-gray-200 flex-col",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Messages"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[re.length," conversations"]})]}),s.jsxs("div",{className:"p-4 space-y-3 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search conversations...",value:f,onChange:D=>w(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:b,onChange:D=>y(D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"inquiry",children:"Inquiries"}),s.jsx("option",{value:"booking",children:"Bookings"}),s.jsx("option",{value:"support",children:"Support"})]}),s.jsxs("select",{value:N,onChange:D=>v(D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"date",children:"Latest"}),s.jsx("option",{value:"unread",children:"Unread"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:X?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-3",children:"Loading conversations..."})]}):pe?s.jsxs("div",{className:"p-6 text-center text-red-600",children:[s.jsx("p",{children:"Error loading conversations"}),s.jsx("button",{onClick:()=>B(),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Try again"})]}):re.length===0?s.jsxs("div",{className:"p-6 text-center text-gray-500",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"mt-2",children:"No conversations found"}),f&&s.jsx("button",{onClick:()=>w(""),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Clear search"})]}):re.map(D=>{const ee=n.user_id===D.guest_id?D.host:D.guest,ue=D.unread_count||0;return s.jsx("div",{onClick:()=>jt(D.conversation_id),className:`
                      p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors
                      ${H===D.conversation_id?"bg-blue-50 border-blue-200":""}
                    `,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("img",{src:$i(ee),alt:ss(ee),className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[ss(ee),(ee==null?void 0:ee.is_verified)&&s.jsx("svg",{className:"inline w-4 h-4 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:Pn(D.last_message_at||D.created_at)}),ue>0&&s.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:ue})]})]}),D.property&&s.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[D.property.title,"  ",D.property.city]}),D.last_message&&s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:D.last_message.message_text}),s.jsx("div",{className:"flex items-center mt-1 space-x-2",children:s.jsx("span",{className:`
                            text-xs px-2 py-1 rounded-full
                            ${D.conversation_type==="inquiry"?"bg-yellow-100 text-yellow-800":""}
                            ${D.conversation_type==="booking"?"bg-green-100 text-green-800":""}
                            ${D.conversation_type==="support"?"bg-red-100 text-red-800":""}
                          `,children:D.conversation_type})})]})]})},D.conversation_id)})})]}),s.jsx("div",{className:"flex-1 flex flex-col bg-white",children:H&&xe?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>R(!0),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("img",{src:$i($||void 0),alt:ss($||void 0),className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[ss($||void 0),($==null?void 0:$.is_verified)&&s.jsx("svg",{className:"inline w-5 h-5 text-blue-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),xe.property&&s.jsx("p",{className:"text-sm text-gray-500",children:xe.property.title}),L&&s.jsx("p",{className:"text-sm text-blue-600",children:s.jsxs("span",{className:"inline-flex space-x-1",children:[s.jsx("span",{children:"Typing"}),s.jsxs("span",{className:"flex space-x-1",children:[s.jsx("span",{className:"w-1 h-1 bg-blue-600 rounded-full animate-pulse"}),s.jsx("span",{className:"w-1 h-1 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),s.jsx("span",{className:"w-1 h-1 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})]})]}),xe.property&&s.jsx(q,{to:`/property/${xe.property_id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Property"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[ye?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-3",children:"Loading messages..."})]}):fe?s.jsxs("div",{className:"text-center py-8 text-red-600",children:[s.jsx("p",{children:"Error loading messages"}),s.jsx("button",{onClick:()=>bt(),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Try again"})]}):(Z==null?void 0:Z.messages.length)===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"mt-2",children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation below"})]}):Z==null?void 0:Z.messages.map((D,ee)=>{const ue=D.sender_id===n.user_id,ke=ee===0||Z.messages[ee-1].sender_id!==D.sender_id;return s.jsx("div",{className:`flex ${ue?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex space-x-2 max-w-xs lg:max-w-md ${ue?"flex-row-reverse space-x-reverse":""}`,children:[!ue&&ke&&s.jsx("img",{src:$i(D.sender),alt:ss(D.sender),className:"w-8 h-8 rounded-full object-cover"}),!ue&&!ke&&s.jsx("div",{className:"w-8 h-8"}),s.jsxs("div",{className:`
                            px-4 py-2 rounded-lg
                            ${ue?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}
                          `,children:[s.jsx("p",{className:"text-sm",children:D.message_text}),D.attachments&&D.attachments.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:D.attachments.map((Re,Tt)=>s.jsxs("div",{className:"text-xs opacity-75",children:[" ",Re]},Tt))}),s.jsxs("div",{className:`
                              text-xs mt-1 flex items-center space-x-1
                              ${ue?"text-blue-200":"text-gray-500"}
                            `,children:[s.jsx("span",{children:Pn(D.created_at)}),ue&&s.jsx("span",{children:D.is_read?s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]})},D.message_id)}),s.jsx("div",{ref:M})]}),s.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:s.jsxs("form",{onSubmit:nt,className:"flex space-x-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{ref:te,value:d,onChange:D=>Ye(D.target.value),placeholder:"Type your message...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),nt(D))}}),C.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:C.map((D,ee)=>s.jsxs("div",{className:"bg-gray-100 px-2 py-1 rounded text-sm flex items-center space-x-1",children:[s.jsxs("span",{children:[" ",D.name]}),s.jsx("button",{type:"button",onClick:()=>z(ue=>ue.filter((ke,Re)=>Re!==ee)),className:"text-red-500 hover:text-red-700",children:""})]},ee))})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Attach file",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),s.jsx("button",{type:"submit",disabled:!d.trim()||Ge.isPending,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:Ge.isPending?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsx("button",{onClick:()=>R(!0),className:"lg:hidden mb-6 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Conversations"}),s.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Welcome to Messages"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select a conversation from the sidebar to start messaging, or create a new conversation."}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Real-time messaging with hosts and guests"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"File attachments and photo sharing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Message read receipts and typing indicators"})]})]})]})})})]})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your messages."}),s.jsx(q,{to:"/auth?mode=login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign In"})]})})})},t1=()=>{const[e,t]=Lt(),r=ys(),n=U(m=>m.authentication_state.current_user),i=U(m=>m.authentication_state.auth_token),a=U(m=>m.update_user_profile),l=U(m=>m.update_currency),o=U(m=>m.update_language),c=U(m=>m.update_temperature_unit),h=U(m=>m.update_notification_settings),[p,x]=k.useState(e.get("section")||"personal"),[f,w]=k.useState({first_name:"",last_name:"",phone_number:"",bio:"",languages_spoken:[],currency:"USD",language:"en",temperature_unit:"celsius",emergency_contact_name:"",emergency_contact_phone:"",address:"",date_of_birth:"",government_id_number:""}),[b,y]=k.useState({email:!0,sms:!1,push:!0,marketing:!1}),[N,v]=k.useState({profile_visibility:"public",data_sharing:!1,marketing_emails:!1,search_indexing:!0}),[d,j]=k.useState([]),[_,A]=k.useState({});k.useEffect(()=>{const m=new URLSearchParams(e);p!=="personal"?m.set("section",p):m.delete("section"),t(m,{replace:!0})},[p,t,e]);const{data:L,isLoading:g}=ae({queryKey:["userProfile"],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${i}`}})).data,enabled:!!i,staleTime:5*60*1e3,retry:1}),{data:C,isLoading:z}=ae({queryKey:["savedSearches",n==null?void 0:n.user_id],queryFn:async()=>(await W.get("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/saved-searches",{headers:{Authorization:`Bearer ${i}`},params:{user_id:n==null?void 0:n.user_id,is_active:!0}})).data.saved_searches||[],enabled:!!i&&!!(n!=null&&n.user_id)&&p==="preferences",staleTime:5*60*1e3});k.useEffect(()=>{var m,S,F,X;L&&(w({first_name:L.first_name||"",last_name:L.last_name||"",phone_number:L.phone_number||"",bio:L.bio||"",languages_spoken:L.languages_spoken||[],currency:L.currency||"USD",language:L.language||"en",temperature_unit:L.temperature_unit||"celsius",emergency_contact_name:L.emergency_contact_name||"",emergency_contact_phone:L.emergency_contact_phone||"",address:L.address||"",date_of_birth:L.date_of_birth||"",government_id_number:L.government_id_number||""}),j(L.languages_spoken||[]),y({email:((m=L.notification_settings)==null?void 0:m.email)||!0,sms:((S=L.notification_settings)==null?void 0:S.sms)||!1,push:((F=L.notification_settings)==null?void 0:F.push)||!0,marketing:((X=L.notification_settings)==null?void 0:X.marketing)||!1}))},[L]);const P=De({mutationFn:async m=>(await W.put(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${n==null?void 0:n.user_id}`,{...m,languages_spoken:d,notification_settings:b},{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:m=>{r.invalidateQueries({queryKey:["userProfile"]}),a(m),l(m.currency),o(m.language),c(m.temperature_unit),h(b),A({})},onError:m=>{var S,F;A({general:((F=(S=m.response)==null?void 0:S.data)==null?void 0:F.message)||"Failed to update profile"})}}),R=De({mutationFn:async({verificationType:m,documentUrl:S})=>(await W.post(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/users/${n==null?void 0:n.user_id}/api/verification`,{verification_type:m,document_url:S},{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{r.invalidateQueries({queryKey:["userProfile"]}),A({})},onError:m=>{var S,F;A({verification:((F=(S=m.response)==null?void 0:S.data)==null?void 0:F.message)||"Failed to submit verification"})}}),M=De({mutationFn:async m=>{await W.delete(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/saved-searches/${m}`,{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["savedSearches",n==null?void 0:n.user_id]})},onError:m=>{var S,F;A({search:((F=(S=m.response)==null?void 0:S.data)==null?void 0:F.message)||"Failed to delete saved search"})}}),te=m=>{m.preventDefault(),A({}),P.mutate(f)},J=(m,S)=>{w(F=>({...F,[m]:S})),_[m]&&A(F=>({...F,[m]:""}))},T=m=>{j(S=>S.includes(m)?S.filter(F=>F!==m):[...S,m])},H=m=>{const S=`https://example.com/documents/${Date.now()}.pdf`;R.mutate({verificationType:m,documentUrl:S})},Y=(m,S)=>{y(F=>({...F,[m]:S}))},u=m=>{M.mutate(m)};return g?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your profile..."})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information and preferences"})]}),s.jsx(q,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-50 hover:bg-blue-100 transition-colors",children:" Back to Dashboard"})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-8",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("nav",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>x("personal"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="personal"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Personal Information"}),s.jsx("button",{onClick:()=>x("preferences"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="preferences"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Preferences"}),s.jsxs("button",{onClick:()=>x("verification"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="verification"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["Verification",(L==null?void 0:L.is_verified)&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),s.jsx("button",{onClick:()=>x("security"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="security"?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Security & Privacy"})]})}),s.jsxs("div",{className:"lg:col-span-9 mt-8 lg:mt-0",children:[_.general&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:_.general}),p==="personal"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your personal details and contact information"})]}),s.jsxs("form",{onSubmit:te,className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:L!=null&&L.profile_photo_url?s.jsx("img",{src:L.profile_photo_url,alt:"Profile",className:"h-20 w-20 rounded-full object-cover"}):s.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 text-xl font-medium",children:f.first_name.charAt(0)||"U"})})}),s.jsxs("div",{children:[s.jsx("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Change Photo"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"JPG, GIF or PNG. 1MB max."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name"}),s.jsx("input",{type:"text",id:"first_name",value:f.first_name,onChange:m=>J("first_name",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0}),_.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),s.jsx("input",{type:"text",id:"last_name",value:f.last_name,onChange:m=>J("last_name",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0}),_.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone_number",value:f.phone_number,onChange:m=>J("phone_number",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{id:"bio",rows:4,value:f.bio,onChange:m=>J("bio",m.target.value),placeholder:"Tell us about yourself...",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",maxLength:500}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[f.bio.length,"/api/500 characters"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages You Speak"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["English","Spanish","French","German","Italian","Portuguese","Greek","Turkish"].map(m=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:d.includes(m.toLowerCase()),onChange:()=>T(m.toLowerCase()),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]},m))})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),s.jsx("input",{type:"text",id:"emergency_contact_name",value:f.emergency_contact_name,onChange:m=>J("emergency_contact_name",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),s.jsx("input",{type:"tel",id:"emergency_contact_phone",value:f.emergency_contact_phone,onChange:m=>J("emergency_contact_phone",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsx("div",{className:"pt-6",children:s.jsx("button",{type:"submit",disabled:P.isPending,className:"bg-blue-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P.isPending?"Saving...":"Save Changes"})})]})]}),p==="preferences"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Display Preferences"})}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),s.jsxs("select",{id:"currency",value:f.currency,onChange:m=>J("currency",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"USD",children:"USD - US Dollar"}),s.jsx("option",{value:"EUR",children:"EUR - Euro"}),s.jsx("option",{value:"GBP",children:"GBP - British Pound"}),s.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),s.jsx("option",{value:"AUD",children:"AUD - Australian Dollar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700",children:"Language"}),s.jsxs("select",{id:"language",value:f.language,onChange:m=>J("language",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Espaol"}),s.jsx("option",{value:"fr",children:"Franais"}),s.jsx("option",{value:"de",children:"Deutsch"}),s.jsx("option",{value:"it",children:"Italiano"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"temperature_unit",className:"block text-sm font-medium text-gray-700",children:"Temperature Unit"}),s.jsxs("select",{id:"temperature_unit",value:f.temperature_unit,onChange:m=>J("temperature_unit",m.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"celsius",children:"Celsius (C)"}),s.jsx("option",{value:"fahrenheit",children:"Fahrenheit (F)"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),s.jsx("div",{className:"space-y-4",children:[{key:"email",label:"Email notifications",description:"Get notified about bookings and important updates"},{key:"sms",label:"SMS notifications",description:"Receive text messages for urgent notifications"},{key:"push",label:"Push notifications",description:"Browser push notifications"},{key:"marketing",label:"Marketing emails",description:"Receive travel tips and promotional offers"}].map(m=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:m.key,checked:b[m.key],onChange:S=>Y(m.key,S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("label",{htmlFor:m.key,className:"text-sm font-medium text-gray-700",children:m.label}),s.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]},m.key))})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Saved Searches"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your saved property searches"})]}),s.jsxs("div",{className:"px-6 py-6",children:[z?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading saved searches..."})]}):C&&C.length>0?s.jsx("div",{className:"space-y-4",children:C.map(m=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:m.search_name}),s.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[m.destination&&s.jsxs("span",{children:[" ",m.destination]}),m.check_in_date&&m.check_out_date&&s.jsxs("span",{className:"ml-4",children:[" ",m.check_in_date," - ",m.check_out_date]}),m.guest_count&&s.jsxs("span",{className:"ml-4",children:[" ",m.guest_count," guests"]}),m.price_min&&m.price_max&&s.jsxs("span",{className:"ml-4",children:[" $",m.price_min," - $",m.price_max]})]}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Saved on ",new Date(m.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q,{to:`/search?${new URLSearchParams({...m.destination&&{destination:m.destination},...m.check_in_date&&{check_in_date:m.check_in_date},...m.check_out_date&&{check_out_date:m.check_out_date},...m.guest_count&&{guest_count:m.guest_count.toString()},...m.property_type&&{property_type:m.property_type},...m.price_min&&{price_min:m.price_min.toString()},...m.price_max&&{price_max:m.price_max.toString()}}).toString()}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Results"}),s.jsx("button",{onClick:()=>u(m.search_id),disabled:M.isPending,className:"text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:"Delete"})]})]},m.search_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No saved searches yet"}),s.jsx(q,{to:"/search",className:"mt-2 inline-block text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Start searching for properties "})]}),_.search&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:_.search})]})]})]}),p==="verification"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Identity Verification"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Verify your identity to increase trust with other users and unlock additional features"})]}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:L!=null&&L.is_verified?s.jsx("div",{className:"h-8 w-8 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:""})}):s.jsx("div",{className:"h-8 w-8 bg-yellow-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:"!"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:L!=null&&L.is_verified?"Account Verified":"Verification Pending"}),s.jsx("p",{className:"text-sm text-gray-600",children:L!=null&&L.is_verified?"Your identity has been verified successfully.":"Complete the verification process to build trust with other users."})]})]})}),s.jsx("div",{className:"space-y-4",children:[{type:"identity",title:"Government ID",description:"Upload a photo of your government-issued ID",status:L!=null&&L.is_verified?"completed":"pending"},{type:"phone",title:"Phone Number",description:"Verify your phone number via SMS",status:L!=null&&L.phone_number?"completed":"pending"},{type:"email",title:"Email Address",description:"Confirm your email address",status:"completed"}].map(m=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-6 w-6 rounded-full flex items-center justify-center ${m.status==="completed"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:m.status==="completed"?"":""}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:m.title}),s.jsx("p",{className:"text-sm text-gray-600",children:m.description})]})]}),m.status==="pending"&&s.jsx("button",{onClick:()=>H(m.type),disabled:R.isPending,className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:R.isPending?"Uploading...":"Upload"})]})},m.type))}),_.verification&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:_.verification}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefits of Verification"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Increased trust from property owners and guests"}),s.jsx("li",{children:" Higher booking approval rates"}),s.jsx("li",{children:" Access to premium properties"}),s.jsx("li",{children:" Verified badge on your profile"}),s.jsx("li",{children:" Priority customer support"})]})]})]})]}),p==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Account Security"})}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Password"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Last updated 30 days ago"})]}),s.jsx(q,{to:"/auth?mode=reset",className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors",children:"Change Password"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Setup 2FA"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Login Activity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Current session - Chrome on MacOS"}),s.jsx("span",{className:"text-green-600",children:"Active now"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Mobile app - iOS"}),s.jsx("span",{className:"text-gray-500",children:"2 hours ago"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"})}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Profile Visibility"}),s.jsx("div",{className:"space-y-2",children:[{value:"public",label:"Public",description:"Anyone can see your profile"},{value:"verified",label:"Verified users only",description:"Only verified users can see your profile"},{value:"private",label:"Private",description:"Only you can see your profile"}].map(m=>s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"profile_visibility",value:m.value,checked:N.profile_visibility===m.value,onChange:S=>v(F=>({...F,profile_visibility:S.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 mt-1"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:m.label}),s.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]},m.value))})]}),s.jsx("div",{className:"space-y-4",children:[{key:"data_sharing",label:"Allow data sharing with partners",description:"Share anonymized data to improve our services"},{key:"search_indexing",label:"Allow search engine indexing",description:"Let search engines index your public profile"}].map(m=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:m.key,checked:N[m.key],onChange:S=>v(F=>({...F,[m.key]:S.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("label",{htmlFor:m.key,className:"text-sm font-medium text-gray-700",children:m.label}),s.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]},m.key))}),s.jsx("div",{className:"border-t border-gray-200 pt-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Delete Account"}),s.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s.jsx("button",{className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition-colors",children:"Delete Account"})]})})]})]})]}),(p==="preferences"||p==="security")&&s.jsx("div",{className:"bg-white shadow rounded-lg px-6 py-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:te,disabled:P.isPending,className:"bg-blue-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P.isPending?"Saving...":"Save Changes"})})})]})]})})]})})},s1=()=>{const[e]=Lt(),t=Ut(),r=e.get("mode")||"login",n=e.get("redirect_to"),[i,a]=k.useState(r),[l]=k.useState(n),[o,c]=k.useState({email:"",password:"",first_name:"",last_name:"",phone_number:"",user_type:"guest",currency:"USD",language:"en",temperature_unit:"celsius",notification_settings:{email:!0,sms:!1,push:!0},terms_accepted:!1,newsletter_subscribe:!1}),[h,p]=k.useState({email:"",password:"",remember_me:!1}),[x,f]=k.useState({email:"",reset_sent:!1,token_valid:!1}),[w,b]=k.useState(!1),[y,N]=k.useState(0),v=U(u=>u.authentication_state.authentication_status.is_authenticated),d=U(u=>u.authentication_state.authentication_status.is_loading),j=U(u=>u.authentication_state.error_message),_=U(u=>u.authentication_state.current_user),A=U(u=>u.login_user),L=U(u=>u.register_user),g=U(u=>u.clear_auth_error);k.useEffect(()=>{a(r),g()},[r,g]),k.useEffect(()=>{v&&_&&t(l||"/dashboard",{replace:!0})},[v,_,l,t]);const C=De({mutationFn:async u=>(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/auth/reset-password",u,{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{f(u=>({...u,reset_sent:!0}))},onError:u=>{console.error("Password reset error:",u)}}),z=u=>{let m=0;return u.length>=8&&(m+=25),/[a-z]/.test(u)&&(m+=25),/[A-Z]/.test(u)&&(m+=25),/[0-9]/.test(u)&&(m+=25),m},P=u=>{a(u),g(),t(`/auth?mode=${u}${l?`&redirect_to=${encodeURIComponent(l)}`:""}`)},R=async u=>{u.preventDefault(),g();try{await A(h.email,h.password)}catch(m){console.error("Login error:",m)}},M=async u=>{if(u.preventDefault(),g(),!!o.terms_accepted)try{await L({email:o.email,password:o.password,first_name:o.first_name,last_name:o.last_name,phone_number:o.phone_number||void 0,user_type:o.user_type,currency:o.currency,language:o.language,temperature_unit:o.temperature_unit})}catch(m){console.error("Registration error:",m)}},te=u=>{u.preventDefault(),x.email&&C.mutate({email:x.email})},J=u=>{const m="https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai",S=l?`&redirect_to=${encodeURIComponent(l)}`:"";window.location.href=`${m}/api/auth/${u}?${S}`};k.useEffect(()=>{i==="register"&&N(z(o.password))},[o.password,i]);const T=(u,m)=>{g(),i==="login"?p(S=>({...S,[u]:m})):i==="register"?c(S=>({...S,[u]:m})):i==="reset"&&f(S=>({...S,[u]:m}))},H=u=>u<25?"bg-red-500":u<50?"bg-orange-500":u<75?"bg-yellow-500":"bg-green-500",Y=u=>u<25?"Weak":u<50?"Fair":u<75?"Good":"Strong";return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-orange-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(q,{to:"/",className:"inline-block",children:s.jsx("h1",{className:"text-3xl font-bold text-orange-600",children:"SunVillas"})}),s.jsxs("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:[i==="login"&&"Sign in to your account",i==="register"&&"Create your account",i==="reset"&&"Reset your password"]}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i==="login"&&s.jsxs(s.Fragment,{children:["Or"," ",s.jsx("button",{onClick:()=>P("register"),className:"font-medium text-orange-600 hover:text-orange-500",children:"create a new account"})]}),i==="register"&&s.jsxs(s.Fragment,{children:["Already have an account?"," ",s.jsx("button",{onClick:()=>P("login"),className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in"})]}),i==="reset"&&s.jsxs(s.Fragment,{children:["Remember your password?"," ",s.jsx("button",{onClick:()=>P("login"),className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in"})]})]})]}),(i==="login"||i==="register")&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>J("google"),className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("button",{onClick:()=>J("facebook"),className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]}),s.jsxs("button",{onClick:()=>J("apple"),className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#000000",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C8.396 0 8.001.01 7.544.048 4.548.204 2.25 2.526 2.097 5.544.059 6.001.049 6.396.049 10.017c0 3.621.01 4.016.048 4.473.153 3.018 2.475 5.34 5.493 5.493.457.038.852.048 4.473.048 3.621 0 4.016-.01 4.473-.048 3.018-.153 5.34-2.475 5.493-5.493.038-.457.048-.852.048-4.473 0-3.621-.01-4.016-.048-4.473C21.874 2.526 19.552.204 16.534.051 16.077.013 15.682.003 12.061.003h-.044zm-2.708 7.86c-.012-.025-.02-.048-.02-.048-.128-.024-.257-.036-.39-.036-.507 0-.978.18-1.309.503-.49.48-.805 1.22-.805 1.918 0 .698.315 1.438.805 1.918.331.323.802.503 1.309.503.133 0 .262-.012.39-.036 0 0 .008-.023.02-.048l-.02.048c.128.024.257.036.39.036.507 0 .978-.18 1.309-.503.49-.48.805-1.22.805-1.918 0-.698-.315-1.438-.805-1.918-.331-.323-.802-.503-1.309-.503-.133 0-.262.012-.39.036z"})}),"Continue with Apple"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]})]}),j&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert","aria-live":"polite",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium",children:j})})]})}),i==="login"&&s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:R,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsx("input",{id:"login-email",name:"email",type:"email",autoComplete:"email",required:!0,value:h.email,onChange:u=>T("email",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"login-password",name:"password",type:w?"text":"password",autoComplete:"current-password",required:!0,value:h.password,onChange:u=>T("password",u.target.value),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!w),children:w?s.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:h.remember_me,onChange:u=>T("remember_me",u.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:()=>P("reset"),className:"text-sm text-orange-600 hover:text-orange-500",children:"Forgot your password?"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),i==="register"&&s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:M,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"First name"}),s.jsx("input",{id:"first-name",name:"first-name",type:"text",autoComplete:"given-name",required:!0,value:o.first_name,onChange:u=>T("first_name",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),s.jsx("input",{id:"last-name",name:"last-name",type:"text",autoComplete:"family-name",required:!0,value:o.last_name,onChange:u=>T("last_name",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsx("input",{id:"register-email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:u=>T("email",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone-number",className:"block text-sm font-medium text-gray-700",children:"Phone number (optional)"}),s.jsx("input",{id:"phone-number",name:"phone",type:"tel",autoComplete:"tel",value:o.phone_number,onChange:u=>T("phone_number",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"register-password",name:"password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:o.password,onChange:u=>T("password",u.target.value),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Create a strong password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!w),children:w?s.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]}),o.password&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${H(y)}`,style:{width:`${y}%`}})})}),s.jsx("div",{className:"ml-2 text-xs text-gray-500",children:Y(y)})]}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user-type",className:"block text-sm font-medium text-gray-700",children:"I want to"}),s.jsxs("select",{id:"user-type",name:"user-type",value:o.user_type,onChange:u=>T("user_type",u.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",children:[s.jsx("option",{value:"guest",children:"Book vacation rentals"}),s.jsx("option",{value:"host",children:"List my property"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"terms-accepted",name:"terms-accepted",type:"checkbox",required:!0,checked:o.terms_accepted,onChange:u=>T("terms_accepted",u.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),s.jsxs("label",{htmlFor:"terms-accepted",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",s.jsx(q,{to:"/terms",className:"text-orange-600 hover:text-orange-500",children:"Terms of Service"})," ","and"," ",s.jsx(q,{to:"/privacy",className:"text-orange-600 hover:text-orange-500",children:"Privacy Policy"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"newsletter-subscribe",name:"newsletter-subscribe",type:"checkbox",checked:o.newsletter_subscribe,onChange:u=>T("newsletter_subscribe",u.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"newsletter-subscribe",className:"ml-2 block text-sm text-gray-900",children:"Send me travel tips and special offers"})]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:d||!o.terms_accepted||o.password.length<8,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})})]}),i==="reset"&&s.jsx("div",{className:"mt-8 space-y-6",children:x.reset_sent?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reset email sent"}),s.jsx("div",{className:"mt-2",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["We've sent a password reset link to ",x.email,". Please check your email and follow the instructions to reset your password."]})}),s.jsx("div",{className:"mt-5",children:s.jsx("button",{onClick:()=>P("login"),className:"inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-orange-600 bg-orange-100 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Return to sign in"})})]})]}):s.jsxs("form",{onSubmit:te,children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsx("input",{id:"reset-email",name:"email",type:"email",autoComplete:"email",required:!0,value:x.email,onChange:u=>T("email",u.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"submit",disabled:C.isPending||!x.email,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending reset email..."]}):"Send reset email"})})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Protected by SSL encryption. Your data is secure."})})]})})})},r1=()=>{var J;const[e,t]=Lt(),[r,n]=k.useState("overview"),[i,a]=k.useState({purchasePrice:"",currentValue:"",annualIncome:"",annualExpenses:"",occupancyRate:""}),l=e.get("country"),o=e.get("property_type"),c=U(T=>T.authentication_state.current_user),h=U(T=>T.authentication_state.auth_token),p=U(T=>T.user_preferences.currency),x=U(T=>T.set_investment_portfolio),f=U(T=>T.set_market_data),w=U(T=>T.set_investment_loading),b=async()=>{const T=new URLSearchParams;return l&&T.append("location_id",l),o&&T.append("property_type",o),T.append("limit","50"),(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/market-data?${T}`,{headers:h?{Authorization:`Bearer ${h}`}:{}})).data},y=async()=>{if(!(c!=null&&c.user_id)||!h)return[];const Y=((await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties?owner_id=${c.user_id}`,{headers:{Authorization:`Bearer ${h}`}})).data.properties||[]).map(m=>W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/properties/${m.property_id}/api/analytics?year=${new Date().getFullYear()}`,{headers:{Authorization:`Bearer ${h}`}}).catch(()=>null));return(await Promise.all(Y)).filter(m=>m==null?void 0:m.data).map(m=>m.data)},N=async()=>(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/currency-rates?base_currency=${p}&target_currencies=USD,EUR,GBP`)).data,{data:v,isLoading:d,error:j}=ae({queryKey:["market-data",l,o],queryFn:b,staleTime:5*60*1e3,retry:1,enabled:!!h}),{data:_,isLoading:A}=ae({queryKey:["investment-portfolio",c==null?void 0:c.user_id],queryFn:y,staleTime:5*60*1e3,retry:1,enabled:!!(h&&(c!=null&&c.user_id))});ae({queryKey:["currency-rates",p],queryFn:N,staleTime:10*60*1e3,retry:1}),k.useEffect(()=>{v&&f(v.market_data)},[v,f]),k.useEffect(()=>{_&&x(_)},[_,x]),k.useEffect(()=>{w(d||A)},[d,A,w]);const L=k.useMemo(()=>{if(!_||_.length===0)return{total_properties:0,total_invested:0,current_value:0,annual_income:0,average_roi:0,total_return_percentage:0};const T=_.reduce((S,F)=>S+(F.purchase_price||0),0),H=_.reduce((S,F)=>S+(F.current_value||0),0),Y=_.reduce((S,F)=>S+F.annual_rental_income,0),u=_.reduce((S,F)=>S+(F.roi_percentage||0),0)/_.length,m=T>0?(H-T)/T*100:0;return{total_properties:_.length,total_invested:T,current_value:H,annual_income:Y,average_roi:u,total_return_percentage:m}},[_]),g=k.useMemo(()=>{const T=parseFloat(i.purchasePrice)||0,H=parseFloat(i.currentValue)||0,Y=parseFloat(i.annualIncome)||0,u=parseFloat(i.annualExpenses)||0,m=parseFloat(i.occupancyRate)||0;if(T===0)return null;const S=Y*m/100-u,F=H-T,X=S+F,pe=X/T*100,B=T>0?S/T*100:0;return{netIncome:S,capitalGain:F,totalReturn:X,roiPercentage:pe,rentalYield:B}},[i]),C=(T,H)=>{const Y=new URLSearchParams(e);H?Y.set(T,H):Y.delete(T),t(Y)},z=(T,H)=>{a(Y=>({...Y,[T]:H}))},P=()=>{a({purchasePrice:"",currentValue:"",annualIncome:"",annualExpenses:"",occupancyRate:""})},R=(T,H=p)=>new Intl.NumberFormat("en-US",{style:"currency",currency:H}).format(T),M=T=>`${T.toFixed(2)}%`,te=(c==null?void 0:c.user_type)==="host"||(c==null?void 0:c.is_verified);return c?te?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Investment Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive real estate investment analysis for hot climate destinations"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:l||"",onChange:T=>C("country",T.target.value),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Countries"}),s.jsx("option",{value:"greece",children:"Greece"}),s.jsx("option",{value:"spain",children:"Spain"}),s.jsx("option",{value:"portugal",children:"Portugal"}),s.jsx("option",{value:"mexico",children:"Mexico"}),s.jsx("option",{value:"thailand",children:"Thailand"})]}),s.jsxs("select",{value:o||"",onChange:T=>C("property_type",T.target.value),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"villa",children:"Villa"}),s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"resort",children:"Resort"})]})]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"overview",name:"Market Overview",icon:""},{id:"portfolio",name:"My Portfolio",icon:""},{id:"calculator",name:"ROI Calculator",icon:""},{id:"market",name:"Market Analysis",icon:""},{id:"legal",name:"Legal Info",icon:""}].map(T=>s.jsxs("button",{onClick:()=>n(T.id),className:`${r===T.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[s.jsx("span",{children:T.icon}),s.jsx("span",{children:T.name})]},T.id))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"text-2xl",children:""})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Properties"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:L.total_properties})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"text-2xl",children:""})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Invested"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:R(L.total_invested)})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"text-2xl",children:""})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Current Value"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:R(L.current_value)})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"text-2xl",children:""})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average ROI"}),s.jsx("dd",{className:`text-lg font-medium ${L.average_roi>=0?"text-green-600":"text-red-600"}`,children:M(L.average_roi)})]})})]})})})]}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Market Analysis"}),s.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Current market data for selected filters"})]}),s.jsx("div",{className:"overflow-x-auto",children:d?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j?s.jsx("div",{className:"text-center py-8 text-red-600",children:"Error loading market data"}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Price/sqm"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rental Yield"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investment Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"12M Growth"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(J=v==null?void 0:v.market_data)==null?void 0:J.map(T=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[T.location.city,", ",T.location.country]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:T.property_type}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",T.average_price_per_sqm.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M(T.average_rental_yield)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.investment_score>=8?"bg-green-100 text-green-800":T.investment_score>=6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[T.investment_score,"/api/10"]})}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${T.price_growth_12m>=0?"text-green-600":"text-red-600"}`,children:M(T.price_growth_12m)})]},T.market_id))})]})})]})]}),r==="portfolio"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Portfolio Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Return"}),s.jsx("p",{className:`text-2xl font-bold ${L.total_return_percentage>=0?"text-green-600":"text-red-600"}`,children:M(L.total_return_percentage)})]}),s.jsxs("div",{className:"border-l-4 border-green-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Annual Income"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(L.annual_income)})]}),s.jsxs("div",{className:"border-l-4 border-purple-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Portfolio Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(L.current_value)})]})]})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6",children:s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Individual Investments"})}),A?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):_&&_.length>0?s.jsx("ul",{className:"divide-y divide-gray-200",children:_.map(T=>s.jsx("li",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Property ",T.property_id]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Purchase: ",R(T.purchase_price||0)]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Current: ",R(T.current_value||0)]}),s.jsxs("span",{className:`text-sm font-medium ${(T.roi_percentage||0)>=0?"text-green-600":"text-red-600"}`,children:["ROI: ",M(T.roi_percentage||0)]})]})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex space-x-6 text-sm text-gray-500",children:[s.jsxs("span",{children:["Annual Income: ",R(T.annual_rental_income)]}),s.jsxs("span",{children:["Occupancy: ",M(T.occupancy_rate)]}),s.jsxs("span",{children:["Yield: ",M(T.rental_yield||0)]})]})})]})})},T.analytics_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No investments tracked yet"}),s.jsx(q,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Find Investment Properties"})]})]})]}),r==="calculator"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Investment Calculator"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Purchase Price (",p,")"]}),s.jsx("input",{type:"number",value:i.purchasePrice,onChange:T=>z("purchasePrice",T.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"250000"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Current Value (",p,")"]}),s.jsx("input",{type:"number",value:i.currentValue,onChange:T=>z("currentValue",T.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"280000"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Annual Rental Income (",p,")"]}),s.jsx("input",{type:"number",value:i.annualIncome,onChange:T=>z("annualIncome",T.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"20000"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Annual Expenses (",p,")"]}),s.jsx("input",{type:"number",value:i.annualExpenses,onChange:T=>z("annualExpenses",T.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Occupancy Rate (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:i.occupancyRate,onChange:T=>z("occupancyRate",T.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"85"})]}),s.jsx("button",{onClick:P,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Clear All"})]})]})}),s.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Calculation Results"}),g?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-l-4 border-green-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Net Annual Income"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:R(g.netIncome)})]}),s.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capital Appreciation"}),s.jsx("p",{className:`text-xl font-bold ${g.capitalGain>=0?"text-blue-600":"text-red-600"}`,children:R(g.capitalGain)})]}),s.jsxs("div",{className:"border-l-4 border-purple-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Return"}),s.jsx("p",{className:`text-xl font-bold ${g.totalReturn>=0?"text-purple-600":"text-red-600"}`,children:R(g.totalReturn)})]}),s.jsxs("div",{className:"border-l-4 border-yellow-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROI Percentage"}),s.jsx("p",{className:`text-2xl font-bold ${g.roiPercentage>=0?"text-green-600":"text-red-600"}`,children:M(g.roiPercentage)})]}),s.jsxs("div",{className:"border-l-4 border-indigo-400 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Rental Yield"}),s.jsx("p",{className:"text-xl font-bold text-indigo-600",children:M(g.rentalYield)})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Enter investment details to see calculations"})})]})})]})}),r==="market"&&s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Comparative Market Analysis"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Detailed market analysis for hot climate real estate investments"}),d?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):v!=null&&v.market_data&&v.market_data.length>0?s.jsx("div",{className:"space-y-8",children:v.market_data.map(T=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:[T.location.city,", ",T.location.country]}),s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[T.property_type," Properties"]})]}),s.jsxs("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${T.investment_score>=8?"bg-green-100 text-green-800":T.investment_score>=6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Score: ",T.investment_score,"/api/10"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Price per sqm"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",T.average_price_per_sqm.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Rental Yield"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:M(T.average_rental_yield)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"12M Growth"}),s.jsx("p",{className:`text-lg font-semibold ${T.price_growth_12m>=0?"text-green-600":"text-red-600"}`,children:M(T.price_growth_12m)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"24M Growth"}),s.jsx("p",{className:`text-lg font-semibold ${T.price_growth_24m>=0?"text-green-600":"text-red-600"}`,children:M(T.price_growth_24m)})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-6 text-sm text-gray-500",children:[s.jsxs("span",{children:["Demand Score: ",T.rental_demand_score,"/api/10"]}),s.jsxs("span",{children:["Liquidity: ",T.market_liquidity]}),s.jsxs("span",{children:["Foreign Ownership: ",T.foreign_ownership_allowed?"Allowed":"Restricted"]})]}),s.jsx(q,{to:`/search?country=${T.location.country.toLowerCase()}&property_type=${T.property_type}`,className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"View Properties "})]})})]},T.market_id))}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No market data available for selected filters"})})]})})}),r==="legal"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-6",children:"Legal & Regulatory Information"}),v!=null&&v.market_data&&v.market_data.length>0?s.jsx("div",{className:"space-y-8",children:v.market_data.map(T=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:[T.location.country," - ",T.location.city]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tax Information"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{children:["Property Tax: ",M(T.property_tax_rate)]}),s.jsxs("li",{children:["Rental Tax: ",M(T.rental_tax_rate)]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Ownership Rules"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Foreign Ownership: ",T.foreign_ownership_allowed?"Permitted":"Restricted"]})]})]}),T.legal_requirements&&T.legal_requirements.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Legal Requirements"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:T.legal_requirements.map((H,Y)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-2",children:""}),H]},Y))})]})]},T.market_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"Select market filters to view legal information"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:s.jsxs("p",{className:"text-blue-700 text-sm",children:[s.jsx("strong",{children:"Disclaimer:"})," This information is for general guidance only. Always consult with qualified legal professionals before making investment decisions."]})})]})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Legal Resources"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Documentation Checklist"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Passport and ID verification"}),s.jsx("li",{children:" Proof of income and assets"}),s.jsx("li",{children:" Tax residency certificate"}),s.jsx("li",{children:" Bank statements and financing"}),s.jsx("li",{children:" Property inspection reports"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Professional Services"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" International tax advisors"}),s.jsx("li",{children:" Real estate lawyers"}),s.jsx("li",{children:" Property management companies"}),s.jsx("li",{children:" Currency exchange services"}),s.jsx("li",{children:" Insurance providers"})]})]})]})]})})]})]})]})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:s.jsx("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Investor Verification Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Access to investment analytics requires investor account verification. This includes advanced market analysis, portfolio tracking, and financial calculation tools."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{to:"/profile?section=verification",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Complete Verification"}),s.jsx(q,{to:"/dashboard",className:"block text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Return to Dashboard"})]})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Investment Analytics"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access investment analysis tools."}),s.jsx(q,{to:"/auth?mode=login",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Sign In"})]})})})},Vh=()=>{const{destination_slug:e}=Pr(),[t,r]=Lt(),n=t.get("section")||"overview",i=U(P=>P.authentication_state.current_user),a=U(P=>P.user_preferences.currency),l=U(P=>P.user_preferences.temperature_unit),o=P=>{const R=new URLSearchParams(t);R.set("section",P),r(R)},c="https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai",{data:h,isLoading:p,error:x}=ae({queryKey:["destinations-list"],queryFn:async()=>(await W.get(`${c}/api/locations`,{params:{is_hot_destination:!0,is_featured:!0,limit:20,sort_by:"property_count",sort_order:"desc"}})).data.locations,enabled:!e,staleTime:5*60*1e3,retry:1}),{data:f,isLoading:w,error:b}=ae({queryKey:["destination-data",e],queryFn:async()=>e&&(await W.get(`${c}/api/locations`,{params:{destination_slug:e,limit:1}})).data.locations[0]||null,enabled:!!e,staleTime:5*60*1e3,retry:1}),{data:y,isLoading:N}=ae({queryKey:["weather-data",f==null?void 0:f.location_id],queryFn:async()=>f!=null&&f.location_id?(await W.get(`${c}/api/locations/${f.location_id}/api/weather`,{params:{forecast_days:7,include_historical:!0},headers:i?{Authorization:`Bearer ${U.getState().authentication_state.auth_token}`}:{}})).data:null,enabled:!!(f!=null&&f.location_id)&&(n==="weather"||n==="overview"),staleTime:10*60*1e3,retry:1}),{data:v,isLoading:d}=ae({queryKey:["attractions-data",f==null?void 0:f.location_id],queryFn:async()=>f!=null&&f.location_id?(await W.get(`${c}/api/locations/${f.location_id}/api/attractions`,{params:{is_featured:!0,limit:20},headers:i?{Authorization:`Bearer ${U.getState().authentication_state.auth_token}`}:{}})).data.attractions:[],enabled:!!(f!=null&&f.location_id)&&n==="attractions",staleTime:30*60*1e3,retry:1}),{data:j,isLoading:_}=ae({queryKey:["nearby-properties",f==null?void 0:f.city,f==null?void 0:f.country],queryFn:async()=>!(f!=null&&f.city)||!(f!=null&&f.country)?[]:(await W.get(`${c}/api/properties`,{params:{city:f.city,country:f.country,is_verified:!0,sort_by:"rating",sort_order:"desc",limit:12},headers:i?{Authorization:`Bearer ${U.getState().authentication_state.auth_token}`}:{}})).data.properties,enabled:!!(f!=null&&f.city)&&!!(f!=null&&f.country)&&n==="practical",staleTime:15*60*1e3,retry:1}),A=P=>l==="fahrenheit"?`${Math.round(P*9/5+32)}F`:`${Math.round(P)}C`,L=(P,R)=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:a||R}).format(P)}catch{return`${R} ${P}`}},g=[{key:"overview",label:"Overview",icon:""},{key:"weather",label:"Weather",icon:""},{key:"attractions",label:"Attractions",icon:""},{key:"dining",label:"Dining",icon:""},{key:"transport",label:"Transport",icon:""},{key:"practical",label:"Practical",icon:""}],C=()=>s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),z=({message:P})=>s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mx-4 sm:mx-6 lg:mx-8 my-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-red-400 text-xl",children:""})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Content"}),s.jsx("p",{className:"mt-1 text-sm text-red-700",children:P})]})]})});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"py-4",children:s.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500","aria-label":"Breadcrumb",children:[s.jsx(q,{to:"/",className:"hover:text-gray-700 transition-colors",children:"Home"}),s.jsx("span",{children:"/"}),s.jsx(q,{to:"/destinations",className:"hover:text-gray-700 transition-colors",children:"Destinations"}),f&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"/"}),s.jsxs("span",{className:"text-gray-900 font-medium",children:[f.city,", ",f.country]})]})]})})})}),e?s.jsxs("div",{className:"max-w-7xl mx-auto",children:[w&&s.jsx(C,{}),b&&s.jsx(z,{message:"Failed to load destination information. Please check the URL and try again."}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"aspect-w-16 aspect-h-6 bg-gradient-to-r from-blue-500 to-blue-700",children:[f.featured_image_url?s.jsx("img",{src:f.featured_image_url,alt:`${f.city}, ${f.country}`,className:"w-full h-64 sm:h-80 object-cover"}):s.jsx("div",{className:"w-full h-64 sm:h-80 bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-8xl",children:""})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/50 to-transparent p-6 sm:p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("h1",{className:"text-3xl sm:text-5xl font-bold text-white mb-2",children:[f.city,", ",f.country]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white/90",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:""}),f.average_temperature&&A(f.average_temperature)," avg"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:""}),f.currency]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:""}),f.languages.join(", ")]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:""}),f.property_count," properties"]})]})]})})]}),s.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:g.map(P=>s.jsxs("button",{onClick:()=>o(P.key),className:`flex items-center py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${n===P.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:P.icon}),P.label]},P.key))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"prose prose-lg max-w-none",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["About ",f.city]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:f.description||`Welcome to ${f.city}, ${f.country}. This beautiful ${f.climate_type} destination offers the perfect getaway for travelers seeking warm weather and stunning scenery.`})]}),f.best_visit_months&&f.best_visit_months.length>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Best Time to Visit"}),s.jsxs("p",{className:"text-blue-800",children:["The ideal months to visit ",f.city," are: ",s.jsx("strong",{children:f.best_visit_months.join(", ")})]})]}),(y==null?void 0:y.current)&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Current Weather"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A(y.current.temperature_avg)}),s.jsx("div",{className:"text-sm text-gray-500",children:"Temperature"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[y.current.humidity,"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Humidity"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[y.current.wind_speed," km/h"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Wind Speed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.current.uv_index}),s.jsx("div",{className:"text-sm text-gray-500",children:"UV Index"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(q,{to:`/search?destination=${f.city}, ${f.country}`,className:"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow text-center group",children:[s.jsx("span",{className:"text-3xl mb-3 block group-hover:scale-110 transition-transform",children:""}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Find Properties"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Browse ",f.property_count," available properties"]})]}),s.jsxs("button",{onClick:()=>o("attractions"),className:"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow text-center group",children:[s.jsx("span",{className:"text-3xl mb-3 block group-hover:scale-110 transition-transform",children:""}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Explore Attractions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Discover local attractions and activities"})]}),s.jsxs("button",{onClick:()=>o("weather"),className:"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow text-center group",children:[s.jsx("span",{className:"text-3xl mb-3 block group-hover:scale-110 transition-transform",children:""}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Weather Forecast"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Check 7-day weather forecast"})]})]})]}),n==="weather"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weather & Climate"}),N&&s.jsx(C,{}),y&&s.jsxs(s.Fragment,{children:[y.current&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Conditions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:A(y.current.temperature_avg)}),s.jsx("div",{className:"text-sm text-blue-700",children:"Temperature"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[y.current.humidity,"%"]}),s.jsx("div",{className:"text-sm text-green-700",children:"Humidity"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:y.current.wind_speed}),s.jsx("div",{className:"text-sm text-purple-700",children:"Wind (km/h)"})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:y.current.uv_index}),s.jsx("div",{className:"text-sm text-orange-700",children:"UV Index"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-900",children:[y.current.sunshine_hours,"h"]}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Sunshine"})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-lg font-bold text-indigo-900",children:y.current.weather_condition}),s.jsx("div",{className:"text-sm text-indigo-700",children:"Condition"})]})]})]}),y.forecast&&y.forecast.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"7-Day Forecast"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:y.forecast.map((P,R)=>s.jsxs("div",{className:"text-center border rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:R===0?"Today":new Date(P.date).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx("div",{className:"text-xs text-gray-500 mb-2",children:new Date(P.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:A(P.temperature_max)}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:A(P.temperature_min)}),s.jsx("div",{className:"text-xs text-gray-500",children:P.weather_condition}),P.rainfall>0&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[" ",P.rainfall,"mm"]})]},P.date))})]}),y.best_visit_months&&y.best_visit_months.length>0&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:" Optimal Travel Months"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.best_visit_months.map(P=>s.jsx("span",{className:"bg-green-200 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:P},P))}),s.jsxs("p",{className:"text-green-800 mt-3 text-sm",children:["These months typically offer the best weather conditions for visiting ",f.city,"."]})]})]})]}),n==="attractions"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tourist Attractions"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(v==null?void 0:v.length)||0," attractions found"]})]}),d&&s.jsx(C,{}),v&&v.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(P=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:P.image_urls&&P.image_urls.length>0?s.jsx("img",{src:P.image_urls[0],alt:P.name,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 text-4xl",children:""})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:P.name}),P.is_featured&&s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full font-medium",children:"Featured"})]}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 mr-1",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.rating.toFixed(1)})]}),s.jsx("span",{className:"mx-2 text-gray-300",children:""}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:P.category})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:P.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsx("span",{className:"line-clamp-1",children:P.address})]}),P.admission_fee>0&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsxs("span",{children:[L(P.admission_fee,f.currency)," admission"]})]}),P.website_url&&s.jsxs("a",{href:P.website_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[s.jsx("span",{className:"mr-2",children:""}),"Visit Website"]})]})]})]},P.attraction_id))}),v&&v.length===0&&!d&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"No attractions found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Check back later for attraction information."})]})]}),n==="dining"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dining & Entertainment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Local Cuisine"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Experience the authentic flavors of ",f.city," with its diverse culinary scene."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Traditional local dishes"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Local wines and beverages"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Spice levels and dietary options"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Nightlife"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Discover the vibrant nightlife and entertainment options in ",f.city,"."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Bars and lounges"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Dancing and live music"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Cultural performances"})]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:" Dining Tips"}),s.jsxs("ul",{className:"space-y-2 text-yellow-800",children:[s.jsx("li",{children:" Tipping customs: Check local tipping practices"}),s.jsx("li",{children:" Meal times: Restaurants may have different operating hours"}),s.jsx("li",{children:" Reservations: Popular restaurants may require advance booking"}),s.jsx("li",{children:" Dietary restrictions: Inform restaurants of any allergies or dietary needs"})]})]})]}),n==="transport"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Transportation Guide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Airport Transfers"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Taxi services available"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Airport shuttle buses"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Car rental counters"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Public Transport"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Local transport passes"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Route maps and schedules"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Payment methods accepted"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alternative Transport"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Bicycle rental stations"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Scooter sharing services"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Walking routes and paths"})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Getting Around Tips"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsx("li",{children:" Download local transport apps for real-time information"}),s.jsx("li",{children:" Consider traffic patterns during rush hours"}),s.jsx("li",{children:" International driving license may be required for car rentals"}),s.jsx("li",{children:" Many attractions are within walking distance of each other"})]})]})]}),n==="practical"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Practical Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:" Emergency Contacts"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Police: Check local emergency number"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Medical Emergency: Check local emergency number"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Fire Department: Check local emergency number"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Healthcare"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Local hospitals and clinics"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Pharmacy locations"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Travel insurance recommended"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Banking & Money"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"ATM locations widely available"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsxs("span",{children:["Local currency: ",f.currency]})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Credit cards generally accepted"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Connectivity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Mobile network coverage good"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"WiFi available in most accommodations"})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"mr-3",children:""}),s.jsx("span",{children:"Free WiFi in cafes and restaurants"})]})]})]})]})]}),_&&s.jsx(C,{}),j&&j.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" Accommodation Options"}),s.jsx(q,{to:`/search?destination=${f.city}, ${f.country}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:"View All Properties "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.slice(0,6).map(P=>s.jsxs(q,{to:`/property/${P.property_id}`,className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:P.title}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:P.property_type}),P.average_rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 mr-1",children:""}),s.jsx("span",{className:"text-sm font-medium",children:P.average_rating.toFixed(1)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[L(P.base_price_per_night,P.currency),s.jsx("span",{className:"text-sm font-normal text-gray-600",children:"/night"})]}),P.distance_beach&&s.jsxs("span",{className:"text-xs text-blue-600",children:[" ",P.distance_beach,"km to beach"]})]})]},P.property_id))})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:" Travel Tips"}),s.jsxs("ul",{className:"space-y-2 text-green-800",children:[s.jsx("li",{children:" Keep copies of important documents in separate locations"}),s.jsx("li",{children:" Learn basic phrases in the local language"}),s.jsx("li",{children:" Research local customs and etiquette"}),s.jsx("li",{children:" Check visa requirements before traveling"}),s.jsx("li",{children:" Register with your embassy if staying long-term"})]})]})]})]})]})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Hot Climate Destinations"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the world's most beautiful warm-weather destinations. Perfect for your next vacation or investment opportunity."})]}),p&&s.jsx(C,{}),x&&s.jsx(z,{message:"Failed to load destinations. Please try again later."}),h&&h.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(P=>s.jsxs(q,{to:`/destinations/${P.destination_slug}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:P.featured_image_url?s.jsx("img",{src:P.featured_image_url,alt:`${P.city}, ${P.country}`,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-6xl",children:""})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:[P.city,", ",P.country]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:P.description||`Explore the beautiful destination of ${P.city} with its ${P.climate_type} climate.`}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx("span",{className:"mr-1",children:""}),P.average_temperature&&A(P.average_temperature)]}),s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx("span",{className:"mr-1",children:""}),P.property_count," properties"]})]})]})]},P.location_id))}),h&&h.length===0&&!p&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"No destinations found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Check back later for new hot climate destinations."})]})]})]})})},tr=({rating:e,onRatingChange:t,label:r,description:n,required:i=!0})=>{const[a,l]=k.useState(0);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[r," ",i&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:e>0?`${e} star${e!==1?"s":""}`:"Not rated"})]}),n&&s.jsx("p",{className:"text-xs text-gray-500",children:n}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(o=>s.jsx("button",{type:"button",className:`w-8 h-8 transition-colors ${o<=(a||e)?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded`,onClick:()=>t(o),onMouseEnter:()=>l(o),onMouseLeave:()=>l(0),"aria-label":`Rate ${o} star${o!==1?"s":""} for ${r}`,children:s.jsx("svg",{className:"w-full h-full fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},o))})]})},n1=({photos:e,onPhotosChange:t,errors:r})=>{const[n,i]=k.useState(!1),a=p=>{p.preventDefault(),i(!0)},l=p=>{p.preventDefault(),i(!1)},o=p=>{p.preventDefault(),i(!1);const x=Array.from(p.dataTransfer.files);c(x)},c=p=>{const f=10-e.length;p.slice(0,f).forEach(b=>{if(b.type.startsWith("image/")){const y=new FileReader;y.onload=N=>{var v;(v=N.target)!=null&&v.result&&t([...e,N.target.result])},y.readAsDataURL(b)}})},h=p=>{const x=[...e];x.splice(p,1),t(x)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Photos (Optional)"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[e.length,"/api/10 photos"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Help future guests by sharing photos of your experience. You can upload up to 10 photos."}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${n?"border-blue-400 bg-blue-50":e.length>=10?"border-gray-200 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:a,onDragLeave:l,onDrop:o,children:e.length>=10?s.jsx("p",{className:"text-gray-500",children:"Maximum number of photos reached"}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("div",{className:"mt-4",children:s.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[s.jsx("span",{className:"text-blue-600 hover:text-blue-500 font-medium",children:"Upload photos"}),s.jsx("span",{className:"text-gray-500",children:" or drag and drop"}),s.jsx("input",{id:"photo-upload",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:p=>{p.target.files&&c(Array.from(p.target.files))}})]})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB each"})]})}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((p,x)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:p,alt:`Review photo ${x+1}`,className:"w-full h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>h(x),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Remove photo",children:""})]},x))}),r.length>0&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:s.jsxs("div",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Photo upload errors:"}),s.jsx("ul",{className:"mt-1 list-disc list-inside",children:r.map((p,x)=>s.jsx("li",{children:p},x))})]})})]})},i1=()=>{var d,j,_,A,L,g;const{booking_id:e}=Pr(),t=U(C=>C.authentication_state.current_user),r=U(C=>C.authentication_state.auth_token),[n,i]=k.useState({booking_id:e||"",property_id:"",reviewer_id:(t==null?void 0:t.user_id)||"",overall_rating:0,cleanliness_rating:0,accuracy_rating:0,communication_rating:0,location_rating:0,checkin_rating:0,value_rating:0,review_text:"",review_photos:[],is_anonymous:!1}),[a,l]=k.useState({is_submitting:!1,is_submitted:!1,validation_errors:[],submission_error:null,can_submit:!1}),[o]=k.useState({uploading_photos:[],uploaded_photos:[],upload_errors:[]}),[c,h]=k.useState(!1),{data:p,isLoading:x,error:f}=ae({queryKey:["booking",e],queryFn:async()=>{if(!e||!r)throw new Error("Missing booking ID or authentication");return(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data},enabled:!!e&&!!r,staleTime:5*60*1e3,retry:1}),w=De({mutationFn:async C=>{if(!r)throw new Error("Authentication required");return(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/reviews",C,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data},onMutate:()=>{l(C=>({...C,is_submitting:!0,submission_error:null}))},onSuccess:()=>{l(C=>({...C,is_submitting:!1,is_submitted:!0}))},onError:C=>{var P,R;const z=((R=(P=C.response)==null?void 0:P.data)==null?void 0:R.message)||C.message||"Failed to submit review";l(M=>({...M,is_submitting:!1,submission_error:z}))}});k.useEffect(()=>{p&&t&&i(C=>({...C,booking_id:p.booking_id,property_id:p.property_id,reviewer_id:t.user_id}))},[p,t]),k.useEffect(()=>{const C=[];n.overall_rating===0&&C.push("Overall rating is required"),n.cleanliness_rating===0&&C.push("Cleanliness rating is required"),n.accuracy_rating===0&&C.push("Accuracy rating is required"),n.communication_rating===0&&C.push("Communication rating is required"),n.location_rating===0&&C.push("Location rating is required"),n.checkin_rating===0&&C.push("Check-in rating is required"),n.value_rating===0&&C.push("Value rating is required"),n.review_text.length<50&&C.push("Review text must be at least 50 characters"),n.review_text.length>1e3&&C.push("Review text must be no more than 1000 characters");const z=C.length===0;l(P=>({...P,validation_errors:C,can_submit:z}))},[n]);const b=(C,z)=>{i(P=>({...P,[C]:z}))},y=C=>{i(z=>({...z,review_text:C}))},N=C=>{i(z=>({...z,review_photos:C}))},v=async()=>{a.can_submit&&await w.mutateAsync(n)};return x?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading booking details..."})]})})}):f||!p?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find this booking or you don't have permission to review it."}),s.jsx(q,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Dashboard"})]})})}):a.is_submitted?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Review Submitted!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for sharing your experience. Your review helps build trust in our community."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(q,{to:"/dashboard",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Dashboard"}),s.jsx(q,{to:`/property/${p.property_id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Property"})]})]})})}):c?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Review Preview"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please review your submission before publishing"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:(d=p.property)==null?void 0:d.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[(j=p.property)==null?void 0:j.city,", ",(_=p.property)==null?void 0:_.country]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Stay: ",new Date(p.check_in_date).toLocaleDateString()," - ",new Date(p.check_out_date).toLocaleDateString()]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Overall Rating"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(C=>s.jsx("svg",{className:`w-5 h-5 ${C<=n.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},C))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.overall_rating," stars"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Category Ratings"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{key:"cleanliness_rating",label:"Cleanliness"},{key:"accuracy_rating",label:"Accuracy"},{key:"communication_rating",label:"Communication"},{key:"location_rating",label:"Location"},{key:"checkin_rating",label:"Check-in"},{key:"value_rating",label:"Value"}].map(C=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C.label}),s.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(z=>s.jsx("svg",{className:`w-4 h-4 ${z<=n[C.key]?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},z))})]},C.key))})]}),n.review_text&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Written Review"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.review_text})})]}),n.review_photos.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Photos (",n.review_photos.length,")"]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.review_photos.map((C,z)=>s.jsx("img",{src:C,alt:`Review photo ${z+1}`,className:"w-full h-24 object-cover rounded-lg"},z))})]}),n.is_anonymous&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Anonymous Review:"})," Your name will not be displayed with this review."]})})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Edit"}),s.jsx("button",{type:"button",onClick:v,disabled:a.is_submitting||!a.can_submit,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a.is_submitting?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Publishing..."]}):"Publish Review"})]})]})})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Write a Review"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Share your experience to help future guests and improve our community"})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900",children:(A=p.property)==null?void 0:A.title}),s.jsxs("p",{className:"text-sm text-blue-700",children:[(L=p.property)==null?void 0:L.city,", ",(g=p.property)==null?void 0:g.country]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Your stay: ",new Date(p.check_in_date).toLocaleDateString()," - ",new Date(p.check_out_date).toLocaleDateString(),"  ",p.nights," night",p.nights!==1?"s":""]})]}),s.jsxs("div",{className:"text-center py-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"How was your stay?"}),s.jsx("p",{className:"text-gray-600",children:"Your honest feedback helps build trust in our community and helps other guests make informed decisions."})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(tr,{rating:n.overall_rating,onRatingChange:C=>b("overall_rating",C),label:"Overall Experience",description:"How would you rate your overall experience?"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Rate Your Experience"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(tr,{rating:n.cleanliness_rating,onRatingChange:C=>b("cleanliness_rating",C),label:"Cleanliness",description:"How clean was the property?"}),s.jsx(tr,{rating:n.accuracy_rating,onRatingChange:C=>b("accuracy_rating",C),label:"Accuracy",description:"How accurate was the listing description?"}),s.jsx(tr,{rating:n.communication_rating,onRatingChange:C=>b("communication_rating",C),label:"Communication",description:"How was communication with the host?"}),s.jsx(tr,{rating:n.location_rating,onRatingChange:C=>b("location_rating",C),label:"Location",description:"How was the location and neighborhood?"}),s.jsx(tr,{rating:n.checkin_rating,onRatingChange:C=>b("checkin_rating",C),label:"Check-in",description:"How smooth was the check-in process?"}),s.jsx(tr,{rating:n.value_rating,onRatingChange:C=>b("value_rating",C),label:"Value",description:"How was the value for money?"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{htmlFor:"review-text",className:"text-lg font-medium text-gray-900",children:["Tell us about your experience ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[n.review_text.length,"/api/1000 characters"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Help other guests by sharing specific details about your stay. What did you love? What could be improved?"}),s.jsx("textarea",{id:"review-text",rows:6,value:n.review_text,onChange:C=>y(C.target.value),placeholder:"Tell future guests about your experience. Was the property as described? How was the host? What made your stay special?",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.review_text.length<50||n.review_text.length>1e3?"border-red-300":"border-gray-300"}`,maxLength:1e3}),s.jsx("div",{className:"text-xs text-gray-500",children:"Minimum 50 characters required. Be specific and helpful for future guests."})]}),s.jsx(n1,{photos:n.review_photos,onPhotosChange:N,uploading:o.uploading_photos,errors:o.upload_errors}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Review Options"}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("input",{id:"anonymous",type:"checkbox",checked:n.is_anonymous,onChange:C=>i(z=>({...z,is_anonymous:C.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"anonymous",className:"text-sm font-medium text-gray-700",children:"Submit anonymously"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Your name won't be displayed with this review, but it will still be helpful to other guests."})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Review Guidelines"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Be honest and constructive in your feedback"}),s.jsx("li",{children:" Focus on your personal experience during the stay"}),s.jsx("li",{children:" Avoid personal information about yourself or others"}),s.jsx("li",{children:" Keep photos appropriate and relevant to your stay"}),s.jsx("li",{children:" Help other guests by being specific and detailed"})]})]}),a.validation_errors.length>0&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Please complete the following:"}),s.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:a.validation_errors.map((C,z)=>s.jsx("li",{children:C},z))})]})}),a.submission_error&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Error:"})," ",a.submission_error]})})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx(q,{to:"/dashboard",className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>h(!0),disabled:!a.can_submit,className:"px-4 py-2 border border-blue-300 text-sm font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Preview Review"}),s.jsx("button",{type:"button",onClick:v,disabled:a.is_submitting||!a.can_submit,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a.is_submitting?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})})})})},a1=()=>{var u;const{booking_id:e}=Pr(),[t,r]=Lt(),n=U(m=>m.authentication_state.current_user),i=U(m=>m.authentication_state.auth_token),a=U(m=>m.user_preferences.currency),l=U(m=>m.set_payment_processing),o=U(m=>m.set_booking_error),[c,h]=k.useState(parseInt(t.get("step")||"1")),[p,x]=k.useState({booking_id:e||"",amount:0,currency:a,payment_method:"",transaction_id:null}),[f,w]=k.useState({street_address:"",city:"",state:"",postal_code:"",country:""}),[b,y]=k.useState({card_number:"",cardholder_name:"",expiry_month:"",expiry_year:"",cvv:""}),[N,v]=k.useState({is_processing:!1,payment_step:1,processing_stage:"idle",error_message:null,requires_3ds:!1,redirect_url:null}),[d,j]=k.useState({}),[_,A]=k.useState(!1),L=[{method_id:"credit_card",method_type:"credit_card",display_name:"Credit/Debit Card",is_available:!0,processing_fee:0},{method_id:"paypal",method_type:"paypal",display_name:"PayPal",is_available:!0,processing_fee:2.9},{method_id:"bank_transfer",method_type:"bank_transfer",display_name:"Bank Transfer",is_available:!0,processing_fee:0}],{data:g,isLoading:C,error:z}=ae({queryKey:["booking",e],queryFn:async()=>{if(!e||!i)throw new Error("Missing booking ID or authentication");return(await W.get(`https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data},enabled:!!e&&!!i,staleTime:5*60*1e3,retry:1}),P=De({mutationFn:async m=>(await W.post("https://123real-estate-app-for-tourists-hot-countries.launchpulse.ai/api/payments",m,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data,onMutate:()=>{v(m=>({...m,is_processing:!0,processing_stage:"processing",error_message:null})),l(!0)},onSuccess:()=>{v(m=>({...m,is_processing:!1,processing_stage:"completed",error_message:null})),l(!1),h(3),R(3)},onError:m=>{var F,X;const S=((X=(F=m.response)==null?void 0:F.data)==null?void 0:X.message)||"Payment processing failed";v(pe=>({...pe,is_processing:!1,processing_stage:"failed",error_message:S})),l(!1),o(S)}}),R=k.useCallback(m=>{r(S=>{const F=new URLSearchParams(S);return F.set("step",m.toString()),F})},[r]);k.useEffect(()=>{g&&x(m=>({...m,booking_id:g.booking_id,amount:g.total_price,currency:g.currency}))},[g]);const M=k.useCallback(()=>{const m={};return c===1&&!p.payment_method&&(m.payment_method="Please select a payment method"),c===2&&(p.payment_method==="credit_card"&&(b.card_number?/^\d{13,19}$/.test(b.card_number.replace(/\s/g,""))||(m.card_number="Invalid card number format"):m.card_number="Card number is required",b.cardholder_name||(m.cardholder_name="Cardholder name is required"),(!b.expiry_month||!b.expiry_year)&&(m.expiry="Expiry date is required"),b.cvv?/^\d{3,4}$/.test(b.cvv)||(m.cvv="Invalid CVV format"):m.cvv="CVV is required"),f.street_address||(m.street_address="Street address is required"),f.city||(m.city="City is required"),f.postal_code||(m.postal_code="Postal code is required"),f.country||(m.country="Country is required")),j(m),Object.keys(m).length===0},[c,p.payment_method,b,f]),te=m=>{x(S=>({...S,payment_method:m})),j(S=>({...S,payment_method:""}))},J=()=>{if(M()){const m=c+1;h(m),R(m)}},T=()=>{const m=c-1;h(m),R(m)},H=()=>{M()&&g&&P.mutate(p)},Y=()=>{v(m=>({...m,error_message:null,processing_stage:"idle"})),o(null),h(2),R(2)};return!n||!i||!e?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access payment processing."}),s.jsx(q,{to:"/auth?mode=login",className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors",children:"Sign In"})]})})}):C?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment information..."})]})})}):z||!g?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Payment Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Unable to load booking information. Please try again or contact support."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors",children:"Retry"}),s.jsx(q,{to:"/dashboard",className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors",children:"Go to Dashboard"})]})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Payment"}),s.jsx("p",{className:"text-gray-600",children:"Secure payment processing for your booking"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(m=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${m<=c?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:m}),m<3&&s.jsx("div",{className:`w-16 h-1 ${m<c?"bg-blue-600":"bg-gray-300"}`})]},m))})}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2 max-w-xs mx-auto",children:[s.jsx("span",{children:"Payment Method"}),s.jsx("span",{children:"Payment Details"}),s.jsx("span",{children:"Confirmation"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Select Payment Method"}),s.jsx("div",{className:"space-y-4",children:L.map(m=>s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>te(m.method_id),className:`w-full p-4 border-2 rounded-lg text-left transition-colors ${p.payment_method===m.method_id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"w-12 h-8 bg-gray-200 rounded flex items-center justify-center",children:[m.method_type==="credit_card"&&s.jsx("span",{className:"text-xs font-bold",children:"CARD"}),m.method_type==="paypal"&&s.jsx("span",{className:"text-xs font-bold text-blue-600",children:"PP"}),m.method_type==="bank_transfer"&&s.jsx("span",{className:"text-xs font-bold",children:"BANK"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.display_name}),m.processing_fee>0&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Processing fee: ",m.processing_fee,"%"]})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${p.payment_method===m.method_id?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:p.payment_method===m.method_id&&s.jsx("div",{className:"w-full h-full rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]})})},m.method_id))}),d.payment_method&&s.jsx("p",{className:"text-red-600 text-sm mt-2",children:d.payment_method}),s.jsxs("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Your payment is secure"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-green-700",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"SSL Encrypted"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"PCI DSS Compliant"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Fraud Protection"]})]})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:J,disabled:!p.payment_method,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Continue to Payment Details"})})]}),c===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Details"}),p.payment_method==="credit_card"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),s.jsx("input",{type:"text",id:"card_number",value:b.card_number,onChange:m=>{const F=m.target.value.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ");y(X=>({...X,card_number:F})),j(X=>({...X,card_number:""}))},placeholder:"1234 5678 9012 3456",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.card_number?"border-red-500":"border-gray-300"}`}),d.card_number&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.card_number})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardholder_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),s.jsx("input",{type:"text",id:"cardholder_name",value:b.cardholder_name,onChange:m=>{y(S=>({...S,cardholder_name:m.target.value})),j(S=>({...S,cardholder_name:""}))},placeholder:"John Doe",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.cardholder_name?"border-red-500":"border-gray-300"}`}),d.cardholder_name&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.cardholder_name})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"expiry_month",className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),s.jsxs("select",{id:"expiry_month",value:b.expiry_month,onChange:m=>{y(S=>({...S,expiry_month:m.target.value})),j(S=>({...S,expiry:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.expiry?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"MM"}),Array.from({length:12},(m,S)=>S+1).map(m=>s.jsx("option",{value:m.toString().padStart(2,"0"),children:m.toString().padStart(2,"0")},m))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"expiry_year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),s.jsxs("select",{id:"expiry_year",value:b.expiry_year,onChange:m=>{y(S=>({...S,expiry_year:m.target.value})),j(S=>({...S,expiry:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.expiry?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"YYYY"}),Array.from({length:20},(m,S)=>new Date().getFullYear()+S).map(m=>s.jsx("option",{value:m.toString(),children:m},m))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),s.jsx("input",{type:"text",id:"cvv",value:b.cvv,onChange:m=>{const S=m.target.value.replace(/\D/g,"");y(F=>({...F,cvv:S})),j(F=>({...F,cvv:""}))},placeholder:"123",maxLength:4,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.cvv?"border-red-500":"border-gray-300"}`}),d.cvv&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.cvv})]})]}),d.expiry&&s.jsx("p",{className:"text-red-600 text-sm",children:d.expiry})]}),p.payment_method==="paypal"&&s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800",children:"You will be redirected to PayPal to complete your payment securely."})}),p.payment_method==="bank_transfer"&&s.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-gray-800 mb-2",children:"Bank transfer instructions will be provided after confirmation."}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please note: Bank transfers may take 3-5 business days to process."})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Billing Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"street_address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),s.jsx("input",{type:"text",id:"street_address",value:f.street_address,onChange:m=>{w(S=>({...S,street_address:m.target.value})),j(S=>({...S,street_address:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.street_address?"border-red-500":"border-gray-300"}`}),d.street_address&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.street_address})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),s.jsx("input",{type:"text",id:"city",value:f.city,onChange:m=>{w(S=>({...S,city:m.target.value})),j(S=>({...S,city:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.city?"border-red-500":"border-gray-300"}`}),d.city&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.city})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province"}),s.jsx("input",{type:"text",id:"state",value:f.state,onChange:m=>w(S=>({...S,state:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),s.jsx("input",{type:"text",id:"postal_code",value:f.postal_code,onChange:m=>{w(S=>({...S,postal_code:m.target.value})),j(S=>({...S,postal_code:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.postal_code?"border-red-500":"border-gray-300"}`}),d.postal_code&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.postal_code})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),s.jsxs("select",{id:"country",value:f.country,onChange:m=>{w(S=>({...S,country:m.target.value})),j(S=>({...S,country:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.country?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select Country"}),s.jsx("option",{value:"US",children:"United States"}),s.jsx("option",{value:"CA",children:"Canada"}),s.jsx("option",{value:"GB",children:"United Kingdom"}),s.jsx("option",{value:"AU",children:"Australia"}),s.jsx("option",{value:"DE",children:"Germany"}),s.jsx("option",{value:"FR",children:"France"}),s.jsx("option",{value:"ES",children:"Spain"}),s.jsx("option",{value:"IT",children:"Italy"}),s.jsx("option",{value:"NL",children:"Netherlands"}),s.jsx("option",{value:"SE",children:"Sweden"})]}),d.country&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.country})]})]})]})]}),p.payment_method==="credit_card"&&s.jsx("div",{className:"mt-6",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:_,onChange:m=>A(m.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Save this payment method for future bookings"})]})}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx("button",{onClick:T,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors",children:"Back"}),s.jsx("button",{onClick:J,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors",children:"Review Payment"})]})]}),c===3&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Confirmation"}),N.is_processing&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processing your payment..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please do not close this window"})]}),N.processing_stage==="failed"&&N.error_message&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Payment Failed"}),s.jsx("p",{className:"text-red-700 mb-4",children:N.error_message}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{onClick:Y,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Try Again"}),s.jsx("button",{onClick:()=>{h(1),R(1)},className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Change Payment Method"})]})]}),N.processing_stage==="completed"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your booking has been confirmed and you will receive a confirmation email shortly."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(q,{to:"/dashboard",className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors inline-block",children:"View My Bookings"}),s.jsx("button",{onClick:()=>window.print(),className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors",children:"Print Receipt"})]})]}),!N.is_processing&&N.processing_stage==="idle"&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx("span",{className:"font-medium",children:(u=L.find(m=>m.method_id===p.payment_method))==null?void 0:u.display_name})]}),p.payment_method==="credit_card"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Card:"}),s.jsxs("span",{className:"font-medium",children:["   ",b.card_number.slice(-4)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:[p.currency," ",p.amount.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:T,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors",children:"Back"}),s.jsx("button",{onClick:H,disabled:N.is_processing,className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Complete Payment"})]})]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),g.property&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:g.property.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[g.property.city,", ",g.property.country]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:new Date(g.check_in_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-out:"}),s.jsx("span",{className:"font-medium",children:new Date(g.check_out_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Guests:"}),s.jsx("span",{className:"font-medium",children:g.guest_count})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Nights:"}),s.jsx("span",{className:"font-medium",children:g.nights})]})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Price:"}),s.jsxs("span",{children:[g.currency," ",g.base_price.toFixed(2)]})]}),g.cleaning_fee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cleaning Fee:"}),s.jsxs("span",{children:[g.currency," ",g.cleaning_fee.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Service Fee:"}),s.jsxs("span",{children:[g.currency," ",g.service_fee.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees:"}),s.jsxs("span",{children:[g.currency," ",g.taxes_and_fees.toFixed(2)]})]})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:[g.currency," ",g.total_price.toFixed(2)]})]}),s.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Cancellation Policy:"})," Free cancellation until 24 hours before check-in. 50% refund for cancellations within 24 hours."]})})]})})]})]})})})},l1=new kv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),Ex=()=>s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"ml-3 text-gray-600",children:"Loading SunVillas..."})]}),Qt=({children:e})=>{const t=U(n=>n.authentication_state.authentication_status.is_authenticated);return U(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(Ex,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(rc,{to:"/auth?mode=login",replace:!0})},o1=({children:e})=>s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsx(W_,{}),s.jsx(K_,{}),s.jsx("main",{className:"flex-1 relative",children:e}),s.jsx(Q_,{}),s.jsx(G_,{})]}),c1=()=>{const e=U(n=>n.authentication_state.authentication_status.is_loading),t=U(n=>n.authentication_state.authentication_status.is_authenticated),r=U(n=>n.initialize_auth);return k.useEffect(()=>{r()},[r]),e?s.jsx(Ex,{}):s.jsx(H_,{children:s.jsx(av,{children:s.jsx(Rv,{client:l1,children:s.jsx(o1,{children:s.jsxs(Xy,{children:[s.jsx(Me,{path:"/",element:s.jsx(Y_,{})}),s.jsx(Me,{path:"/auth",element:t?s.jsx(rc,{to:"/dashboard",replace:!0}):s.jsx(s1,{})}),s.jsx(Me,{path:"/search",element:s.jsx(J_,{})}),s.jsx(Me,{path:"/property/:property_id",element:s.jsx(X_,{})}),s.jsx(Me,{path:"/destinations",element:s.jsx(Vh,{})}),s.jsx(Me,{path:"/destinations/:destination_slug",element:s.jsx(Vh,{})}),s.jsx(Me,{path:"/book/:property_id",element:s.jsx(Qt,{children:s.jsx(Z_,{})})}),s.jsx(Me,{path:"/payment/:booking_id",element:s.jsx(Qt,{children:s.jsx(a1,{})})}),s.jsx(Me,{path:"/dashboard",element:s.jsx(Qt,{children:s.jsx(e1,{})})}),s.jsx(Me,{path:"/profile",element:s.jsx(Qt,{children:s.jsx(t1,{})})}),s.jsx(Me,{path:"/host",element:s.jsx(Qt,{children:s.jsx(qh,{})})}),s.jsx(Me,{path:"/host/property/:property_id",element:s.jsx(Qt,{children:s.jsx(qh,{})})}),s.jsx(Me,{path:"/messages",element:s.jsx(Qt,{children:s.jsx(Uh,{})})}),s.jsx(Me,{path:"/messages/:conversation_id",element:s.jsx(Qt,{children:s.jsx(Uh,{})})}),s.jsx(Me,{path:"/investments",element:s.jsx(Qt,{children:s.jsx(r1,{})})}),s.jsx(Me,{path:"/review/:booking_id",element:s.jsx(Qt,{children:s.jsx(i1,{})})}),s.jsx(Me,{path:"*",element:s.jsx(rc,{to:"/",replace:!0})})]})})})})})},d1=()=>s.jsx(s.Fragment,{children:s.jsx(c1,{})});ff(document.getElementById("root")).render(s.jsx(d1,{}));
